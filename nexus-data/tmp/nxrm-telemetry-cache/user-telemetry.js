/*

 Copyright (c) 2016 Federico Zivolo and contributors

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in all
 copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
 Chen, Yi-Cyuan 2014-2017
 @license MIT
*/
function sonatypeStartGainsightPx(){!function(m){function a(l){if(b[l])return b[l].exports;var d=b[l]={i:l,l:!1,exports:{}};return m[l].call(d.exports,d,d.exports,a),d.l=!0,d.exports}var b={};a.m=m;a.c=b;a.i=function(a){return a};a.d=function(b,d,t){a.o(b,d)||Object.defineProperty(b,d,{configurable:!1,enumerable:!0,get:t})};a.n=function(b){var d=b&&b.__esModule?function(){return b["default"]}:function(){return b};return a.d(d,"a",d),d};a.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,
b)};a.p="";a(a.s=413)}([function(m,a,b){function l(){return window.location}function d(a,e,c){var b=a[e];c&&(c=void 0,{}.hasOwnProperty.call(a,"Zone")?c=a:{}.hasOwnProperty.call(window,"Zone")&&(c=window),c)&&(b=a[c.Zone.__symbol__(e)]||a[e]);return b}function t(a,e){return(e||(0,O.getConfig)("stripSafeUrlProtocol"))&&(0===a.indexOf("http://")?a=a.substring(7):0===a.indexOf("https://")&&(a=a.substring(8))),0===a.indexOf("www.")&&(a=a.substring("www.")),a.endsWith("/")&&(a=a.substring(0,a.length-1)),
a}function k(a,e,c){var b=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],f=d(a,"addEventListener",(0,O.getConfig)("angularAddEventListener"));if(f)f.call(a,e,c,b);else{if(!a.attachEvent)return!1;a.attachEvent("on"+e,c)}return!0}function v(a,e,c){var b=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],f=d(a,"removeEventListener",(0,O.getConfig)("angularAddEventListener"));f?f.call(a,e,c,b):a.detachEvent&&a.detachEvent("on"+e,c)}function h(a){return-1<[null,void 0].indexOf(a)}function n(a,
e,c){return c||(c=[]),c.push(a+(h(e)||""===e?"":"\x3d"+encodeURIComponent(e))),c}function f(a,e){for(var c in a)a.hasOwnProperty(c)&&(e=n(c,a[c],e));return e}function c(a){return void 0!==a&&null!=a&&"[object Object]"==Object.prototype.toString.call(a)}function g(a){return a.getBoundingClientRect().top+a.offsetHeight/2}function q(a){if(!a)return!1;var e=a.getBoundingClientRect(),c=e.left+a.offsetWidth/2,e=e.top+a.offsetHeight/2,b;b=(0,O.getBody)();var f=window.getComputedStyle(b);b=f.getPropertyValue("margin-top");
b=b.substring(0,b.length-2);b=Number(b);f=f.getPropertyValue("margin-bottom");b=(f=f.substring(0,f.length-2),Number(f)+b);b=(window.innerHeight-b)/2;a=g(a);return!(10>Math.abs(b-a))||0>c||c>Math.min(document.documentElement.clientWidth,window.innerWidth)||0>e||e>Math.min(document.documentElement.clientHeight,window.innerHeight)}function w(a){return a&&("string"==typeof a||a instanceof String)}function r(a){return-1<["body","#document","frameset","html"].indexOf(a.nodeName.toLowerCase())}function u(a){return a===
document||-1<["body","frameset","html"].indexOf(a.tagName.toLowerCase())}function p(a,e,c){try{if(a){var b=a.getBoundingClientRect(),f=(window.innerHeight-b.height)/2,g=Math.max((0,O.getBody)().scrollHeight,(0,O.getBody)().offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),p=g-(window.scrollY+b.bottom),r=b.top<f&&!(0,O.isIframe)(),q=p<f&&!(0,O.isIframe)();c=c?{behavior:"smooth"}:{};r?(c.top=0,c.left=0,window.scrollTo(c)):
q?(c.top=g,c.left=0,window.scrollTo(c)):(c.block="center",a.scrollIntoView(c))}}catch(u){e&&e(Error("Error in scrollIntoView "+u))}}function x(a,e,c,b){var f=void 0;return"function"==typeof CustomEvent?f=new CustomEvent(a,{detail:e,cancelable:b||!1,bubbles:c||!1}):(f=document.createEvent("CustomEvent"),f.initCustomEvent(a,c||!1,b||!1,e)),f}function A(a,e){var c=a.substring(0,a.length-2)+"*";return(new RegExp("^"+a.split("*").join(".*")+"$")).test(e+"/")&&(new RegExp("^"+c.split("*").join(".*")+"$")).test(e+
"/")}function B(a,e,c,b){var f=(0,V.getCurrentProductId)(),g=["AP-VFU6ONL15QEY-2","AP-98W68BOG3KCQ-2"];f&&-1===g.indexOf(f)?(b=a,b=a.replace(/\/\*/,"*"),(b=(new RegExp("^"+b.split("*").join(".*")+"$")).test(e))&&!1===c&&R.logger.logInternalError(Error("The rule "+a+" match to url "+e+"/"))):a.endsWith("/*")&&(b=c);return b}function y(a,e,c,b){return a.some(function(a){var f=void 0,g=(new RegExp("^"+a.split("*").join(".*")+"$")).test(e);return b&&a.endsWith("/*")&&(f=A(a,e)),b&&(g=B(a,e,f,g)),c?!g:
g})}function e(a,e,c,b){return a.every(function(a){var f=void 0,g=(new RegExp("^"+a.split("*").join(".*")+"$")).test(e);return b&&a.endsWith("/*")&&(f=A(a,e)),b&&b&&(g=B(a,e,f,g)),c?!g:g})}function D(a){return a.replace(/[.+?^${}()|[\]\\]/g,"\\$\x26")}function z(a){return function(e){13===e.keyCode&&a(e)}}function J(a){if(!a||!a.href)throw Error("getOriginFromAnchorElement - Wrong element was provided, missing href");return a.origin?a.origin:a.protocol+"//"+a.hostname}function F(a){if(!a||!a.href)throw Error("getPathnameFromAnchorElement - Wrong element was provided, missing href");
return a.origin?a.pathname:a.pathname?"/"+a.pathname:""}Object.defineProperty(a,"__esModule",{value:!0});a.isNotEmptyIterable=a.getParams=a.isElementInIframeVisible=a.isValidPort=a.isRootTag=a.isRootNode=a.isEmail=a.getNumberWithFallback=a.trimString=a.paramToObject=a.isNotNullOrUndefined=a.isNullOrUndefined=a.isFunction=a.addEnterKeyDownListener=a.getEnterHandler=a.getUrlParts=a.addStopClickListeners=a.hasElement=a.getHandler=a.addStyle=a.getEscHandlerCallback=a.safeUrl=a.isDefinedStr=a.isUndefinedStr=
a.getPageUrl=a.isWebApp=a.matchUrl=a.escapeRegex=a.matchEither=a.scrollElementToCenter=a.needToScroll=a.createInputConfig=a.retryFunction=a.createMultipleElementsFromString=a.createElementFromString=a.clearAptrinsicSessionStorage=a.searchElementInParentTree=a.checkDarkColor=a.hasParentField=a.isObjectEmpty=a.isEmptyArr=a.makeDraggable=a.setSelectorStrengthLabel=a.removeFromQueryParam=a.getQueryParam=a.addParametersToUrl=a.addParameterToUrl=a.hasParentClass=a.isString=a.isElementVisible=a.findHighestZIndex=
a.hexToRgba=a.setCrossBrowserTransform=a.pushElements=a.createStyle=a.removeChildren=a.isObject=a.addCacheBuster=a.addParameters=a.addParameter=a.convert2Parameters=a.MILLISEC=a.removeEventListener=a.isNotEmptyArr=a.createInput=a.appendElements=a.createElement=a.addEventListener=a.isBlank=a.isEnterAllowedElement=void 0;var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":typeof a},C=function(){return function(a,e){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],b=!0,f=!1,g=void 0;try{for(var p,r=a[Symbol.iterator]();!(b=(p=r.next()).done)&&(c.push(p.value),!e||c.length!==e);b=!0);}catch(q){f=!0,g=q}finally{try{!b&&r["return"]&&r["return"]()}finally{if(f)throw g;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.getWindowLocation=l;a.getNativeFunction=d;a.isElementVisibleProxy=function(a,e,
c){return-1<((0,V.getCurrentProductKey)()||"").indexOf("GLVNMB5BLV8T")?(0,H.isElementVisibleV2)(a,e,c):(0,H.isElementVisible)(a,e,c)};a.dispatchCustomEvent=function(a,e,c,b){document.dispatchEvent(x(a,e,c,b))};a.debounce=function(a,e){var c=void 0;return function(){var b=arguments,f=this;clearTimeout(c);c=setTimeout(function(){return a.apply(f,b)},e)}};a.extractStyleString=function(a,e){var c=a.substring(a.indexOf(e),a.length);return c.substring(0,c.indexOf("}")+1)};a.extractStyleProperties=function(a){var e=
[];return a.substring(a.indexOf("{")+1,a.indexOf("}")).split(";").map(function(a){return a.trim()}).forEach(function(a){a&&(a=a.split(":"))&&2===a.length&&e.push({inlineProperty:a[0],value:a[1]})}),e};a.limitJsonKeys=function(a,e){var c={},b=0,f;for(f in a)if({}.hasOwnProperty.call(a,f)){if(b++>=e)break;c[f]=a[f]}return c};a.isNodeList=function(a){return null!==a&&"object"===(void 0===a?"undefined":I(a))&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&"number"==
typeof a.length&&(0===a.length||"object"===I(a[0])&&0<a[0].nodeType)};a.isOnlyHashChanged=function(a,e){var c=a.indexOf("#"),b=e.indexOf("#");if(-1<c&&-1<b){var f=a.substring(0,c),c=a.substring(c),g=e.substring(0,b),b=e.substring(b);return f===g&&c!==b}return!1};a.parseApiKey=function(a){try{var e=a.split("-");return 3>e.length?null:{groupId:e[1],propertyId:e[2]}}catch(c){R.logger.logInternalError(c)}};var E=b(13),N=b(4),P=b(10),L=b(9),O=b(1),M=b(8),K=b(22),H=b(17),R=b(3),V=b(18),U=document,Q=function(a,
e){for(var c=0;c<e.length;c++)e[c]&&a.appendChild(e[c]);return a},S=function(a,e,c,b,f,g,p,r,q){var u=U.createElement("input");if(u.type=a,void 0!==c&&null!==c&&(u.value=c,u.setAttribute("value",c)),void 0!==b&&(u.placeholder=b),void 0!==e&&null!==e&&(u.className=(0,K.isNotEmptyArr)(e)?e.join(" "):e),f&&(u.disabled=f),g&&(u.setAttribute("checked",g),u.checked=g),p)for(var h in p)p.hasOwnProperty(h)&&u.setAttribute("data-"+h,p[h]);if(r)for(var d in r)r.hasOwnProperty(d)&&u.setAttribute(d,r[d]);return q&&
(Array.isArray(q)||(q=[q]),Q(u,q)),u},T=function(a,e){var c=document.createElement("style");e&&(c.id=e);var b=(0,O.getConfig)("cssNonce");return b&&(c.nonce=b),c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:(c.innerHTML="",c.appendChild(document.createTextNode(a))),c};a.isEnterAllowedElement=function(a){if(a){var e="TEXTAREA"===a.nodeName;return"INPUT"===a.nodeName&&"text"===a.type||e}return!1};a.isBlank=K.isBlank;a.addEventListener=k;a.createElement=function(a,e,c,b){if("text"===a)return U.createTextNode(c);
var f=U.createElement(a);switch(void 0!==e&&null!=e&&(f.className=(0,K.isNotEmptyArr)(e)?e.join(" "):e),a){case "option":f.value=c.value;f.text=c.name;c.selected&&f.setAttribute("selected",c.selected);break;case "a":f.href=c.href;c.blank&&(f.target="_blank");break;case "textarea":f.rows=c.rows;f.cols=c.cols;break;case "input":f.value=c.value;break;case "p":f.innerHTML=c.value;break;case "label":c&&c["for"]&&f.setAttribute("for",c["for"]);break;case "img":c&&c.src&&(f.src=c.src)}if(void 0!==c&&null!=
c&&(void 0!==c.text&&f.appendChild(U.createTextNode(c.text)),c.title&&(f.title=c.title),c.dataAtt))for(a=0;a<c.dataAtt.length;a++)f.setAttribute(c.dataAtt[a].name,c.dataAtt[a].value);return b&&(Array.isArray(b)||(b=[b]),Q(f,b)),f};a.appendElements=Q;a.createInput=S;a.isNotEmptyArr=K.isNotEmptyArr;a.removeEventListener=v;a.MILLISEC=1E3;a.convert2Parameters=function(a){return a.join("\x26")};a.addParameter=n;a.addParameters=f;a.addCacheBuster=function(a){var e=(new Date).getTime()+"-"+E.UUIDGenerator.generateRandom(4);
return Object.assign(a,{cb:e}),a};a.isObject=c;a.removeChildren=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};a.createStyle=T;a.pushElements=function(a,e){for(var c=U.body.getElementsByTagName("*"),b=c.length,f=void 0,g=[],p=(0,O.getConfig)("mapperResizeFullHeightElements"),r=(0,O.getConfig)("mapperResizeFullHeightBody"),q=0;q<b;q++){if(f=window.getComputedStyle(c[q],null),p&&f&&parseInt(f.getPropertyValue("height"))===U.body.clientHeight&&(c[q].style.height="calc(100vh - "+a+"px)"),
f&&"fixed"===f.getPropertyValue("position")){if(w(c[q].className)&&(-1<c[q].className.indexOf("apt")||-1<c[q].className.indexOf("tippy-popper")))continue;var u=c[q],h=f,d=a,n=e;u.parentNode;u.getAttribute("apt-ignore")!==d&&(h=parseInt(u.getAttribute("apt-original")||h.getPropertyValue("top"),10),h!==d&&!n&&(u.style.top=h+d+"px")&&u.setAttribute("apt-original",h),u.setAttribute("apt-ignore",d))}if(f&&"absolute"===f.getPropertyValue("position")&&(!w(c[q].className)||!(-1<c[q].className.indexOf("apt")||
-1<c[q].className.indexOf("tippy-popper")))){u=c[q].parentNode;d=!1;for(n=void 0;u&&"body"!==u.tagName.toLowerCase();){n=N.windowRef.getComputedStyle(u,null);n=n.getPropertyValue("position");if("relative"===n||"fixed"===n||-1<g.indexOf(u)){d=!0;break}u=u.parentNode;!1}d||c[q].getAttribute("apt-ignore")===a||(g.push(c[q]),c[q].style.marginTop=a+"px",u=f.getPropertyValue("top"),!e&&(c[q].style.top=u),c[q].setAttribute("apt-ignore",a))}}f=window.getComputedStyle(U.body,null);r&&f&&parseInt(f.getPropertyValue("height"))===
U.body.clientHeight&&U.body.style.setProperty("box-sizing","border-box","important");U.body.style.setProperty("padding-top",a+"px","important")};a.setCrossBrowserTransform=function(a,e){if(!("style"in a))throw Error("object "+a+" has no 'style' property");a.style.webkitTransform=e;a.style.MozTransform=e;a.style.msTransform=e;a.style.OTransform=e;a.style.transform=e};a.hexToRgba=function(a,e){var c=a.replace("#","");return"rgba("+parseInt(c.substring(0,2),16)+","+parseInt(c.substring(2,4),16)+","+
parseInt(c.substring(4,6),16)+","+e+")"};a.findHighestZIndex=function(a){a=document.querySelectorAll(a);for(var e=0,c=0;c<a.length;c++){var b=Number.parseInt(document.defaultView.getComputedStyle(a[c],null).getPropertyValue("z-index"),10);b>e&&(e=b)}return e};a.isElementVisible=H.isElementVisible;a.isString=w;a.hasParentClass=function(a,e){for(var c=a;c&&!r(c);){if(c.classList.contains(e))return!0;c=(0,H.getParentNode)(c)}return!1};a.addParameterToUrl=function(a,e,c){var b=U.createElement("a");b.href=
a;a=J(b);var f=F(b),g=(0,K.isBlank)(b.search)?"?":"";return g+=n(e,c,b.search?b.search.split("\x26"):null).join("\x26"),[a,f,g,b.hash].join("")};a.addParametersToUrl=function(a,e){var c=U.createElement("a");c.href=a;var b=J(c),g=F(c),p=(0,K.isBlank)(c.search)?"?":"";return p+=f(e,c.search?c.search.split("\x26"):[]).join("\x26"),[b,g,p,c.hash].join("")};a.getQueryParam=function(a){for(var e=l().search.substring(1).split("\x26"),c=0;c<e.length;c++){var b=e[c].split("\x3d");if(b[0]===a)return b[1]}return null};
a.removeFromQueryParam=function(a){for(var e=l().search.substring(1).split("\x26"),c=[],b=0;b<e.length;b++)e[b].split("\x3d")[0]!==a&&""!==e[b]&&""!==e[b]&&c.push(e[b]);return location.protocol+"//"+location.host+location.pathname+(0<c.length?"?"+c.join("\x26"):"")+location.hash};a.setSelectorStrengthLabel=function(a,e){a&&(a.innerText=e.toLowerCase(),a.classList.contains("strong")&&a.classList.remove("strong"),a.classList.contains("medium")&&a.classList.remove("medium"),a.classList.contains("weak")&&
a.classList.remove("weak"),a.classList.add(e.toLowerCase()))};a.makeDraggable=function(a,e){function c(a){a=a||window.event;a.target.classList.add("dragging");r=a.clientX;q=a.clientY;k(document,"mouseup",f);k(document,"mousemove",b)}function b(e){e=e||window.event;g=r-e.clientX;p=q-e.clientY;r=e.clientX;q=e.clientY;a.style.top=a.offsetTop-p+"px";a.style.left=a.offsetLeft-g+"px"}function f(a){a.target.classList.remove("dragging");v(document,"mouseup",f);v(document,"mousemove",b)}var g=0,p=0,r=0,q=
0;e?k(e,"mousedown",c):k(a,"mousedown",c)};a.isEmptyArr=K.isEmptyArr;a.isObjectEmpty=function(a){if(a)for(var e in a)if(a.hasOwnProperty(e))return!1;return!0};a.hasParentField=function(a,e,c){for(;a&&!r(a);){if(a[e]===c)return!0;a=(0,H.getParentNode)(a)}return!1};a.checkDarkColor=function(a){a=a.replace("#","");return 128>(parseInt(a.substring(0,2),16)+parseInt(a.substring(2,4),16)+parseInt(a.substring(4,6),16))/3};a.searchElementInParentTree=function(a,e){for(var c=a;c!=U;){if(c&&c.tagName&&c.tagName.toLowerCase()===
e)return c;c=c.parentNode}return null};a.clearAptrinsicSessionStorage=function(){(0,O.getConfig)("crossProductEngagement")||(N.windowRef.sessionStorage.removeItem("apt.prevStepMap"),N.windowRef.sessionStorage.removeItem("apt.stepId"),N.windowRef.sessionStorage.removeItem("aptGuideSelectedLanguage"),N.windowRef.sessionStorage.removeItem("aptCurrentGuideUrl"),N.windowRef.sessionStorage.removeItem("apt.engagementSessionId"),N.windowRef.sessionStorage.removeItem("aptMapperDockingPosition"))};a.createElementFromString=
function(a){var e=document.createElement("div");return e.innerHTML=a.trim(),e.firstChild};a.createMultipleElementsFromString=function(a){var e=document.createElement("div");return e.innerHTML=a.trim(),e.childNodes};a.retryFunction=K.retryFunction;a.createInputConfig=function(a,e){return S(a,e.classes,e.value,e.placeholder,e.disabled,e.checked,e.dataAtt,e.otherAtt,e.children)};a.needToScroll=q;a.scrollElementToCenter=function(a,e){try{var c=(0,L.detectIE)();!1!==c&&79>c?(a.scrollIntoView(!1),setTimeout(function(){var e=
window.innerHeight/2,c=(0,L.detectIE)()<=M.LAST_IE_VERSION?document.documentElement:(0,O.getBody)(),b=g(a),f=Math.abs(b-e);c.scrollTop+b>e&&(c.scrollTop+=f)},500)):((0,O.getConfig)("viewAlignedScroll")?p(a,e,!0):a.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(function(){q(a)&&((0,O.getConfig)("viewAlignedScroll")?p(a,e,!1):a.scrollIntoView({block:"center"}))},800))}catch(b){e&&e(Error("Error in scrollIntoView "+b))}};a.matchEither=y;a.escapeRegex=D;a.matchUrl=function(a,c,b,f){Array.isArray(a)||
(a=[a]);var g=!1;a=(0,P.arrayFrom)(a,function(a){return a=t(a),c.endsWith("/")&&(g=!0),D(a)});return c=t(c),f?e(a,c,b,g):y(a,c,b,g)};a.isWebApp=function(a){var e=a.split("-");if(3>e.length)throw"invalid key "+a;return"2"===e[2]};a.getPageUrl=function(){var a=l(),e="localhost"===a.hostname||(0,K.isValidPort)(a.port)?a.host:a.hostname;return a.protocol+"//"+e+a.pathname+a.search+a.hash};a.isUndefinedStr=function(a){return void 0===a||null===a||"string"!=typeof a};a.isDefinedStr=function(a){return void 0!==
a&&null!==a&&"string"==typeof a};a.safeUrl=t;a.getEscHandlerCallback=function(a){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return function(c){c=c||N.windowRef.event;("key"in c?"Escape"===c.key||"Esc"===c.key:27===c.keyCode)&&(e&&c.preventDefault(),a())}};a.addStyle=function(a,e,c){var b=document.getElementById(e);b?b.styleSheet?b.styleSheet.cssText=a:(b.innerHTML="",b.appendChild(document.createTextNode(a))):b=T(a,e);c?c.parentNode.insertBefore(b,c):(0,O.getBody)().appendChild(b)};
a.getHandler=function(a,e){var c=this,b=E.UUIDGenerator.generateV4Id(),f=[];return 2<arguments.length&&(f=Array.prototype.slice.call(arguments,2)),a?(f.unshift(b),[b,function(a){var b=(0,P.arrayFrom)(f);b.unshift(a);e.apply(c,b)}]):[b,function(){var a=(0,P.arrayFrom)(f);a.unshift(b);e.apply(c,a)}]};a.hasElement=function(a,e){for(var c=e;c&&!u(c);){if(c===a)return!0;c=(0,H.getParentNode)(c)}return!1};a.addStopClickListeners=function(a,e){e||(e=["click","mousedown","mouseup"]);a.forEach(function(a){e.forEach(function(e){return k(a,
e,function(a){a.stopImmediatePropagation()})})})};a.getUrlParts=function(){var a=l();return["localhost"===a.hostname?a.host:a.hostname,a.pathname,a.search,a.hash]};a.getEnterHandler=z;a.addEnterKeyDownListener=function(a,e){var c=z(e);return k(a,"keydown",c),c};a.isFunction=function(a){return a&&("function"==typeof a||a instanceof Function)};a.isNullOrUndefined=h;a.isNotNullOrUndefined=function(a){return-1===[null,void 0].indexOf(a)};a.paramToObject=function(a,e){return e&&c(e)||(e={}),a.forEach(function(a){a=
a.split("\x3d");2>a.length||(e[a[0]]=a.slice(1).join(""))}),e};a.trimString=function(a){return(0,K.isBlank)(a)?a:a.trim()};a.getNumberWithFallback=function(a,e){return isNaN(a)||!a&&0!==a?e:a};a.isEmail=function(a){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)};a.isRootNode=r;a.isRootTag=u;a.isValidPort=K.isValidPort;a.isElementInIframeVisible=function(a,e,c){var b=!0;if(e){b=document.elementFromPoint(a.left+
a.width/2,a.top+a.height/2);a="true"===b.getAttribute("data-apt-ignore-visible");var f=b.getAttribute("class")||"",f=b!==(0,O.getBody)()&&-1<f.indexOf("apt");e=b===e;c=!!c&&(b===c||c.contains(b));b=e||a||f||c}return b};a.getParams=function(){var a={},e=document.currentScript.src.split("?"),c=l().search.substring(1);return 2===e.length&&[c,e[1]].forEach(function(e){e.split("\x26").forEach(function(e){e=e.split("\x3d");e=C(e,2);a[e[0]]=e[1]},{})}),a};a.isNotEmptyIterable=function(a){return a&&a.length&&
0<a.length}},function(m,a,b){function l(a){var c=h[a];if(null===c)throw Error("not found any value for config "+a);return c}function d(){return Object.assign({},h)}function t(){var a=window.self!==window.top.parent&&l("iframeModeEnabled")&&!window.runVue;return a?window.self!==window.top.parent.self:a}function k(a){return-1<u.indexOf(a)&&("identify"!==a||!l("enableIdentifyFromIFrame"))}Object.defineProperty(a,"__esModule",{value:!0});a.disableIframeMode=a.getWidgetArticleByIdEndpoint=a.widgetContentEndpointGetter=
a.getCachedConfig=a.setCachedConfig=a.getAssetEndpoint=a.disableTag=a.setKcConfigByName=a.setKcConfig=a.getKcConfig=a.getDefaultConfiguration=a.updateConfigChangeHandlers=a.getConfigObj=a.isIframe=a.isIframeDisabled=a.featureEnabled=a.getConfig=a.overrideConfig=a.trackSinglePageEndpoint=a.trackSingleStepEndpoint=a.surveySubmitUrl=a.trackSurveyCompleteEndpoint=a.snoozeUrl=a.fetchFeatureRuleEndpoint=a.desktopEngagementTrackEndpoint=a.trackKcEndpoint=a.widgetUrl=a.staticContentHost=a.getAllInAppEndpoint=
a.refreshBadgeEndpoint=a.badgeTrackEndpoint=a.trackStepEndpoint=a.trackMultiStepEndpoint=a.getWidgetSingleDocEndpoint=a.getWidgetDocsEndpoint=a.getWidgetContentEndpoint=a.getWidgetConfigUrl=a.getKnowledceCenterConfigEndpoint=a.getConfigEndpoint=a.ongoingEngagementEndpoint=a.ondemandEndpoint=a.internalErrorEndpoint=a.logErrorEndpoint=a.accountEndpoint=a.engagementTrackEndpoint=a.notificationStateEndpoint=a.notificationEndpoint=a.campaignEndpoint=a.commandEndPointV2=a.commandEndpoint=a.serverEndpoint=
a.serverEndpointBase=a.trackWidgetExternalArticleInfix=void 0;a.getBody=function(){return l("framesetMode")?document.documentElement:document.body};m=b(5);var v=b(22),h={enableTag:!0,maxEngagementCalls:1,engagementCallDelay:750,filterType:"mask",filterUrls:[],nameParamFilterType:"mask",namedParamFilter:[],autoTrackHash:!1,widgetEnabled:!1,trackLevel:3,autoClickTrack:!0,autoTrack:!0,autoTrackPage:!0,iframeModeEnabled:!0,elementAttributeWhitelist:[],engagementExcludeUrl:[],delayClickEvent:!1,delayClickEventTime:2E3,
textMatchEnabled:!1,guideAdvanceOnHover:!1,espProxyDomain:void 0,contentProxyDomain:void 0,storageProxyDomain:void 0,enableBadge:!0,badgeRefreshInterval:5,setSessionExternally:!1,usePOST:!1,allowCrossDomain:!1,enableFullStory:!1,fullDomainCookie:!1,cssFileEndpoint:void 0,widgetFileEndpoint:void 0,multipleProductsPerDomain:!0,fetchKcType:"automatic",kcDisplayType:"default",kcPositionType:"injection",sfdcTemplate:void 0,overrideBotSearchContextUrl:void 0,htmlSanitization:!1,htmlSanitizationAllowedDomains:void 0,
mapperResizeFullHeightElements:!1,sessionCookieTTL:18E5,enableIdentifyFromIFrame:!1,engagementChecksumFileUrl:void 0,cssNonce:void 0,enableKcSecureArticle:!1,useSessionStorageEditorToken:!1,secureCookie:!1,mapperResizeFullHeightBody:!1,stripSafeUrlProtocol:!0,elementAttributeDenyMap:{},maskUrlFunction:void 0,trustedOrigin:void 0,angularMutationObserver:!1,badgeUseInterval:!1,badgeRepositionInterval:500,enableModalBodyScroll:!0,evaluateEngRuleOnNavigation:!1,usesShadowDom:!1,dockMapper:!1,kcAllowedFuncNames:[],
usePointerEvent:!0,badgesUseFixedPosition:!1,crossOriginStyle:!1,viewAlignedScroll:!1,newProductMapper:!0,framesetMode:!1,angularAddEventListener:!1,crossProductEngagement:!1,queryParamsInHash:!1,clientSideEngagementTracking:!1,engagementEditorV2AutoSave:!1,trackPageTitles:!1,excludeUrls:[],keyboardTriggerClick:!1,localStorageCookie:!1,htmlSanitizationAllowedSchemes:void 0,tooltipDynamicReposition:!1,requestTimeoutDefault:0,requestTimeoutCritical:0,supportFixedPosition:!1,strictProductVerification:!1,
supportAutoHashChangeDetection:!1,widgetNonce:void 0,keepRuleUrlHash:!1,elementClickToPointer:!1,allowBlankSrc:!1},n=[],f=(a.trackWidgetExternalArticleInfix="track/article/external",a.serverEndpointBase="https://esp.aptrinsic.com/rte"),c=a.serverEndpoint=f+"/v1";a.commandEndpoint=c+"/command";a.commandEndPointV2=f+"/v2/command";a.campaignEndpoint=c+"/engagements/single";a.notificationEndpoint=c+"/notification/list";a.notificationStateEndpoint=c+"/notification/state";a.engagementTrackEndpoint=c+"/engagement/track";
a.accountEndpoint=c+"/account";a.logErrorEndpoint=c+"/error/log";a.internalErrorEndpoint=c+"/activity/error";a.ondemandEndpoint=c+"/engagement/ondemand";a.ongoingEngagementEndpoint=c+"/engagement/ongoing";a.getConfigEndpoint=c+"/configuration";a.getKnowledceCenterConfigEndpoint=f+"/v2/kc";a.getWidgetConfigUrl=c+"/kc/config";var g=a.getWidgetContentEndpoint=f+"/v2/kc/content";a.getWidgetDocsEndpoint=f+"/v2/kc/docs";a.getWidgetSingleDocEndpoint=f+"/v2/kc/doc";a.trackMultiStepEndpoint=c+"/engagement/multistep/track";
a.trackStepEndpoint=c+"/engagement/multistep/step/track";a.badgeTrackEndpoint=c+"/badge/track";a.refreshBadgeEndpoint=c+"/badges/full/sync";a.getAllInAppEndpoint=c+"/inapp";var q=a.staticContentHost="https://web-sdk.aptrinsic.com",w=a.widgetUrl="https://web-sdk.aptrinsic.com/widget/aptrinsic-widget.js";a.trackKcEndpoint=c+"/kc";a.desktopEngagementTrackEndpoint=""+f+"/v1/desktop/engagement";a.fetchFeatureRuleEndpoint=""+f+"/api/v1/feature/client";a.snoozeUrl=c+"/engagement/track/snooze";a.trackSurveyCompleteEndpoint=
""+f+"/v1/engagement/survey/completed";a.surveySubmitUrl=c+"/engagement/survey";a.trackSingleStepEndpoint=c+"/engagement/survey/step";a.trackSinglePageEndpoint=c+"/engagement/survey/page";var r={click:2,pageView:1,form:1,identify:0,engagementPull:0},u=["pageView","identify","sessionInitialized","engagementPull"],p={},x=void 0,A=["labels"],B=void 0,y=new m.LocalCache;a.overrideConfig=function(e,b,r,u){var w=d();if((0,v.isObject)(e))for(var x in e){var A;if(A=e.hasOwnProperty(x)&&h.hasOwnProperty(x))A=
e[x],A=("string"!=typeof A||!(0,v.isBlank)(A))&&(!Array.isArray(A)||!(0,v.isEmptyArr)(A));A&&(-1===n.indexOf(x)||u)&&(h[x]=e[x],r&&n.push(x))}h.autoTrack?h.autoClickTrack||(h.trackLevel=1):h.trackLevel=0;if(b){e=h;for(var k in p)p.hasOwnProperty(k)&&w[k]!==e[k]&&p[k](w[k],e[k])}w=h.espProxyDomain;k=h.contentProxyDomain;w&&!w.startsWith("http")&&(w="https://"+w);k&&!k.startsWith("http")&&(k="https://"+k);w&&(a.serverEndpointBase=f=w+"/rte",a.serverEndpoint=c=f+"/v1",a.commandEndpoint=c+"/command",
a.commandEndPointV2=f+"/v2/command",a.campaignEndpoint=c+"/engagements/single",a.notificationEndpoint=c+"/notification/list",a.notificationStateEndpoint=c+"/notification/state",a.engagementTrackEndpoint=c+"/engagement/track",a.accountEndpoint=c+"/account",a.logErrorEndpoint=c+"/error/log",a.internalErrorEndpoint=c+"/activity/error",a.ondemandEndpoint=c+"/engagement/ondemand",a.ongoingEngagementEndpoint=c+"/engagement/ongoing",a.getConfigEndpoint=c+"/configuration",a.getKnowledceCenterConfigEndpoint=
f+"/v2/kc",a.getWidgetConfigUrl=c+"/kc/config",a.trackMultiStepEndpoint=c+"/engagement/multistep/track",a.trackStepEndpoint=c+"/engagement/multistep/step/track",a.getWidgetContentEndpoint=g=f+"/v2/kc/content",a.getWidgetDocsEndpoint=f+"/v2/kc/docs",a.getAllInAppEndpoint=c+"/inapp",a.getWidgetSingleDocEndpoint=f+"/v2/kc/doc",a.desktopEngagementTrackEndpoint=f+"/v1/desktop/engagement",a.trackSurveyCompleteEndpoint=f+"/v1/engagement/survey/completed",a.fetchFeatureRuleEndpoint=""+f+"/api/v1/feature/client",
a.snoozeUrl=c+"/engagement/track/snooze",a.surveySubmitUrl=c+"/engagement/survey",a.trackSingleStepEndpoint=c+"/engagement/survey/step",a.trackSinglePageEndpoint=c+"/engagement/survey/page",a.trackKcEndpoint=c+"/kc",a.refreshBadgeEndpoint=c+"/badges/full/sync",a.badgeTrackEndpoint=c+"/badge/track");k&&(a.staticContentHost=q=k)};a.getConfig=l;a.featureEnabled=function(a){return(!t()||!k(a))&&("pageView"===a?0<h.trackLevel&&l("autoTrackPage"):r[a]<=h.trackLevel)};a.isIframeDisabled=k;a.isIframe=t;a.getConfigObj=
d;a.updateConfigChangeHandlers=function(a,c){p[a]=c};a.getDefaultConfiguration=function(){return{enableTag:!0,maxEngagementCalls:2,engagementCallDelay:500,filterType:"mask",filterUrls:[],nameParamFilterType:"mask",namedParamFilter:[],autoTrackHash:!1,widgetEnabled:!1,trackLevel:3,autoClickTrack:1,autoTrack:1,autoTrackPage:!0,iframeModeEnabled:!0}};a.getKcConfig=function(){return x};a.setKcConfig=function(a){if(x=a,B)for(var c in B)a.hasOwnProperty(c)||(x[c]=B[c])};a.setKcConfigByName=function(a,c){(0,
v.isObject)(x)&&(x[a]=c);-1!==A.indexOf(a)&&(B=B||{},B[a]=c)};a.disableTag=function(){h.enableTag=!1};a.getAssetEndpoint=function(a){switch(a){case "style":return l("cssFileEndpoint")||q+"/style.css";case "widget":return l("widgetFileEndpoint")||w;default:return null}};a.setCachedConfig=function(a,c){y.setdata(a,c)};a.getCachedConfig=function(a){return y.getKey(a)};a.widgetContentEndpointGetter=function(){return g};a.getWidgetArticleByIdEndpoint=function(){return g+"/article"};a.disableIframeMode=
function(){h.iframeModeEnabled=!1}},,function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.logger=void 0;var l=function(){function a(c,b){for(var f=0;f<b.length;f++){var g=b[f];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(c,b,f){return b&&a(c.prototype,b),f&&a(c,f),c}}(),d=b(4),t=b(12),k=b(1),v=b(7),h=b(22),n=b(20),f=b(60),c=b(59),g=d.eventTrackData;m=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.debugMode="true"===(c.LocalStorageCookie.getCookie("apt.debug")||f.NativeCookie.getCookie("apt.debug"))}return l(a,[{key:"log",value:function(a){this.debugMode&&console&&console.log&&console.log(a)}},{key:"trace",value:function(a){this.debugMode&&console&&console.trace&&console.trace(a)}},{key:"logInternalMessage",value:function(a){if((0,k.getConfig)("enableTag")&&!(0,k.isIframe)()){var c="aptrinsic web sdk error:\n"+JSON.stringify(a)+"\n";this.log(c);t.AjaxUtil.postData(k.internalErrorEndpoint+
"?p\x3d"+g.data[d.productIdParameter],a,void 0,void 0,void 0,void 0,!0)}}},{key:"logInternalError",value:function(a,c,b){if((0,k.getConfig)("enableTag")){if((0,k.isIframe)())return c||(c=""),c+="Error from Iframe: "+window.location.toString(),a=v.IframeRequest.getIframeRequest((0,h.getIframeId)(),"apt-log",{message:a.message,stackTrace:a.stack,extraMessage:c}),void window.top.postMessage(JSON.stringify(a),"*");var f="aptrinsic web sdk error: ";c&&(f+=c+"\n");f+=a.message;a.stack?(f+=", stack trace: "+
a.stack,this.log(f)):(f+=a.message,a.stack?(f+=", stack trace: "+a.stack,this.log(f)):this.trace(f));this.reportToServer(f,b)}}},{key:"reportToServer",value:function(a,c){c&&t.AjaxUtil.postData(k.logErrorEndpoint,{url:(0,n.getFullUrlMasked)(),apiKey:g.data[d.productIdParameter],message:a,applicationVersion:d.applicationVersion},void 0,void 0,void 0,void 0,!0)}}]),a}();a.logger=new m},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.EXTRA_ATTRIBUTES_BY_ELEMENT_TYPE=a.path=a.host=
a.externalEventListeners=a.globalContextCache=a.eventTrackData=a.aptrinsicGlobalObjName=a.decode=a.documentRef=a.windowRef=a.applicationVersion=a.aptrinsicIdParam=a.sessionIdParam=a.userIdParameter=a.productIdParameter=a.apiMethods=a.trackApiMethod=void 0;m=b(5);b=a.trackApiMethod="track";b=(a.apiMethods=[b,"get","users","set","identify","initWithExternalState","carousel","login","lead","account","checklog","event","setOnce","remove","pageView","send","bot","kcb","reset","addListener","config","render"],
a.productIdParameter="p",a.userIdParameter="v",a.sessionIdParam="s",a.aptrinsicIdParam="ai",a.applicationVersion="0.53.0",a.windowRef=window);a.documentRef=document;a.decode=decodeURIComponent;a.aptrinsicGlobalObjName="aptrinsic";a.eventTrackData=new m.LocalCache;a.globalContextCache=new m.LocalCache;a.externalEventListeners={};a.host=b.location.hostname;a.path=b.location.pathname+b.location.search+b.location.hash;a.EXTRA_ATTRIBUTES_BY_ELEMENT_TYPE={button:["name","value","type"],img:["src","alt"],
select:["name"],textarea:["name"],input:["name","type"],a:["href"]}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function a(b,d){for(var l=0;l<d.length;l++){var h=d[l];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(b,h.key,h)}}return function(b,k,l){return k&&a(b.prototype,k),l&&a(b,l),b}}();a.LocalCache=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.data={};this.callbacks=[]}return l(a,[{key:"getdata",value:function(){return this.data}},{key:"onChange",value:function(a){a&&"function"==typeof a&&this.callbacks.push(a)}},{key:"toString",value:function(){return JSON.stringify(this.data)}},{key:"setdata",value:function(a,b){var d=this;try{this.data[a]=b,this.callbacks.forEach(function(a){a(d.data)})}catch(h){}}},{key:"mergeData",value:function(a,b,d){if(void 0!==b&&null!=b&&"[object Object]"==Object.prototype.toString.call(b)){var h=this.data[a];
h||(h={});d?Object.keys(b).forEach(function(a){h.hasOwnProperty(a)||(h[a]=b[a])}):Object.assign(h,b);this.data[a]=h}else{var n=this.getKey(a);d?!n&&this.setdata(a,b):this.setdata(a,b)}}},{key:"addToMap",value:function(a,b,d){var h=this.data[a];h||(h={});h[b]||(h[b]={});Object.assign(h[b],d);this.data[a]=h}},{key:"getKey",value:function(a){return this.data[a]}},{key:"deleteKey",value:function(a){delete this.data[a]}}]),a}();a.cacheSet="setdata";a.cacheGetAll="getdata";a.cacheGet="getKey";a.cacheGetAsString=
"toString";a.cacheMerge="mergeData";a.cacheOnChange="onChange"},function(m,a,b){function l(a){var e=(0,c.getConfig)("cssNonce");e&&(a=a.replace(/<style(>|[ ]+[^>]*>)/g,'\x3cstyle nonce\x3d"'+e+'"$1'));return a}function d(a){var e=""+ +new Date+Math.random();try{return a[e]="asd","asd"===a[e]}catch(c){return!1}}function t(a,e,c){return e[c?"querySelectorAll":"querySelector"](a)}function k(a,c,b){var g=void 0,p=void 0,q=null;for(a=a.firstChild;a;a=a.nextSibling){var g=a.nodeType,p="",r;if(!(r=g===y)&&
(r=g===e&&-1==B.indexOf(a.tagName.toLowerCase())))a:{for(r=a;r&&"BODY"!==r.tagName;){if(1===r.nodeType&&(r.classList.contains("apt-guide-popup")||"true"===r.getAttribute("data-apt-disable-selector")||-1<r.classList.value.indexOf("apt-")||-1<r.classList.value.indexOf("aptr-"))){r=!1;break a}r=r.parentNode}r=!0}if(r)if(p=a.textContent,p=p.trim(),a.childNodes&&0<a.childNodes.length){g=void 0;r="";switch(c){case "is":case "startsWith":case "endsWith":case "contains":g="contains";r=b;break;case "isNot":case "notContains":case "notStartsWith":case "notEndsWith":g=
"isNotEmpty";break;case "isNotEmpty":g=c}if(("isEmpty"===c||(0,w.matchExpression)(p,g,r))&&(q=k(a,c,b)))break}else{if(g===y&&(0,w.matchExpression)(p,c,b)&&(0,f.isElementVisible)(a.parentNode))return a.parentNode;if(g===e&&(0,w.matchExpression)(p,c,b)&&(0,f.isElementVisible)(a))return a}}return q}function v(a){if(!a||!(0,f.isElementVisible)(a))return null;var e=void 0;return e="input"===a.tagName.toLowerCase()?a.value:a.textContent,(0,f.isUndefinedStr)(e)?null:e.trim()}function h(a){var e=!(1<arguments.length&&
void 0!==arguments[1])||arguments[1];try{if(a){var c,b=u.documentRef.documentElement,f=(0,q.detectIE)();f&&(b=f<=r.LAST_IE_VERSION?u.documentRef.documentElement:u.documentRef.body);c=b;var p=c.scrollTop,d=c.scrollLeft;a.focus({preventScroll:e});var h;if(h=e){var n=(0,q.detectIE)(),e=!1;h=(n&&(e=79>n),e)}h&&(c.scrollLeft=d,c.scrollTop=p)}}catch(w){g.logger.logInternalError(w,"FocusElement - could not focus on element")}}Object.defineProperty(a,"__esModule",{value:!0});a.isFixedPosition=a.checkIfSameElement=
a.getTagName=a.removeTransitionStartListener=a.addTransitionStartListener=a.removeTransitionEndListener=a.addTransitionEndListener=a.stripHtml=a.isElement=a.addNonceToDomString=a.disableFocusOnClick=a.focusElement=a.getText=a.findElementInWindow=a.observeDOM=a.addStyleTag=a.getElementText=a.getIframeOffsetOfElement=a.getContainingIframeOfElement=a.getParentWindowOfElement=a.findElementInFrames=a.findInWindow=a.findAllElements=a.findElement=a.checkIframe=a.toDom=void 0;var n="function"==typeof Symbol&&
"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=b(0),c=b(1),g=b(3),q=b(9),w=b(88),r=b(8),u=b(4),p=b(17),x=b(31),A=/([^]*?)({[^]*?}|,)/g,B=["script","style"],y=3,e=1;m=function(){var a=(0,x.getNativeMutationObserver)();return function(e,c){e&&(a?(new a(function(a){c(a)})).observe(e,{childList:!0,subtree:!0}):window.addEventListener&&(e.addEventListener("DOMNodeInserted",
c,!1),e.addEventListener("DOMNodeRemoved",c,!1)))}}();a.toDom=function(a,e,c){c=(0,f.createElement)("div",c);return a=l(a),c.innerHTML=a,e?c.firstChild:c};a.checkIframe=d;a.findElement=function(a,e){var c=window.top.document.querySelector(a),b=void 0;if(c)return{element:c,sourceIframe:null};try{if((0,f.isNotEmptyArr)(e))for(var g=0;g<e.length&&(b=e[g],!d(b)||!(c=b.iframe.document.querySelector(a)));g++);}catch(r){}return c?{element:c,sourceIframe:c?b:void 0}:void 0};a.findAllElements=function(a,e){var c=
[],b=window.top.document.querySelector(a);b&&c.push(b);try{var f=void 0;if(e)for(var g=0;g<e.length;g++)f=e[g],d(f)&&(b=f.iframe.document.querySelector(a))&&c.push(b)}catch(r){}return c};a.findInWindow=t;a.findElementInFrames=function(a,e){var c=void 0,b=void 0;try{if((0,f.isNotEmptyArr)(e))for(var g=0;g<e.length&&(b=e[g],!d(b)||!(c=b.iframe.document.querySelector(a)));g++);}catch(r){}return{element:c,sourceIframe:c?b:void 0}};a.getParentWindowOfElement=function(a){a=a.ownerDocument;return a.defaultView||
a.parentWindow};a.getContainingIframeOfElement=function(a){return a.ownerDocument.defaultView.frameElement};a.getIframeOffsetOfElement=function(a){try{for(var e=0,c=0,b=0,f=0,r=a.ownerDocument.defaultView;r!==window.top;)var p=r.frameElement.getBoundingClientRect(),e=e+p.top,c=c+p.left,b=b+p.right,f=f+p.bottom,r=r.frameElement.ownerDocument.defaultView;return{top:e,left:c,right:b,bottom:f}}catch(q){return g.logger.logInternalError(q),{top:0,left:0,right:0,bottom:0}}};a.getElementText=function(a){return v(t(a,
document))};a.addStyleTag=function(a,e,b,g){if(!(0,f.isBlank)(e)){var r=document.createElement("style"),p=(0,c.getConfig)("cssNonce");p&&(r.nonce=p);r.type="text/css";if(b){p=e;e=g?g+" ."+b:"."+b;var q=p.indexOf(b);if(-1<q){var u=p.indexOf("}",q);b=p.substring(0,q-1);var d=p.substring(u+1,p.length),p=p.substring(q-1,u+1);e=(b+d).replace(A,e+" $1 $2");g=g?g+" "+p+e:p+e}else g=p.replace(A,e+" $1 $2")}else g=e;e=g;r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e));a.appendChild(r)}};
a.observeDOM=m;a.findElementInWindow=function(a,e,b){var g=void 0,r=void 0;if(a.matchCssSelector){if(r=(0,p.findElementsInShadowDom)(a.cssSelector,e),(0,f.isEmptyArr)(r))return null;if(a.matchTextRule){e=[];for(var q=0;q<r.length;q++)if(g=r[q],(0,w.matchExpression)((0,f.isBlank)(g.textContent)?"":g.textContent.trim(),a.textRuleOperator,a.textRuleValues[0])){if(!b)return g;e.push(g)}return(0,f.isEmptyArr)(e)?null:e}return b?r:r[0]}return a.matchTextRule?(a=k((0,c.getBody)(),a.textRuleOperator,a.textRuleValues[0]))&&
b?[a]:a:null};a.getText=v;a.focusElement=h;a.disableFocusOnClick=function(a,e){try{(0,f.addEventListener)(a,"mousedown",function(a){a.preventDefault();e&&h(e)})}catch(c){g.logger.log(c,"disableFocusOnClick")}};a.addNonceToDomString=l;a.isElement=function(a){return"object"===("undefined"==typeof HTMLElement?"undefined":n(HTMLElement))?a instanceof HTMLElement:a&&"object"===(void 0===a?"undefined":n(a))&&1===a.nodeType&&"string"==typeof a.nodeName};a.stripHtml=function(a){var e=document.createElement("div");
return e.innerHTML=a,e.textContent};a.addTransitionEndListener=function(a,e){["webkitTransitionEnd","mozTransitionEnd","oTransitionEnd","transitionend"].forEach(function(c){(0,f.addEventListener)(a,c,e)})};a.removeTransitionEndListener=function(a,e){["webkitTransitionEnd","mozTransitionEnd","oTransitionEnd","transitionend"].forEach(function(c){(0,f.removeEventListener)(a,c,e)})};a.addTransitionStartListener=function(a,e){["webkitTransitionStart","mozTransitionStart","oTransitionStart","transitionstart"].forEach(function(c){(0,
f.addEventListener)(a,c,e)})};a.removeTransitionStartListener=function(a,e){["webkitTransitionStart","mozTransitionStart","oTransitionStart","transitionstart"].forEach(function(c){(0,f.removeEventListener)(a,c,e)})};a.getTagName=function(a){return a.tagName&&"function"==typeof a.tagName.toLowerCase?a.tagName:a.nodeName};a.checkIfSameElement=function(a,e){return e===a||e.isEqualNode(a)};a.isFixedPosition=function(a){for(var e=(0,c.getBody)();a&&a!==e;){if("fixed"===window.getComputedStyle(a).position.toLowerCase())return!0;
a=a.parentNode}return!1}},function(m,a,b){function l(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function d(a,c){var b=f[a];b&&(null===b.data&&(b.data=[]),b.data.push(c),0>=--b.counter&&(b.timeout&&clearTimeout(b.timeout),b.callback(b.data,b.additionalData)))}function t(){Object.entries(c).map(function(a){if(a[1]<Date.now()-g)return a[0]}).filter(function(a){return void 0!==a}).forEach(function(a){return delete c[a]})}Object.defineProperty(a,"__esModule",{value:!0});
a.checkHandledRequest=a.addHandledRequestId=a.execute=a.unregisterIframe=a.associateIframe=a.getIframeData=a.IframeData=a.decrementState=a.incrementState=a.subscribe=a.IframeRequest=a.getRegisteredIframes=a.registerIframe=void 0;var k=function(){function a(c,b){for(var f=0;f<b.length;f++){var g=b[f];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(c,b,f){return b&&a(c.prototype,b),f&&a(c,f),c}}(),v=b(11),h=function w(a,
c,b,f){l(this,w);this.iframe=a;this.origin=c;this.iframeId=b;this.frameOffset=f};m=function(){function a(c){if(l(this,a),c&&(this.aptrinsicEventType=c.aptrinsicEventType,this.aptrinsicIframeId=c.aptrinsicIframeId,this.content=c.content,this.aptrinsicRequestId=c.aptrinsicRequestId,!this.aptrinsicEventType))throw Error("cannot initiate iframe request without event type");}return k(a,null,[{key:"getMasterRequst",value:function(c,b,f,g){c=new a({aptrinsicIframeId:g,aptrinsicEventType:c,content:b,aptrinsicRequestId:f});
if(!c.aptrinsicEventType)throw Error("cannot initiate iframe request without event type");return c}},{key:"getIframeRequest",value:function(c,b,f,g){c=new a({aptrinsicIframeId:c,aptrinsicEventType:b,content:f,aptrinsicRequestId:g});if(!c.aptrinsicEventType)throw Error("cannot initiate iframe request without event type");if(!c.aptrinsicIframeId)throw Error("cannot initiate iframe request without iframe id");return c}}]),a}();var n={},f={},c={},g=6E4;a.registerIframe=function(a,c,b,f){if(f){f=document.querySelectorAll("frame");
for(var g=void 0,d=0;d<f.length;d++)if(f[d].name===a.name){g=f[d];break}n[b]=n[b]||new h(a,c,b,g.getBoundingClientRect())}else n[b]=n[b]||new h(a,c,b);v.internalEventListener.dispatchEvent("IFRAME_REGISTERED",n[b])};a.getRegisteredIframes=function(){return Object.keys(n).map(function(a){return n[a]})};a.IframeRequest=m;a.subscribe=function(a,c,b){f[a]={callback:c,counter:0,data:null,additionalData:b}};a.incrementState=function(a){f[a].counter++};a.decrementState=d;a.IframeData=h;a.getIframeData=function(a){return n[a]};
a.associateIframe=function(a,c){var b=n[a];b&&(b.domElement=c,b.isChild=!0)};a.unregisterIframe=function(a){delete n[a]};a.execute=function(a,c){var b=f[a];b&&c&&(b.timeout=setTimeout(function(){for(;0<b.counter;)d(a,{error:"PX_INCREMENT_STATE_TIMEOUT_"+b.counter})},c))};a.addHandledRequestId=function(a){c[a]=Date.now()};a.checkHandledRequest=function(a){return t(),c[a]}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});m=a.MAX_TAB_INDEX=32767;m=(a.TAB_INDEX_START=m-1E3,a.NO_TAB_INDEX=
-1,a.LAST_IE_VERSION=11,a.DESKTOP_CHANNEL=4,a.PROD_ENVIRONMENT=1,a.GLOBAL_CONTEXT_CHANGED="GLOBAL_CONTEXT_CHANGED",a.TEXT_OPERATOR_IS="is",a.IN_APP_GUIDE="IN_APP_GUIDE",a.IN_APP_MULTIPLE_QUESTION_SURVEY="IN_APP_MULTIPLE_QUESTION_SURVEY",a.IN_APP_RATING_SURVEY="IN_APP_RATING_SURVEY");b=a.IN_APP_SURVEY_NPS="IN_APP_SURVEY_NPS";var l=a.IN_APP_BOOLEAN_SURVEY="IN_APP_BOOLEAN_SURVEY",d=a.IN_APP_CES_SURVEY="IN_APP_CES_SURVEY";a.SCORE_SURVEY_TYPES=[m,b,l,d];a.ACTIVATION_TYPE_AUTOMATIC="a";a.EDITOR_ACTIVATION_TYPE_AUTOMATIC=
"APPLICATION";a.VIEW_TYPE_BAR="BAR";a.SET_USER_ATTRIBUTE_EVENT_NAME="GAINSIGHT_PX_SET_USER_ATTRIBUTE";a.DEFAULT_STORAGE_DOMAIN="https://storage.googleapis.com";a.COMPLETED_TRACKED=2;a.APT_NON_SCROLL="apt-non-scroll"},function(m,a,b){function l(){if(!q){q=!0;for(var a=0;a<r.length;a++){var c=Array.prototype.slice.call(r[a]),b=c.shift();try{b.apply(window,c)}catch(f){}}r=[]}}function d(){"complete"===document.readyState&&ready()}function t(a){a=a||window.navigator.userAgent;var c=a.indexOf("MSIE ");
if(0<c)return parseInt(a.substring(c+5,a.indexOf(".",c)),10);if(0<a.indexOf("Trident/"))return c=a.indexOf("rv:"),parseInt(a.substring(c+3,a.indexOf(".",c)),10);c=a.indexOf("Edge/");return 0<c&&parseInt(a.substring(c+5,a.indexOf(".",c)),10)}function k(){return-1<navigator.userAgent.toLowerCase().indexOf("firefox")}function v(){return window.self!==window.top.parent&&!window.runVue&&document.location.protocol.startsWith("https")||k()?"; SameSite\x3dNone; Secure":document.location.protocol.startsWith("https")?
"; Secure":""}Object.defineProperty(a,"__esModule",{value:!0});a.isFirefox=a.getBrowserDetails=a.getPointerDownEventName=a.getPointerUpEventName=a.applyStyle=a.getSameSiteCookieSuffix=a.detectIE=a.localStorageEnabled=a.url2Location=a.getDomain=a.addDOMReadyListener=a.getFullPageHeight=a.getPageHeight=a.getPageWidth=void 0;var h=b(13),n=b(4),f=b(8),c=b(1),g=b(22),q=!1,w=!1,r=[],u=null,p=null;a.getPageWidth=function(a){var b=null;return window.innerWidth&&!a?b=window.innerWidth:document.documentElement&&
document.documentElement.clientWidth?b=document.documentElement.clientWidth:(0,c.getBody)()&&(b=(0,c.getBody)().clientWidth),b||0};a.getPageHeight=function(){var a=null;return window.innerHeight?a=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientHeight:(0,c.getBody)()&&(a=(0,c.getBody)().clientHeight),a||0};a.getFullPageHeight=function(){var a=document.documentElement;return Math.max(document.body.offsetHeight,a.clientHeight,a.scrollHeight,
a.offsetHeight)};a.addDOMReadyListener=function(a){if(q){var c=[].slice.call(arguments,1);return void setTimeout(function(){a.apply(window,c)},1)}r.push(arguments);"complete"===document.readyState?setTimeout(l,1):w||(document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):(document.attachEvent("onreadystatechange",d),window.attachEvent("onload",l)),w=!0)};a.getDomain=function(){if((0,c.getConfig)("localStorageCookie"))return p=document.location.hostname;
if(u!==document.location.hostname){u=document.location.hostname;var a=new Date,b=void 0,f=void 0,g="apt.temp-"+Date.now()+h.UUIDGenerator.generateRandom(8),e=document.location.hostname.split("."),q=v();if(a.setTime(Date.now()+6E4),1==e.length)return p="";for(var r=e.length-1;0<=r;r--)if(b=e.slice(r).join("."),f="."+b,document.cookie=g+"\x3dcookie;domain\x3d"+f+"; expires\x3d"+a.toUTCString()+q,-1<document.cookie.indexOf(g))return document.cookie=g+"\x3d;domain\x3d"+f+";expires\x3dThu, 01 Jan 1970 00:00:01 GMT;"+
q,p="."+b;p=document.location.hostname}return p};a.url2Location=function(a){if((0,g.isBlank)(a))return null;try{var c=n.documentRef.createElement("a");return c.href=a,{protocol:c.protocol+"//",host:c.host,pathname:c.pathname,search:c.search,hash:c.hash}}catch(b){return null}};a.localStorageEnabled=function(){try{return localStorage.setItem("aptTest","aptTest"),localStorage.removeItem("aptTest"),!0}catch(a){return!1}};a.detectIE=t;a.getSameSiteCookieSuffix=v;a.applyStyle=function(a,c,b){b&&(a.style[c]=
b)};a.getPointerUpEventName=function(){var a=t();return a&&a<f.LAST_IE_VERSION?"MSPointerUp":"pointerup"};a.getPointerDownEventName=function(){var a=t();return a&&a<f.LAST_IE_VERSION?"MSPointerDown":"pointerdown"};a.getBrowserDetails=function(){var a=navigator.userAgent,c=void 0,b=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(b[1])?(c=/\brv[ :]+(\d+)/g.exec(a)||[],{name:"IE",version:c[1]||""}):"Chrome"===b[1]&&null!=(c=a.match(/\bOPR|Edge\/(\d+)/))?
{name:"Opera",version:c[1]}:(b=b[2]?[b[1],b[2]]:[navigator.appName,navigator.appVersion,"-?"],c=a.match(/version\/(\d+)/i),null!=c&&b.splice(1,1,c[1]),{name:b[0].toLowerCase(),version:b[1]})};a.isFirefox=k},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.jsonStringify=function(a){if(Array.prototype.toJSON){var b="",t=Array.prototype.toJSON;delete Array.prototype.toJSON;try{b=JSON.stringify(a)}catch(k){throw k;}finally{Array.prototype.toJSON=t}return b}return JSON.stringify(a)};
m=function(a){return!!a&&/\{\s+\[native code\]/.test(Function.prototype.toString.call(a))}(Array.from)?Array.from:function(){var a=Object.prototype.toString,b=function(b){return"function"==typeof b||"[object Function]"===a.call(b)},t=Math.pow(2,53)-1;return function(a){var l=Object(a);if(null==a)throw new TypeError("Array.from requires an array-like object - not null or undefined");var h=1<arguments.length?arguments[1]:void 0,n=void 0;if(void 0!==h){if(!b(h))throw new TypeError("Array.from: when provided, the second argument must be a function");
2<arguments.length&&(n=arguments[2])}var f;f=Number(l.length);f=isNaN(f)?0:0!==f&&isFinite(f)?(0<f?1:-1)*Math.floor(Math.abs(f)):f;f=Math.min(Math.max(f,0),t);for(var c=b(this)?Object(new this(f)):Array(f),g=0,q=void 0;g<f;)q=l[g],c[g]=h?void 0===n?h(q,g):h.call(n,q,g):q,g+=1;return c.length=f,c}}();a.arrayFrom=m},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.internalEventListener=void 0;var l=function(){function a(b,f){for(var c=0;c<f.length;c++){var g=f[c];g.enumerable=g.enumerable||
!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,f,c){return f&&a(b.prototype,f),c&&a(b,c),b}}();m=b(5);var d=b(22),t=b(3),k=b(13),v=new m.LocalCache;b=new (function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return l(a,[{key:"addListener",value:function(a,b,c,g,q){var d=k.UUIDGenerator.generateV4Id(),r=v.getKey(a);r||(r=[],v.setdata(a,r));a=!1;for(var u=0;u<r.length;u++)if(r[u].callback===b){a=
!0;break}a||r.push({listenerId:d,callback:b,thisReference:c,isExternal:g,executeOnce:q})}},{key:"removeListener",value:function(a,b,c){a=v.getKey(a);if((0,d.isNotEmptyArr)(a))for(var g=0;g<a.length;g++)a[g].callback!==b&&a[g].listenerId!==c||a.splice(g,1)}},{key:"dispatchEvent",value:function(a){try{var b=v.getKey(a),c=[];1<arguments.length&&(c=Array.prototype.slice.call(arguments,1));var g=[];b&&b.forEach(function(b,f){var r=this;try{b.isExternal?setTimeout(function(){b.callback.apply(b.thisReference||
r,c)},0):b.executeOnce&&!b.executed?(b.executed=!0,g.unshift(f),b.callback.apply(b.thisReference||this,c)):b.callback.apply(b.thisReference||this,c)}catch(u){t.logger.logInternalError(u,"Error while executing listener for type "+a)}});0<g.length&&g.forEach(function(a){return b.splice(a,1)})}catch(q){t.logger.logInternalError(q,"Error while trying to execute listeners for type"+a)}}}]),a}());a.internalEventListener=b},function(m,a,b){function l(a,b,d,r,u,p,x,A,l){try{var y=c.createCors(a,b,l);if(!y){if(A)return;
throw Error("cannot make request to "+b+" not supported");}if(x&&y.setRequestHeader("Content-Type","application/json"),u)for(var e in u)u.hasOwnProperty(e)&&y.setRequestHeader(e,u[e]);y.onload=function(){try{var e=y.responseText,c=null;if(""!==e)try{c=JSON.parse(e)}catch(f){c=e}if(200<=y.status&&300>y.status){var p=t.eventTrackData[v.cacheGet](t.productIdParameter);c&&c.p&&p&&!(0,h.isApiKeyMatch)(c.p,p)&&!(0,n.getConfig)("crossProductEngagement")||d&&d(c)}else k.logger.log("error "+y.statusText+" happened in the request: "+
a+" "+b),r&&r(y.status,c)}catch(f){A||k.logger.logInternalError(f)}};y.onerror=function(){A||(r&&r(),k.logger.log("error happened in the request: "+a+" "+b))};Object.isExtensible(y)&&(y.PXsource="true");p&&"GET"!==a?y.send((0,f.jsonStringify)(p)):y.send()}catch(m){if(!A){u="sendAjaxRequest: ";if(u+="URL: '"+b+"'\n",p)try{u+="Data: '"+(0,f.jsonStringify)(p)+"'\n"}catch(z){}k.logger.logInternalError(m,u)}}}Object.defineProperty(a,"__esModule",{value:!0});a.AjaxUtil=void 0;var d=function(){function a(c,
b){for(var f=0;f<b.length;f++){var g=b[f];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(c,b,f){return b&&a(c.prototype,b),f&&a(c,f),c}}(),t=b(4),k=b(3),v=b(5),h=b(22),n=b(1),f=b(10),c=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return d(a,null,[{key:"createCors",value:function(a,c,b){var f=new XMLHttpRequest;b=void 0===b?(0,n.getConfig)("requestTimeoutDefault"):
b;return b&&(f.timeout=b),"withCredentials"in f?f.open(a,c,!0):"undefined"!=typeof XDomainRequest?(f=new XDomainRequest,f.open(a,c)):f=null,f}},{key:"postData",value:function(a,c,b,f,g,d,h,n){l("POST",a,f,g,b,c,d,h,n)}},{key:"putData",value:function(a,c,b,f,g,d){l("PUT",a,f,g,b,c,d)}},{key:"getData",value:function(a,c,b,f,g,d,h){l("GET",a,c,f,b,null,g,d,h)}},{key:"deleteData",value:function(a,c,b,f,g,d){l("DELETE",a,f,g,b,c,d)}},{key:"loadFile",value:function(a,c,b){try{var f=null;switch(a){case "js":f=
t.documentRef.createElement("script");f.async=!0;f.type="text/javascript";f.src=c;break;case "css":f=t.documentRef.createElement("link");f.rel="stylesheet";f.type="text/css";f.href=c;b&&(f.crossOrigin="anonymous");break;default:throw Error("unknown type "+a);}t.documentRef.getElementsByTagName("head")[0].appendChild(f)}catch(g){k.logger.logInternalError(g)}}}]),a}();a.AjaxUtil=c},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function a(b,d){for(var h=0;h<d.length;h++){var n=
d[h];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(b,n.key,n)}}return function(b,d,h){return d&&a(b.prototype,d),h&&a(b,h),b}}(),d=b(111);a.UUIDGenerator=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return l(a,null,[{key:"generateUuid",value:function(a){return a+"-"+(new Date).getTime()+"-"+this.generateRandom(8)}},{key:"getProductId",value:function(a){return a?a.split(".")[0].split("-").slice(0,
-2).join("-"):null}},{key:"getRandomInt",value:function(a,b){var d=Math.ceil(a);return Math.floor(Math.random()*(Math.floor(b)-d))+d}},{key:"generateRandom",value:function(a){for(var b="",d=0;d<a;d++)b+=this.getRandomInt(1,10);return b}},{key:"generateV4Id",value:function(){return d()}}]),a}()},function(m,a,b){function l(a,c,b){return c in a?Object.defineProperty(a,c,{value:b,enumerable:!0,configurable:!0,writable:!0}):a[c]=b,a}Object.defineProperty(a,"__esModule",{value:!0});a.previewEndpoint=void 0;
var d=b(36),t=b(0),k=b(12),v=b(1),h=b(59),n=b(60),f=b(94),c=window;m=new function(){var a=void 0,b=void 0,w={},r=void 0,u=void 0,p=void 0,x=function(){return r.push(arguments),!0};return c.guideEditor=c.guideEditor||x,r=c.guideEditor.q||[],c.guideEditor.q=c.guideEditor.q||r,x.getQueue=function(){return r},x.isEditorMode=function(){return a&&b},x.isEngagementEditorV2=function(){return"7"===b},x.getToken=function(){return a},x.getType=function(){return b},x.isPreview=function(){return"true"===w.aptPreview},
x.getPreviewUrl=function(){return"https://app-be.aptrinsic.com/api/editor/v2/preview/"+w.groupId+"/"+w.contentId+"?lang\x3d"+w.aptLang},x.loadEditor=function(a){return u=u||a,"1"===b?"false"!==c.localStorage.getItem(f.USE_NEW_PRODUCT_MAPPER_KEY)?k.AjaxUtil.loadFile("js",v.staticContentHost+"/api/product-mapper.min.js?a\x3d"+a):k.AjaxUtil.loadFile("js",v.staticContentHost+"/api/editor.js?a\x3d"+a):"2"===b?k.AjaxUtil.loadFile("js",v.staticContentHost+"/api/guide-editor.min.js?a\x3d"+a):x.isEngagementEditorV2()&&
k.AjaxUtil.loadFile("js",v.staticContentHost+"/api/engagement-editor.min.js?a\x3d"+a),!0},x.getAdditionalDetails=function(){return w},x.replaceCall=function(a){x=a},x.exit=function(){sessionStorage.removeItem("apt.token");d.Cookie.deleteCookie("apt.token")},x.cleanEngagementData=function(){var a="queryParam"===p?c.location.search:c.location.hash,b=void 0,b=a.indexOf("aptToken"),a=-1<b?a.substring(0,b-1):a;return c.location.protocol+"//"+c.location.host+c.location.pathname+("queryParam"===p?a+c.location.hash:
c.location.search+a)},x.getProductKey=function(){return u},x.getQueryParams=function(){var c;return Object.assign((c={},l(c,"aptToken",a),l(c,"aptEditor",b),l(c,"aptProductKey",u),c),w)},x.saveConfig=function(){if(a&&b&&3!=b&&4!=b&&5!=b){var c=[a,b,1!=b?JSON.stringify(w):"{}"].join("\x26");(0,v.getConfig)("useSessionStorageEditorToken")?(sessionStorage.setItem("apt.token",c),d.Cookie.deleteCookie("apt.token")):(d.Cookie.setCookie("apt.token",c),sessionStorage.removeItem("apt.token"))}},function(){var f=
c.location.search,r=c.location.hash;f=decodeURIComponent(f);if(-1<f.indexOf("?redirect\x3d"))var d=document.createElement("a"),f=(d.href=f.substring(10),d.search);var e=(0,t.isBlank)(f)?-1:f.indexOf("aptToken"),x=(0,t.isBlank)(r)?-1:r.indexOf("aptToken"),d=-1,k=void 0;if(-1<e?(d=e,k="queryParam"):-1<x&&(d=x,k="hash"),-1<d){p=k;e=void 0;e="queryParam"===p?f:r;r=e.substring(d).split("\x26");for(f=0;f<r.length;f++)switch(d=r[f].split("\x3d"),d[0]){case "aptToken":a=d[1];break;case "aptEditor":b=d[1];
break;case "aptProductKey":u=d[1];break;case "guideId":case "groupId":case "engagementId":case "contentId":case "aptPreview":case "kcId":case "aptLang":case "selectedFeature":case "isParentSubscription":case "isChildSubscription":w[d[0]]=d[1]}e.includes("isEditorV2\x3dtrue")&&e.includes("aptProductKey\x3dAP-E9VUBBLZ6BIS-2")&&(b="7")}else r=(r=sessionStorage.getItem("apt.token")||h.LocalStorageCookie.getCookie("apt.token")||n.NativeCookie.getCookie("apt.token",!0))&&r.split("\x26"),(0,t.isNotEmptyArr)(r)&&
1<r.length&&(a=r[0])&&(b=r[1])&&(w=JSON.parse(r[2]))}(),x};a["default"]=m;a.previewEndpoint="https://app-be.aptrinsic.com/api/editor/v2/preview"},function(m,a,b){function l(a,c,b){var f=(0,k.getConfig)("trustedOrigin"),g=void 0,g=b?f||"*":c.location.protocol+"//"+((0,v.isValidPort)(c.location.port)?c.location.host:c.location.hostname);c.postMessage((0,w.jsonStringify)(a),g)}function d(a,c){var b=(0,k.getConfig)("trustedOrigin");b&&b!==c.origin||c.iframe.postMessage((0,w.jsonStringify)(a),c.origin)}
function t(a,c,b,g){var q=f.UUIDGenerator.generateV4Id();(0,n.subscribe)(q,g);d(n.IframeRequest.getMasterRequst(a,c,q),b);(0,n.incrementState)(q)}Object.defineProperty(a,"__esModule",{value:!0});a.isValidPort=a.fixBadgesLocations=a.iframeSubscribeCallback=a.createSubscribeCallbackRequest=a.associateChildIframes=a.getIframeBoundingRect=a.getIframeId=a.isValidCallingDomain=a.postRequestDown=a.postRequest=a.parseEvent=a.propagateDown=void 0;var k=b(1),v=b(22),h=b(3),n=b(7),f=b(13),c=b(9),g=b(17),q=b(0),
w=b(10);a.propagateDown=function(a,c){try{(0,k.isIframe)()||(0,v.isEmptyArr)(c)||c.forEach(function(c){a.aptrinsicIframeId=c.iframeId;c.iframe&&c.iframe.postMessage((0,w.jsonStringify)(a),c.origin)})}catch(b){h.logger.logInternalError(b)}};a.parseEvent=function(a){try{return a&&a.data&&("string"==typeof a.data||a.data instanceof String)&&a.data.startsWith("{")?new n.IframeRequest(JSON.parse(a.data)):null}catch(c){return null}};a.postRequest=l;a.postRequestDown=d;a.isValidCallingDomain=function(a){var b=
(0,c.getDomain)();a=(0,q.safeUrl)(a,!0);-1<a.indexOf(":")&&-1===b.indexOf(":")&&(a=a.split(":")[0]);var f=a.endsWith(b),g=-1<a.indexOf(b),d=(0,k.getConfig)("trustedOrigin");return(!d||(0,q.safeUrl)(d,!0)===a)&&(!f&&g&&h.logger.logInternalError(Error("iframe validate domain suffix does not match but domain "+b+" found in "+a)),!(!f&&0!==a.indexOf(b.substring(1,b.length))&&!(0,k.getConfig)("allowCrossDomain")))};a.getIframeId=v.getIframeId;a.getIframeBoundingRect=function(a){var c=window.frames;if(0<
c.length)for(var b=0;b<c.length;b++)if(c[b]===a.source)return a=c[b].getBoundingClientRect(),{top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:a.width,height:a.height,x:a.x,y:a.y};return{top:0,right:0,bottom:0,left:0}};a.associateChildIframes=function(a){if(0<a.length)for(var c=0;c<a.length;c++)(function(c){var b=void 0,f=(0,k.getConfig)("allowBlankSrc")&&"about:blank"===a[c].src,g=!a[c].src&&a[c].srcdoc;if(f||g)b="*";else{if(!a[c].src.startsWith("http"))return"continue";f=document.createElement("a");
f.href=a[c].src;b=f.protocol+"//"+((0,v.isValidPort)(f.port)?f.host:f.hostname)}var d=!1;(0,v.retryFunction)(5,500,function(){d||t("getChildAssociation",null,new n.IframeData(a[c].contentWindow,b),function(e){(0,n.associateIframe)(e[0].iframeId,a[c]);d=!0})})})(c)};a.createSubscribeCallbackRequest=t;a.iframeSubscribeCallback=function(a,c,b){var g=f.UUIDGenerator.generateV4Id();(0,n.subscribe)(g,b);l(n.IframeRequest.getIframeRequest((0,v.getIframeId)(),a,c,g),window.top,!0);(0,n.incrementState)(g)};
a.fixBadgesLocations=function(a,c){var b=(0,n.getIframeData)(a);if(!b)return[];var f=b.domElement,d=(0,k.getConfig)("framesetMode"),q=d?b.frameOffset:f.getBoundingClientRect(),h=d||(0,g.isElementVisible)(f,!0),b=[];return Array.isArray(c)&&(b=c.map(function(a){return Object.assign({},a,{isVisible:a.isVisible&&h,rect:Object.assign({},a.rect,{top:a.rect.top+q.top,left:a.rect.left+q.left,right:a.rect.right+q.right,bottom:a.rect.bottom+q.bottom})})})),b};a.isValidPort=v.isValidPort},function(m,a,b){function l(a,
c,e){return a===z.ACTIVATION_TYPE_AUTOMATIC&&c&&c.enabled||e&&-1<e.indexOf(z.EDITOR_ACTIVATION_TYPE_AUTOMATIC)}function d(a,c,e){var b=c.backgroundColor,f=c.backgroundFill,g=c.textColor,d=c.cornerRadius,q=c.hoverBackgroundColor,r=c.hoverBackgroundFill,h=c.hoverBorderColor,u=c.hoverTextColor,n=c.borderColor;c=c.borderWidth;var w=".px-step-navigation-"+e+":hover {",b=".px-step-navigation-"+e+" {"+("background-color: "+(-1<f?(0,p.hexToRgba)(b,f/100):b)+";"),w=w+("background-color: "+(-1<r?(0,p.hexToRgba)(q,
r/100):q)+";"),b=b+("color: "+g+";"),b=b+("border-radius: "+d+"px;"),b=b+("border-width: "+c+"px;"),b=b+("border-color: "+n+";"),w=w+("color: "+u+";")+("border-color: "+h+";"),b=b+"}",w=w+"}";(0,p.addStyle)(b+w,"px-step-navigation-"+e,a)}function t(a,c,e){if(!P["default"].isEditorMode()){var b=[],b=(0,p.addParameters)(y.eventTrackData[B.cacheGetAll](),b);(0,p.addParameters)({ei:a.engagementId,ecoi:a.contentId||a.content.id,evi:a.matchEventId||null,ent:a.contentTypeId||a.content.contentTypeId,acci:a.accountId,
exi:a.executionId,ext:a.executionTimestamp,cl:a.contentLocale,at:a.activationType||"a",cosi:c,cossn:e},b);(a=(0,E.getGlobalContext)())&&(0,p.addParameters)({gcx:JSON.stringify(a)},b);b=(0,p.addParameters)((0,N.getWebContext)(),b);F.AjaxUtil.getData(I.snoozeUrl+"?"+(0,p.convert2Parameters)(b))}}function k(a,c,e,b){a={ei:a.engagementId,ecoi:a.contentId||a.content.id,ent:a.contentTypeId||a.content.contentTypeId,evi:a.matchEventId,ett:c,exi:a.executionId,ext:a.executionTimestamp,acci:a.accountId};e&&
(a.cosi=e,(b||0===b)&&(a.cossn=b));e=(0,p.addParameters)(a,[]);b=(0,E.getGlobalContext)();return b&&(0,p.addParameters)({gcx:JSON.stringify(b)},e),(0,p.addParameters)(y.eventTrackData[B.cacheGetAll](),e)}function v(a){var c=void 0;switch(a){case "IN_APP_DIALOG":c="Dialog";break;case "IN_APP_CAROUSEL":c="Slider";break;case "IN_APP_GUIDE":c="Guide";break;case "IN_APP_SURVEY_NPS":c="NPS";break;case "IN_APP_CES_SURVEY":c="CES";break;case "IN_APP_RATING_SURVEY":c="Rating";break;case "IN_APP_BOOLEAN_SURVEY":c=
"Boolean";break;case "IN_APP_MULTIPLE_QUESTION_SURVEY":c="Multi Question";break;default:return}return c}function h(a){switch(a){case "a":return"Auto";case "kc":return"Bot";case "b":return"Badge";case "jo":return"Journey Orchestrator";default:throw"unknown activation type "+a;}}function n(a,c){return{engagementId:a.engagementId,executionId:a.executionId,executionTimestamp:a.executionTimestamp,engagementType:v(a.contentType||a.content.contentType),activation:h(a.activationType),engagementName:a.engagementName,
interaction:c,identifyId:a.ideId}}function f(a){var c=void 0,e=void 0;a?document.querySelectorAll(".px-engagement-wrapper").forEach(function(b){e||(e=b.querySelector("#step-"+a),c=b)}):c=document.querySelector(".px-engagement-wrapper");return c}function c(a,c,b){return function(f){try{var g=f.target;if(a===g||a.contains(g)){f="LINK_CLICK";var g="linkClick",d="Link Clicked";if(a.parentNode.classList.contains("apt-custom-button")&&(f="CUSTOM_BUTTON_CLICK",g="customButtonClick",d="Custom Button clicked"),
a.href){var p=a.href.split("ru\x3d");if(2===p.length){var q=decodeURIComponent(p[1]);e.internalEventListener.dispatchEvent(g,q,n(c,d),b);e.internalEventListener.dispatchEvent(f,q,n(c,d),b)}}}}catch(r){A.logger.log("listenToLinksClicks "+r)}}}function g(a,c,b,f){e.internalEventListener.dispatchEvent(a,{engagementType:b.content.contentType,engagementId:b.engagementId,width:c.width,height:c.height,fixedWidth:f.width,fixedHeight:f.autoHeight?c.height:f.height})}function q(a,c,e){c=(0,p.paramToObject)(c,
{});var b=J.eventCache.getKey("trackingPayload"),f=c.gcx,g=c.ru;Object.assign(c,b||{},e||{},f?{gcx:decodeURIComponent(f)}:{},g?{ru:decodeURIComponent(g)}:{});F.AjaxUtil.postData(a,c,null,null,null,!0)}function w(a,c,b,f){var g=!(4<arguments.length&&void 0!==arguments[4])||arguments[4];return function(d){d.preventDefault();d=k(a,"ENGAGEMENT_CLICK",c,b);return d=(0,p.addParameters)({ru:f},d),q(I.desktopEngagementTrackEndpoint+"/track/link/click",d),e.internalEventListener.dispatchEvent("engagementLinkClick",
{engagementType:a.content.contentType,engagementId:a.engagementId,link:f,close:g}),!1}}function r(a,c,e){if(a){var b=a.querySelector(".apt-step-content");b&&c&&null!==c.right&&null!==c.top&&null!==c.bottom&&null!==c.left&&(b.style.paddingTop=(c.top||0)+"px",b.style.paddingBottom=(c.bottom||0)+"px",e=e?"#step-"+e:"",(0,x.addStyleTag)(a,e+" .px-div-group { \n\t\t\t\t\tpadding-left: "+(c.left||0)+"px; \n\t\t\t\t\tpadding-right: "+(c.right||0)+"px; \n\t\t\t\t}","px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"))}}
function u(a){var c="";return c+=(a.offsetX?a.offsetX:0)+"px ",c+=(a.offsetY?a.offsetY:0)+"px ",c+=(a.blur?a.blur:0)+"px ",a.fill&&a.color&&(c+=(0,p.hexToRgba)(a.color,a.fill/100)),c}Object.defineProperty(a,"__esModule",{value:!0});a.addGlobalSettings=a.addLinkListenerForDesktop=a.desktopTrackStep=a.desktopTrackEngagementState=a.sendDesktopResize=a.toExternalEventSurvey=a.toExternalEventGuide=a.getExternalEvent=a.getEngagementTrackPayload=a.PX_TABBABLE_ATTR=void 0;a.isSnoozeButtonEnabled=l;a.isSingleStepWithSnooze=
function(a,c,e,b){return 1===a&&l(c,e,b)};a.addHoverState=d;a.trackSnooze=t;a.createSnoozeButton=function(a,c,e,b,f,g){var q=a.text||"Show me later",r=(0,p.createElement)("button",["px-step-navigation-snooze"],{text:q});return r.setAttribute(K,"true"),r.setAttribute("aria-label",q),c.appendChild(r),d(r,a,"snooze"),(0,p.addEventListener)(r,"click",function(){t(e,b,f);g()}),(0,x.disableFocusOnClick)(r),r};a.getRelevantDialog=f;a.addCircularTabListener=function(a,c,e){function b(a){var d=f(e),d=d&&(d.contains(a.target)||
d===a.target);c?c(a.target)?(O+=1,g(a)):O=0:d?O=0:(O+=1,g(a));5===O&&A.logger.logInternalError(Error("Accessibility - circular tabs - 5 invalid elements in a row with tabindex "+a.target.tabIndex))}var g=(0,p.debounce)(a);return(0,p.addEventListener)(document,"focusin",b),b};a.addCircularTabListenerForTooltips=function(a,c,e){function b(a){var p=f(e),q=(0,C.getEventTarget)(a);(p=p&&(p.contains(q)||p===q))?O=0:q===c||c.contains(q)?O=0:(O+=1,d?((0,x.focusElement)(c),y.documentRef.activeElement!==c&&
g(a)):g(a));d=p;5===O&&A.logger.logInternalError(Error("Accessibility - circular tabs - 5 invalid elements in a row with tabindex "+a.target.tabIndex))}var g=(0,p.debounce)(a),d=!1;return(0,p.addEventListener)(document,"focusin",b),b};a.removeCicularTabsWrapperListener=function(a){a&&(0,p.removeEventListener)(document,"focusin",a)};a.setTabIndexes=function(a,c){var e=c,b=a.querySelectorAll("a[href], button[onclick]");return 0<b.length&&b.forEach(function(a){a.setAttribute("tabindex",e);a.setAttribute("role",
"button");a.setAttribute(K,"true");e+=1}),e};a.addTabbableEnterListener=function(){H||(H=(0,p.addEnterKeyDownListener)(document,function(a){var c=document.activeElement;c.getAttribute(K)&&(c.click(),a.preventDefault())}))};a.removeTabbableEnterListener=function(){H&&((0,p.removeEventListener)(document,"keydown",H),H=null)};a.checkHasOverlay=function(a,c){return a&&0<c};a.listenToLinksClicks=function(a,e,b){a.querySelectorAll("a[href]").forEach(function(a){(0,p.addEventListener)(a,"click",c(a,e,b),
!1)})};a.sendDesktopEngagementSizeEvent=g;a.getBoxShadowString=u;a.setShadow=function(a,c){var e=u(c);a.style.setProperty("filter","drop-shadow("+e+")");a.style.setProperty("-webkit-filter","drop-shadow("+e+")")};a.replaceImagesSrc=function(a){a.querySelectorAll("img").forEach(function(a){(0,L.replaceAllDomains)(a,"src",(0,I.getConfig)("storageProxyDomain"),z.DEFAULT_STORAGE_DOMAIN)})};a.replaceImagesSrcFromHtmlString=function(a){if(!a)return"";var c=z.DEFAULT_STORAGE_DOMAIN,e=(0,I.getConfig)("storageProxyDomain");
return a.replace(new RegExp(c,"g"),e)};var p=b(0),x=b(6),A=b(3),B=b(5),y=b(4),e=b(11),D=b(18),z=b(8),J=b(58),F=b(12),I=b(1),C=b(17),E=b(21),N=b(20),P=(m=b(14))&&m.__esModule?m:{"default":m},L=b(147),O=0,M=[{type:"Promoter",lowScore:9,maxScore:10},{type:"Passive",lowScore:7,maxScore:8},{type:"Detractor",lowScore:0,maxScore:6}],K=a.PX_TABBABLE_ATTR="data-apt-tabbable-element",H=null;a.getEngagementTrackPayload=k;a.getExternalEvent=n;a.toExternalEventGuide=function(a,c){return{engagementId:a.engagementId,
executionId:a.executionId,executionTimestamp:a.executionTimestamp,engagementType:v(a.contentType),activation:h(a.activationType),engagementName:a.engagementName,interaction:c,identifyId:a.ideId}};a.toExternalEventSurvey=function(a,c,e,b){a={engagementId:a.engagementId,executionId:a.executionId,executionTimestamp:a.executionTimestamp,engagementType:v(a.content.contentType),activation:h(a.activationType),engagementName:a.engagementName,interaction:c,identifyId:a.ideId};if(b)if("SCORE"===b.questionType){if(a.score=
b.score,"IN_APP_SURVEY_NPS"===e)for(e=0;e<M.length;e++)if(M[e].lowScore<=a.score&&M[e].maxScore>=a.score){a.scoreType=M[e].type;break}(0,p.isBlank)(b.comment)||(a.comment=b.comment)}else"OPEN_TEXT"!==b.questionType||(0,p.isBlank)(b.comment)||(a.comment=b.comment);return a};a.sendDesktopResize=function(a,c,e){(0,D.getChannel)(y.eventTrackData[B.cacheGet](y.productIdParameter))==z.DESKTOP_CHANNEL&&g("engagementResize",a.getBoundingClientRect(),c,e)};a.desktopTrackEngagementState=function(a,c){q(I.desktopEngagementTrackEndpoint+
"/multistep/track",a,c)};a.desktopTrackStep=function(a,c){q(I.desktopEngagementTrackEndpoint+"/multistep/step/track",a,c)};a.addLinkListenerForDesktop=function(a,c,e,b){try{a.querySelectorAll("a").forEach(function(a){var f="_blank"===a.target;(0,p.addEventListener)(a,"click",w(c,e,b,a.href,!f))})}catch(f){A.logger.logInternalError(f,"failed to add lister ")}};a.addGlobalSettings=function(a,c,e,b){if(0<=c.indexOf(".px-engagement-global-settings")){var f=(0,p.extractStyleString)(c,".px-engagement-global-settings");
(f=(0,p.extractStyleProperties)(f))&&0<f.length&&f.forEach(function(c){if(-1<["padding","padding-top","padding-bottom","padding-left","padding-right"].indexOf(c.inlineProperty)){var e=a.querySelector(".apt-step-content");e&&(e.style[c.inlineProperty]=c.value)}else a.style[c.inlineProperty]=c.value})}if(e){var g=".px-step-settings-"+e,f=".px-step-navigation-settings-"+e;0<=c.indexOf(g)&&(g=(0,p.extractStyleString)(c,g),(g=(0,p.extractStyleProperties)(g))&&0<g.length&&g.forEach(function(c){a.style[c.inlineProperty]=
c.value}));0<=c.indexOf(f)&&(c=(0,p.extractStyleString)(c,f),(c=(0,p.extractStyleProperties)(c))&&0<c.length&&c.forEach(function(c){var e=a.querySelector(".px-step-navigation");e&&(e.style[c.inlineProperty]=c.value)}))}r(a,b,e)}},function(m,a,b){function l(a,c){return a.nodeType===Node.ELEMENT_NODE&&c.some(function(c){return null!==a.getAttribute(c)&&""!==a.getAttribute(c)})}function d(a,c,b){if(l(a,c))return a;if(b>=u)return null;a=a.childNodes;if(0<a.length)for(var e=0;e<a.length;e++){var f=d(a[e],
c,b+1);if(null!==f)return f}return null}function t(a,c){var b=void 0;if((0,q.getConfig)("usesShadowDom")){var e=function(a){b=!0;a.stopImmediatePropagation()},f="px-parent-child-test-event-"+Date.now();a.addEventListener(f,e);c.dispatchEvent(new CustomEvent(f,{bubbles:!0,composed:!0,cancelable:!0}));a.removeEventListener(f,e)}else b=a.contains(c);return b}function k(a,c,b,e){var f=a.elementFromPoint(c,b);if(f.shadowRoot&&f.shadowRoot!==a){if(!(e<x))return f;f=k(f.shadowRoot,c,b,e+1)}return f}function v(a,
c,b){return(0,q.getConfig)("usesShadowDom")?k(a,c,b,0):a.elementFromPoint(c,b)}function h(a){var c="visible"!==a.visibility,b=.1>a.opacity;return"none"===a.display||c||b}function n(a,c,b){return t(a,v(document,c.x,c.y))||t(a,v(document,b.left,b.top))||t(a,v(document,b.right,b.top))||t(a,v(document,b.right,b.bottom))||t(a,v(document,b.left,b.bottom))||t(a,v(document,c.x,b.top))||t(a,v(document,b.left,c.y))||t(a,v(document,c.x,b.bottom))||t(a,v(document,b.right,c.y))}function f(a,c,b){for(c=document.elementFromPoint(c.x,
c.y);c&&c.tagName;){var e="true"===c.getAttribute("data-apt-ignore-visible"),f=c===a,g=c.getAttribute("class")||"",g=b&&c!==(0,q.getBody)()&&-1<g.indexOf("apt");if(e||f||g)return!0;c=c.parentNode}return!1}function c(a){var c=a.x>(document.documentElement.clientWidth||window.innerWidth),b=0>a.y,e=a.y>(document.documentElement.clientHeight||window.innerHeight);return 0>a.x||c||b||e}Object.defineProperty(a,"__esModule",{value:!0});a.isElementVisibleV2=a.isElementVisible=a.documentElementFromPoint=a.findOptimizedTarget=
a.elementContainsChild=a.getParentElement=a.getParentNode=a.getEventTarget=a.findSingleElementInShadowDom=a.findElementsInShadowDom=void 0;var g=b(136),q=b(1),w=b(4),r=b(22),u=2,p=["#document","html","body"],x=5E3;a.findElementsInShadowDom=function(a,c){var b=c||w.documentRef;return(0,q.getConfig)("usesShadowDom")?(0,g.querySelectorAllDeep)(a,b):b.querySelectorAll(a)};a.findSingleElementInShadowDom=function(a,c){var b=c||w.documentRef;return(0,q.getConfig)("usesShadowDom")?(0,g.querySelectorDeep)(a,
b):b.querySelector(a)};a.getEventTarget=function(a){var c=(0,q.getConfig)("usesShadowDom");return a?c&&a.composedPath&&a.composedPath()[0]||a.target:void 0};a.getParentNode=function(a){return(0,q.getConfig)("usesShadowDom")&&a.parentNode instanceof DocumentFragment?a.parentNode.host:a.parentNode};a.getParentElement=function(a){return(0,q.getConfig)("usesShadowDom")&&a.parentNode instanceof DocumentFragment?a.parentNode.host:a.parentElement};a.elementContainsChild=t;a.findOptimizedTarget=function(a){if(!a||
!a.nodeName||-1<p.indexOf(a.nodeName.toLowerCase()))return a;var c=(0,q.getConfig)("elementAttributeWhitelist");if((0,r.isNotEmptyArr)(c)){if(c=c.filter(function(a){return-1===a.indexOf("*")}),l(a,c))return a;for(var b=0,e=a.parentNode;b<=u&&e&&e.nodeName&&-1===["body","html","#document"].indexOf(e.nodeName);b++,e=e.parentNode)if(l(e,c))return e;if(c=d(a,c,0))return c}return a};a.documentElementFromPoint=v;a.isElementVisible=function(a,b,g){if(!a||h(window.getComputedStyle(a)))return!1;var e=a.getBoundingClientRect();
return 0===a.offsetWidth+a.offsetHeight+e.height+e.width?!1:b?(b={x:e.left+e.width/2,y:e.top+e.height/2},!c(b)&&(!!n(a,b,e)||f(a,b,g))):!0};a.isElementVisibleV2=function(a,b,g){if(!a||h(window.getComputedStyle(a)))return!1;var e=a.getBoundingClientRect();if(0===a.offsetWidth+a.offsetHeight+e.height+e.width)return!1;var d={x:e.left+e.width/2,y:e.top+e.height/2};return(!b||!c(d))&&(!!n(a,d,e)||f(a,d,g))}},function(m,a,b){function l(a){if(!a)throw Error("invalid API key, the value must be set to be parsed");
return a.split("-")}function d(a){var c=l(a);if(3>c.length)throw Error("invalid API key structure "+a);return parseInt(c[2],10)}Object.defineProperty(a,"__esModule",{value:!0});a.isDesktop=a.getEnvironment=a.getChannel=a.isApiKeyMatch=a.getProduct=a.getProductKeyFromApiKey=void 0;a.getCurrentProductId=function(){return k.eventTrackData[v.cacheGet](k.productIdParameter)};a.getCurrentProductKey=function(){return(0,n.getProduct)(h.Cookie.getCookie("apt.sid"))};var t=b(8),k=b(4),v=b(5),h=b(36),n=b(22);
a.getProductKeyFromApiKey=n.getProductKeyFromApiKey;a.getProduct=n.getProduct;a.isApiKeyMatch=n.isApiKeyMatch;a.getChannel=d;a.getEnvironment=function(a){a=l(a);return 4>a.length?t.PROD_ENVIRONMENT:parseInt(a[3],10)};a.isDesktop=function(){return d(k.eventTrackData[v.cacheGet](k.productIdParameter))===t.DESKTOP_CHANNEL}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.findInAll=void 0;var l=b(1),d=b(7),t=b(15),k=b(0),v=b(13),h=b(6),n=new function(){this.guideHideSteps=function(){if(!(0,
l.isIframe)()){var a=d.IframeRequest.getMasterRequst("guide",{type:"hideAll"});(0,t.propagateDown)(a,(0,d.getRegisteredIframes)())}};this.updateState=function(a,c){if(!(0,l.isIframe)()){var b=d.IframeRequest.getMasterRequst("guide",{type:"updateState",state:a,enableSelector:c});(0,t.propagateDown)(b,(0,d.getRegisteredIframes)())}};this.setSelectorStateForEditorV2=function(a){(0,l.isIframe)()||(a=d.IframeRequest.getMasterRequst("guide",{type:"setSelectorStateForEditorV2",isMapperEnabled:a}),(0,t.propagateDown)(a,
(0,d.getRegisteredIframes)()))};this.setSelectorState=function(a){(0,l.isIframe)()||(a=d.IframeRequest.getMasterRequst("guide",{type:"updateSelectorState",state:a}),(0,t.propagateDown)(a,(0,d.getRegisteredIframes)()))};this.guideRemoveHighlighted=function(a,c){if(!(0,l.isIframe)()){var b=d.IframeRequest.getMasterRequst("guide",{type:"removeHighlighted",tag:a,removeAll:c});(0,t.propagateDown)(b,(0,d.getRegisteredIframes)())}};this.selectorHighlightElement=function(a,c,b){(0,l.isIframe)()||(a=d.IframeRequest.getMasterRequst("guide",
{type:"highlightElement",tag:c,cssSelector:a}),(0,t.postRequest)(a,b))};this.selectorHighlightAll=function(a,c,b){(0,l.isIframe)()||(a=d.IframeRequest.getMasterRequst("guide",{type:"highlightAll",stepId:c,cssSelector:a}),(0,t.postRequestDown)(a,b))};this.selectorRemoveAllHighlighted=function(){if(!(0,l.isIframe)()){var a=d.IframeRequest.getMasterRequst("guide",{type:"removeAllHighlighted"});(0,t.propagateDown)(a,(0,d.getRegisteredIframes)())}};this.getBadgesLocations=function(a,c){(0,l.isIframe)()||
(0,t.createSubscribeCallbackRequest)("apt_msg_get_badges_locations",{},a,c)};this.removeBadgeFromIframe=function(a,c,b){(0,l.isIframe)()||(0,t.createSubscribeCallbackRequest)("apt_msg_remove_badge",{badgeId:c},a,b)};this.setBadgeObserver=function(a,c){(0,l.isIframe)()||(0,t.createSubscribeCallbackRequest)("apt_msg_badge_set_observer",{},a,c)};this.unsetBadgeObserver=function(a,c){(0,l.isIframe)()||(0,t.createSubscribeCallbackRequest)("apt_msg_badge_unset_observer",{},a,c)};this.sendBadgeToIframe=
function(a,c){(0,l.isIframe)()||(0,t.createSubscribeCallbackRequest)("apt_msg_send_badge",{badge:c},a)};this.getElementLocation=function(a,c,b){(0,l.isIframe)()||(c={elementSelector:c},(0,t.createSubscribeCallbackRequest)("apt-msg-get-element-location",c,a,b))};this.elementExist=function(a,c,b,q){(0,l.isIframe)()||(c=d.IframeRequest.getMasterRequst("elementExist",{elementSelector:c,scrollToElement:q},b,a.iframeId),(0,t.postRequestDown)(c,a))};this.addElementHandler=function(a,c,b,d){(0,l.isIframe)()||
(c={nextStepTrigger:b,elementSelector:c},(0,t.createSubscribeCallbackRequest)("apt-msg-add-handler-show-next-step",c,a,d))};this.isElementVisible=function(a,c,b){(0,l.isIframe)()||(0,t.createSubscribeCallbackRequest)("guide",{type:"isElementVisible",cssSelector:c},a,b)};this.sendEditorV2StateResponse=function(a,c,b,q){(0,l.isIframe)()||(c=d.IframeRequest.getMasterRequst("guide",{type:"editorV2StateResponse",isMapperEnabled:b,isPreview:q},c),(0,t.postRequestDown)(c,a))};this.sendStateResponse=function(a,
c,b,q){(0,l.isIframe)()||(c=d.IframeRequest.getMasterRequst("guide",{type:"stateResponse",state:b,isStepSelected:q},c),(0,t.postRequestDown)(c,a))};this.getAlternateSelector=function(a,c,b){(0,l.isIframe)()||(0,t.createSubscribeCallbackRequest)("guide",{type:"getAlternateSelector",cssSelector:c},a,b)};this.addOutsideEventHandler=function(a,c,b,d){(0,l.isIframe)()||(c={nextStepTrigger:b,elementSelector:c},(0,t.createSubscribeCallbackRequest)("aptGuideExternalClick",c,a,d))};this.removeElementHandlers=
function(a){(0,l.isIframe)()||(0,t.createSubscribeCallbackRequest)("apt-msg-remove-element-handlers",{},a)}};a["default"]=n;a.findInAll=function(a,c,b,q,w,r){if(!a)return void b(void 0);var u=[],p=(0,l.getConfig)("sfdcTemplate")||document,x=(0,h.findElementInWindow)(a,p,!0),p=void 0,t=((0,k.isNodeList)(x)||Array.isArray(x))&&0<x.length,m=Node.prototype.isPrototypeOf(x);if(t||m){t=m?x:x[0];x=m?1:x.length;r&&(0,k.scrollElementToCenter)(t);x={element:t,isVisible:(0,k.isElementVisible)(t),count:x};if(!w)return void b(x);
u.push(x)}w=v.UUIDGenerator.generateV4Id();(0,d.subscribe)(w,function(a){for(var c=0;c<a.length;c++)!function(c){a[c].exist&&!u.some(function(e){return e.iframeData&&e.iframeData.iframeId===a[c].iframeData.iframeId})&&u.push({iframeData:a[c].iframeData,count:a[c].count,isVisible:a[c].isVisible})}(c);b(q?u:0<u.length?u[0]:void 0)});try{if((0,k.isNotEmptyArr)(c)){for(x=0;x<c.length;x++)p=c[x],n.elementExist(p,a,w,r),(0,d.incrementState)(w);(0,d.execute)(w,200)}else b(0<u.length?u:void 0)}catch(y){}}},
function(m,a,b){function l(a){var b=(0,f.getConfig)("filterUrls"),g=(0,f.getConfig)("filterType");if((0,c.isNotEmptyArr)(b)){var d=(0,c.getWindowLocation)();a=a||d.hostname+d.pathname+d.search+d.hash;if((0,c.matchUrl)(b,a))return g}return null}function d(a){var b;if(!(b="exclude"===l(a)))a:{b=(0,f.getConfig)("excludeUrls");if((0,c.isNotEmptyArr)(b)){var g=(0,c.getWindowLocation)();a=a||g.hostname+g.pathname+g.search+g.hash;if((0,c.matchUrl)(b,a)){b=!0;break a}}b=!1}return b}function t(a){return"mask"===
l(a)}function k(a){var b=(0,f.getConfig)("namedParamFilter"),g=(0,f.getConfig)("nameParamFilterType");if((0,c.isNotEmptyArr)(b)&&!(0,c.isBlank)(a)){var d=a.startsWith("?")?a.substring(1).split("\x26"):a.split("\x26");a={};var q=void 0,h=!0,n=!1,e=void 0;try{for(var w,k=d[Symbol.iterator]();!(h=(w=k.next()).done);h=!0)q=w.value.split("\x3d"),0<q.length&&2>q.length?a[q[0]]="":0<q.length&&3>q.length&&(a[q[0]]=q[1])}catch(l){n=!0,e=l}finally{try{!h&&k["return"]&&k["return"]()}finally{if(n)throw e;}}w=
!0;k=!1;d=void 0;try{for(var t,v=b[Symbol.iterator]();!(w=(t=v.next()).done);w=!0){var m=t.value;a.hasOwnProperty(m)&&("mask"===g?a[m]="apt-masked":"exclude"==g&&delete a[m])}}catch(l){k=!0,d=l}finally{try{!w&&v["return"]&&v["return"]()}finally{if(k)throw d;}}return"?"+(0,c.convert2Parameters)((0,c.addParameters)(a,[]))}return a}function v(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,f=3<arguments.length&&void 0!==
arguments[3]?arguments[3]:void 0,g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:void 0,d=5<arguments.length&&void 0!==arguments[5]&&arguments[5];try{return a({url:c,title:b,path:g,referrer:f},d?"rule":"track")}catch(q){throw w.logger.logInternalError(q,"failed to execute masking function, going to fail the tracking"),q;}}function h(a,b,q,h,w,l,m){var e=arguments[8],D=t(7<arguments.length&&void 0!==arguments[7]?arguments[7]:void 0),z=void 0,J=(0,f.getConfig)("maskUrlFunction"),F=(0,c.isFunction)(J);
if(F)z=void 0,e?z=""+a+b+q:b&&(z=""+a+b+q+h+w),z=v(J,z,m,l,z?void 0:q,e);else if(e)return[a,b,q,h,w,l,m];F?(z.url?(e=z.url,D=g.documentRef.createElement("a"),e=(D.href=e,[D.protocol+"//",D.host,D.pathname,D.search,D.hash]),e=n(e,5),a=e[0],b=e[1],q=e[2],h=e[3],w=e[4]):z.path&&(q=z.path),m=z.title):(h=k(h),D&&(q="/apt-masked-url",h="",w="",m=""));D="";l&&!d(l)&&(D=g.documentRef.createElement("a"),D.href=l,e=t(l),D=D.host!==(0,c.getWindowLocation)().host?D.protocol+"//"+D.host+(e?"/apt-masked-url":D.pathname+
k(D.search)+D.hash):"",e&&!(0,c.isBlank)(D)&&F&&(D=z.referrer));return(0,f.getConfig)("trackPageTitles")||(m=""),[a,b,q,h,w,D,m]}Object.defineProperty(a,"__esModule",{value:!0});a.maskUrlEditor=a.maskFullUrl=a.getFullUrlMasked=a.maskParameters=a.shouldBeMasked=a.isUrlFiltered=a.isExcluded=a.maskUrl=a.getWebContext=void 0;var n=function(){return function(a,c){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var b=[],f=!0,g=!1,d=void 0;try{for(var q,e=a[Symbol.iterator]();!(f=(q=e.next()).done)&&
(b.push(q.value),!c||b.length!==c);f=!0);}catch(h){g=!0,d=h}finally{try{!f&&e["return"]&&e["return"]()}finally{if(g)throw d;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),f=b(1),c=b(0),g=b(4),q=b(9),w=b(3);a.getWebContext=function(){var a=(0,c.getWindowLocation)(),b=a.protocol+"//",f=a.host,d=a.pathname,w=a.search,k=g.documentRef.title,a=a.hash,l=h(b,f,d,w,a,null,k),l=n(l,6);return b=l[0],f=l[1],d=l[2],w=l[3],a=l[4],k=l[5],{sc:b,ho:f,pa:decodeURIComponent(d),
q:decodeURIComponent(w),ha:decodeURIComponent(a),sch:(0,q.getPageHeight)(),scw:(0,q.getPageWidth)(),pt:k}};a.maskUrl=h;a.isExcluded=d;a.isUrlFiltered=l;a.shouldBeMasked=t;a.maskParameters=k;a.getFullUrlMasked=function(){var a=(0,c.getWindowLocation)(),b=a.protocol+"//",f=a.host,g=a.pathname,d=a.search,a=a.hash,q=h(b,f,g,d,a,null,null),q=n(q,5);return b=q[0],f=q[1],g=q[2],d=q[3],a=q[4],""+b+f+g+d+a};a.maskFullUrl=function(a){var b=g.documentRef.createElement("a");b.href=a;var f=b.protocol+"//",d=b.host,
q=b.pathname,w=b.search,k=b.hash,e=h(f,d,q,w,k,null,null,a),e=n(e,5);return f=e[0],d=e[1],q=e[2],w=e[3],k=e[4],(0,c.isEmail)(q)&&(q=""),a.startsWith("http")?""+f+d+q+w+k:a.startsWith("mailto:")?""+b.protocol+q:0===a.indexOf("#")?k:""+q+w+k};a.maskUrlEditor=function(a,c,b,f,g){return h(a,c,b,f,g,void 0,void 0,void 0,!0)}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.getGlobalContext=function(){var a=l.globalContextCache[d.cacheGet]("apt.gcx");return(0,t.limitJsonKeys)(a,100)};
var l=b(4),d=b(5),t=b(0)},function(m,a,b){function l(a){return!a||"string"!=typeof a||""==a.trim()}function d(a){if(a){a=a.split("-");var b=a.length;return 2<a.length&&a.splice(2,1),4>b&&a.push("1"),a.join("-")}return a}Object.defineProperty(a,"__esModule",{value:!0});a.isBlank=a.isEmptyArr=a.isObject=a.getIframeId=a.isValidPort=a.retryFunction=a.isApiKeyMatch=a.getProduct=a.getProductKeyFromApiKey=a.mapQueryParamsToObject=a.isNotEmptyArr=void 0;var t=function(){return function(a,b){if(Array.isArray(a))return a;
if(Symbol.iterator in Object(a)){var f=[],c=!0,g=!1,d=void 0;try{for(var w,r=a[Symbol.iterator]();!(c=(w=r.next()).done)&&(f.push(w.value),!b||f.length!==b);c=!0);}catch(u){g=!0,d=u}finally{try{!c&&r["return"]&&r["return"]()}finally{if(g)throw d;}}return f}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),k=b(13),v=b(10);a.isNotEmptyArr=function(a){return a&&Array.isArray(a)&&0<a.length};a.mapQueryParamsToObject=function(a){var b={};return a.split("\x26").forEach(function(a){a=
a.split("\x3d");a=t(a,2);b[a[0]]=a[1]},{}),b};a.getProductKeyFromApiKey=d;a.getProduct=function(a){return a?a.split("-").slice(1,2).join():a};a.isApiKeyMatch=function(a,b){return d(a)===d(b)};a.retryFunction=function(a,b,f){for(var c=0;c<a;c++)setTimeout(f,b*c)};a.isValidPort=function(a){return!l(a)&&"80"!==a&&"443"!==a};a.getIframeId=function(){return window.aptrinsicIframeId=window.aptrinsicIframeId||k.UUIDGenerator.generateV4Id()};a.isObject=function(a){return void 0!==a&&"[object Object]"==Object.prototype.toString.call(a)};
a.isEmptyArr=function(a){if(a){var b=a;return Array.isArray(b)||(b=(0,v.arrayFrom)(a)),Array.isArray(b)&&0==b.length}return!0};a.isBlank=l},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.EVENTS={BOT:"bot"};a.TOP_TO_IFRAME_EVENTS={BOT_RESPONSE:"botResponse",BOT_FOUND:"botFound",GET_BOT_CONTENT_RESPONSE:"getBotContentResponse",POST_BOT_EVENT:"postBotEvent",SET_BOT_IS_OPEN:"setBotIsOpen",REMOVE_BOT:"removeBot",IS_ELEMENT_VISIBLE:"isElementVisible",GET_APTRINSIC_ID_RESPONSE:"getAptrinsicIdResponse",
ADD_ELEMENT_CLICK_LISTENER:"ADD_ELEMENT_CLICK_LISTENER"};a.IFRAME_TO_TOP_EVENTS={IFRAME_CLOSED:"iframeClosed",BOT_FOUND:"botFound",GET_BOT_CONTENT:"getBotContent",TRACK_BOT_TOGGLE:"trackBotToggle",IS_ELEMENT_VISIBLE_RESPONSE:"isElementVisibleResponse",GET_APTRINSIC_ID:"getAptrinsicId",BOT_ELEMENT_CLICK:"botElementClick"};a.BOT_IFRAME_INTERNAL_EVENTS={INIT_WIDGET_IN_IFRAME:"INIT_WIDGET_IN_IFRAME",BOT_EMPTY_CONFIG:"BOT_EMPTY_CONFIG"};a.BOT_INTERNAL_EVENTS={BOT_CLICK_OUTSIDE:"BOT_CLICK_OUTSIDE"}},function(m,
a,b){Object.defineProperty(a,"__esModule",{value:!0});a.UserData=void 0;var l=b(13),d=b(36),t=b(4),k=b(5),v=b(3),h=b(25),n=b(0),f=b(1),c=b(9),g=b(11),q=b(18),w=null,r=a.UserData=new function(){function a(){return(0,f.getConfig)("sessionCookieTTL")||18E5}function b(){try{var a=d.Cookie.getAllCookieVal("apt.uid");if(null!=a&&1<a.length){var e=!(0,f.getConfig)("localStorageCookie")&&(0,f.getConfig)("fullDomainCookie")?(0,c.getDomain)():document.location.hostname;if(d.Cookie.deleteCookie("apt.uid",e),
null!=(a=d.Cookie.getAllCookieVal("apt.uid"))&&1<a.length){var g=!(0,f.getConfig)("localStorageCookie")&&(0,f.getConfig)("fullDomainCookie")?(0,c.getDomain)():" ";d.Cookie.deleteCookie("apt.uid",g)}v.logger.logInternalError(Error("deleting apt.uid for domain, current cookies: "+d.Cookie.getCookiesRaw()))}}catch(q){v.logger.logInternalError(q)}}function x(){try{var a=d.Cookie.getAllCookieVal("apt.sid");if(null!=a&&1<a.length){var b=!(0,f.getConfig)("localStorageCookie")&&(0,f.getConfig)("fullDomainCookie")?
(0,c.getDomain)():" ";d.Cookie.deleteCookie("apt.sid",b);v.logger.logInternalError(Error("deleting apt.sid for domain, current cookies: "+d.Cookie.getCookiesRaw()))}}catch(e){v.logger.logInternalError(e)}}function m(){var a=d.Cookie.getCookie("apt.uid");if(a&&((0,f.getConfig)("multipleProductsPerDomain")||(0,f.getConfig)("strictProductVerification"))){var c=l.UUIDGenerator.getProductId(a);c&&!(0,q.isApiKeyMatch)(c,F)&&(a=null)}return a}function B(a,c,b,e){a=[a,0,c||J];return b&&e&&a.push(e),a}function y(a,
c,e){if((0,f.getConfig)("enableTag")){b();var g=m(),q=[],h=a||J;if(!g||c||g&&g.startsWith("undefined-")?(c&&!e&&v.logger.logInternalError(Error("force new is "+c+", and did not have aptrinsic id so generating a new one")),g=l.UUIDGenerator.generateUuid(F),q=B(g,h,c,e)):(q=g.split("."),a&&a>q[2]&&(q[2]=a)),t.eventTrackData[k.cacheSet](t.userIdParameter,q[0]),d.Cookie.setCookie("apt.uid",q.join("."),31536E6),!d.Cookie.getCookie("apt.uid"))throw Error("wasn't able to save user cookie for type: "+a+", force new:"+
c+", aptrinsic id: "+e);C=!0}}function e(){w&&clearTimeout(w);w=setTimeout(function(){d.Cookie.getCookie("apt.sid")||g.internalEventListener.dispatchEvent("sessionExpired")},a()+20)}function D(c){if(!(0,q.isDesktop)()&&(d.Cookie.setCookie("apt.sid",c,a()),e(),!d.Cookie.getCookie("apt.sid")))throw Error("wasn't able to create session cookie, not going to track this user");}var z=this,J=0,F=void 0,I=!1,C=!1;this.initializeUser=function(a){(0,f.getConfig)("enableTag")&&(a&&(F=a),y(),z.getSessionId())};
this.clearUserData=function(){d.Cookie.deleteCookie("apt.uid");d.Cookie.deleteCookie("apt.sid")};this.ensureUserData=function(){if((0,f.getConfig)("enableTag")){b();var a=d.Cookie.getCookie("apt.uid"),c=d.Cookie.getCookie("apt.sid");a&&c||z.initializeUser()}};this.getUserId=function(){if((0,f.getConfig)("enableTag")){var a=d.Cookie.getCookie("apt.uid");if(!a)throw Error("user cookie is not initialized, is init called before: "+C+", current cookies in doc: "+d.Cookie.getCookiesRaw());var c=void 0;
if((0,f.getConfig)("strictProductVerification")){var b=m();b||(b=l.UUIDGenerator.generateUuid(F),c=B(b),d.Cookie.setCookie("apt.uid",c.join("."),31536E6),t.eventTrackData[k.cacheSet](t.userIdParameter,c[0]))}return c=c||a.split("."),c[0]}};this.getAptrinisId=function(a){if((0,f.getConfig)("enableTag")){var c=d.Cookie.getCookie("apt.uid"),b=[];if(a&&!c)return null;if(!c)throw Error("user cookie is not initialized, is init called before: "+C+", current cookies in doc: "+d.Cookie.getCookiesRaw());return b=
c.split("."),3<b.length?b[3]:b[0]}};this.setAptrinsicId=function(a,c){if((0,f.getConfig)("enableTag")){var b=d.Cookie.getCookie("apt.uid"),e=[];if(!b)throw Error("user cookie is not initialized, is init called before: "+C+", current cookies in doc: "+d.Cookie.getCookiesRaw());e=b.split(".");if(b=4>e.length||3<e.length&&e[3]!==a){if((0,f.getConfig)("enableTag")||!(0,q.isDesktop)()){var g=l.UUIDGenerator.generateUuid(F);D(g);t.eventTrackData[k.cacheSet](t.sessionIdParam,g)}y(c?1:2,!0,a)}return e[3]=
a,t.eventTrackData[k.cacheSet](t.aptrinsicIdParam,e[3]),b}};this.changeUserType=function(a){(0,f.getConfig)("enableTag")&&(y(a),t.eventTrackData[k.cacheSet]("vt",r.getUserType()))};this.getUserType=function(a){if((0,f.getConfig)("enableTag")){var c=d.Cookie.getCookie("apt.uid"),b=[];if(a&&!c)return J;if(!c)throw Error("user cookie is not initialize");b=c.split(".");return b[2]||0}};this.getSessionId=function(){if((0,f.getConfig)("enableTag")){if((0,q.isDesktop)())return t.eventTrackData[k.cacheGet](t.sessionIdParam);
x();var a=d.Cookie.getCookie("apt.sid"),c=!1;return!a||(0,f.getConfig)("multipleProductsPerDomain")&&(0,q.getProductKeyFromApiKey)(l.UUIDGenerator.getProductId(a))!==(0,q.getProductKeyFromApiKey)(F)?(c=I=!0,a=l.UUIDGenerator.generateUuid(F)):I=!1,D(a),c&&!(0,f.getConfig)("setSessionExternally")&&(t.eventTrackData[k.cacheSet]("ai",r.getAptrinisId()),t.eventTrackData[k.cacheSet]("vt",r.getUserType()),t.eventTrackData[k.cacheSet](t.sessionIdParam,a),(0,h.internalApt)("sessionInitialized",null,null,null,
!1),(0,n.clearAptrinsicSessionStorage)()),a}};this.setSessionId=function(c){if((0,f.getConfig)("enableTag")){if(x(),d.Cookie.setCookie("apt.sid",c,a()),e(),!(c=d.Cookie.getCookie("apt.sid")))throw Error("wan't able to create session cookie, not going to track this user");t.eventTrackData[k.cacheSet]("ai",r.getAptrinisId());t.eventTrackData[k.cacheSet](t.sessionIdParam,c);t.eventTrackData[k.cacheSet]("vt",r.getUserType());(0,n.clearAptrinsicSessionStorage)()}};this.getLeadType=function(){return 1};
this.userType=function(){return 2};this.visitorType=function(){return J};this.isNewSession=function(){var a=I;return I=!1,a};this.isUser=function(){return 2==z.getUserType()}}},function(m,a,b){function l(){(0,h.getConfig)("enableTag")&&f.push(arguments)}function d(){var a=Array.prototype.slice.call(arguments);v.api.trackEvent.apply(v.api,a)}function t(){if((0,h.getConfig)("enableTag")){for(var c=f,b=void 0,g=c.length,q=0;q<g;q++)b=c.shift(),d.apply(null,b);a.internalApt=w=function(){d.apply(null,
arguments)}}}function k(){g=!1;c&&clearTimeout(c)&&(c=null);t();for(var a=0;a<q.length;a++){var b=q[a],f=b[0],b=b.slice(1);f.apply(null,b)}}Object.defineProperty(a,"__esModule",{value:!0});a.appNotReady=a.registerIdentifyCallback=a.isInIdentify=a.identifyFinished=a.identifyStart=a.internalApt=a.appReady=void 0;var v=b(41),h=b(1),n=b(3),f=[],c=null,g=!1,q=[],w=l;a.appReady=t;a.internalApt=w;a.identifyStart=function(){g=!0;c=setTimeout(k,1E3);a.internalApt=w=l};a.identifyFinished=k;a.isInIdentify=function(){return g};
a.registerIdentifyCallback=function(){var a=[].slice.call(arguments),c=a[0];if(!c||"function"!=typeof c)return void n.logger.logInternalError(Error("registerIdentifyCallback didnt receive function as first argument"));q.push(a)};a.appNotReady=function(){a.internalApt=w=l}},function(m,a,b){function l(a,c){var b=void 0,g=void 0;return 0===a.sequenceNumber&&(0,f.isSnoozeButtonEnabled)(a.activationType,a.snoozeButton,a.activationTypes)&&(b=(0,v.createElement)("div",["aptr-snooze-container"]),g=(0,f.createSnoozeButton)(a.snoozeButton,
b,a.survey,a.id,a.sequenceNumber,c)),[b,g]}function d(a,c){return a.setAttribute("tabindex",c),c+1}function t(a){return a&&(0,c.getConfig)("storageProxyDomain")?(0,f.replaceImagesSrcFromHtmlString)(a):a}Object.defineProperty(a,"__esModule",{value:!0});a.DEFAULT_CONTACT_ME_MESSAGE=void 0;var k=function(){return function(a,c){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var b=[],f=!0,g=!1,d=void 0;try{for(var h,n=a[Symbol.iterator]();!(f=(h=n.next()).done)&&(b.push(h.value),!c||b.length!==
c);f=!0);}catch(k){g=!0,d=k}finally{try{!f&&n["return"]&&n["return"]()}finally{if(g)throw d;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.renderSubmitButton=function(a,c,b,f){var g=(0,v.createElement),d;d=(0,v.isBlank)(a.text)?a.isLast?"Done":"Next":a.text;g=g("div","apt-survey-submit",{text:d});return g.style.color=a[f?"submitButtonTextColor":"textColor"],g.style.backgroundColor=a[f?"submitButtonBackgroundColor":"backgroundColor"],g.style.borderWidth=
a[f?"submitButtonBorderWidth":"borderWidth"]+"px",g.style.borderRadius=a[f?"submitButtonBorderRadius":"borderRadius"]+"px",g.style.borderColor=a[f?"submitButtonBorderColor":"borderColor"],g.setAttribute("tabindex",b+c),g.setAttribute("role","button"),g};a.renderSurveyTitle=function(a,c,b,f,g){c=(0,h.toDom)(c,!1,["apt-survey-title"].concat(f));b.push("apt-survey-title-wrapper");f=(0,v.createElement);a.showQuestionNumber?(g=(0,v.createElement)("div","apt-question-sequence",{text:g+"."}),a=(g.style.fontFamily=
a.numberFontFamily,g.style.fontSize=a.numberSize+"px",g.style.color=a.numberColor,g)):a=null;return f("div",b,null,[a,c])};a.renderContactMeCheckBox=function(a,c){return(0,v.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":a.contactMeMessage||g,tabindex:c})};a.renderContactMe=function(a,c){var b=(0,v.createElement)("div",["apt-contact-wrapper"],void 0,[c,(0,v.createElement)("div","apt-contact-me-text",{text:a.contactMeMessage||g,dataAtt:[{name:"aria-hidden",value:"true"}]})]);
return a.showContactMeMessage||(b.style.display="none"),b};a.hideSnooze=function(){document.querySelector(".aptr-snooze-container").style.display="none"};a.setTabIndexForSnoozeButton=d;a.showSnooze=function(a,c,b){a=l(a,c);c=k(a,2);a=c[0];c=c[1];return a&&b.push(a),c};a.updateStepNumber=function(a,c){var b=a.querySelector(".apt-question-sequence");b&&(b.innerText=c+".")};a.setMaxHeightForPage=function(a,c,b){a=document.getElementById(a);var f=a.parentNode,g=f.getBoundingClientRect().height;.9*(0,
n.getPageHeight)()<g&&(f.style.paddingRight="0px");g=window.getComputedStyle(f,null);f=g.getPropertyValue("padding-top");g=g.getPropertyValue("padding-bottom");b=a.querySelector(b).getBoundingClientRect().height;var d=window.getComputedStyle(a,null),h=d.getPropertyValue("padding-top"),d=d.getPropertyValue("padding-bottom");c=a.querySelector(c);c.style.maxHeight="calc(90vh - "+b+"px - "+h+" - "+d+" - "+f+" - "+g+")";c.style.overflowY="auto"};a.replaceScoreSurveyImagesDomain=function(a){a.titleHtml=
t(a.titleHtml);a.notSatisfiedHtml=t(a.notSatisfiedHtml);a.satisfiedHtml=t(a.satisfiedHtml);a.defaultComment=t(a.defaultComment)};a.replaceBooleanImagesDomain=function(a){a.titleHtml=t(a.titleHtml);a.notSatisfiedHtml=t(a.notSatisfiedHtml);a.satisfiedHtml=t(a.satisfiedHtml);a.defaultComment=t(a.defaultComment)};a.replaceMultiChoiceImagesDomain=function(a){a.question=t(a.question);a.answers=a.answers.map(function(a){return a.text=t(a.text),a})};a.replaceOpenTextImagesDomain=function(a){a.question=t(a.question)};
a.replaceDynamicRangeImagesDomain=function(a){a.notSatisfiedHtml=t(a.notSatisfiedHtml);a.defaultComment=t(a.defaultComment);a.satisfiedHtml=t(a.satisfiedHtml)};a.replaceContentStepImagesDomain=function(a){a.html=t(a.html)};a.addSnoozeForMCQSurvey=function(a,c,b,f){a=l(a,c);c=k(a,2);a=c[0];return(c=c[1])?(b.push(a),d(c,f)):f};a.addSnoozeForScoreSurvey=function(a,c,b,f,g){c=l(a,c);var h=k(c,2);c=h[0];return(h=h[1])?(g=d(h,g),a.mergeFirstSteps?b.insertBefore(c,b.firstChild):f.push(c),g):g};var v=b(0),
h=b(6),n=b(9),f=b(16),c=b(1),g=a.DEFAULT_CONTACT_ME_MESSAGE="It's okay to contact me about my feedback"},function(m,a,b){function l(a){var b={};return Object.keys(a).sort().forEach(function(f){(0,k.isObject)(a[f])?b[f]=l(a[f]):Array.isArray(a[f])?b[f]=(0,v.arrayFrom)(a[f],function(a){return(0,k.isObject)(a)?l(a):a}):b[f]=a[f]}),b}function d(a){return Object.keys(a).filter(function(b){return null!=a[b]}).reduce(function(b,f){return b[f]="object"===t(a[f])?d(a[f]):a[f],b},Array.isArray(a)?[]:{})}Object.defineProperty(a,
"__esModule",{value:!0});a.removeNullFields=a.filterProperties=a.orderAlphabetically=void 0;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k=b(0),v=b(10);a.orderAlphabetically=l;a.filterProperties=function(a,b){var f={},c;for(c in a)-1<b.indexOf(c)&&a.hasOwnProperty(c)&&(f[c]=a[c]);return f};a.removeNullFields=d},function(m,a,b){function l(a){return a&&
a.__esModule?a:{"default":a}}function d(){if(T){var a=(0,g.removeFromQueryParam)(R);history.replaceState("",document.title,a)}Z&&(a=(0,g.removeFromQueryParam)(V),history.replaceState("",document.title,a))}function t(){var a=void 0;try{var c=w.windowRef.sessionStorage.getItem(U);if(c){var b=JSON.parse(c);b&&b.timestamp&&Date.now()<=b.timestamp+Q&&(a=b.guideId);w.windowRef.sessionStorage.removeItem(U)}}catch(e){r.logger.logInternalError("Error reading onDemand guide id",e)}S=a;T=(0,g.getQueryParam)(R);
X=w.windowRef.sessionStorage.getItem("apt.guideId");Y=T||X;Z=(0,g.getQueryParam)(V);d();setTimeout(d,1500)}function k(a){v(a)&&(H[a]=!1)}function v(a){return{}.hasOwnProperty.call(H,a)&&!0===H[a]}function h(a){try{if(Y&&!p["default"].isEditorMode()){var c={};Object.assign(c,w.eventTrackData[u.cacheGetAll]());(0,g.addCacheBuster)(c);var b=(0,D.getGlobalContext)();b&&Object.assign(c,{gcx:JSON.stringify(b)});var e=(0,y.getEngagementSessionId)();c.s=e;Z&&(c.at=Z);var f=w.eventTrackData.data[w.productIdParameter];
if((0,x.getConfig)("crossProductEngagement")){var d=JSON.parse(w.windowRef.sessionStorage.getItem("apt.localCache"));c.ai=d.ai;c.v=e;c.p=z.UUIDGenerator.getProductId(e);f=c.p}var h=x.ongoingEngagementEndpoint+"/"+f+"/"+Y+"?"+(0,g.convert2Parameters)((0,g.addParameters)(c,[]));q.AjaxUtil.getData(h,function(c){if(X){var b=JSON.parse(w.windowRef.sessionStorage.getItem("apt.prevStepMap")),e=w.windowRef.sessionStorage.getItem("apt.stepId");if(!b||!e)return void r.logger.logInternalError(Error("guide ongoing cannot be processed due to missing parameters, prev step map: "+
b+", current step: "+e));var f=void 0;if(c.content.steps.forEach(function(a){a.id===b[e].id&&(f=a)}),!f)return void r.logger.logInternalError(Error("guide ongoing cannot be processed since previous step "+b[e].id+", does not exist in guide "+Y));var d=(0,B.resolveUrlWithPlaceholders)(w.windowRef.location.href,f.navigation.nextStepUrl);if(!T&&X&&!(0,g.matchUrl)(d,(0,g.getPageUrl)()))return}a(c)})}}catch(n){r.logger.logInternalError("Error during getting on demand engagement id "+Y)}}function n(a,c){var b=
void 0;switch(a.type){case "CONTENT":b=C["default"].getHtml(a);break;case "SCORE":switch(c){case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":b=E["default"].getHtml(a);break;case "IN_APP_RATING_SURVEY":b=N["default"].getHtml(a)}break;case "BOOLEAN":b=P["default"].getHtml(a);break;case "MULTIPLE_CHOICE_QUESTION":b=L["default"].getHtml(a);break;case "OPEN_TEXT":b=O["default"].getHtml(a);break;case "DYNAMIC_RATING_STEP":b=M["default"].getHtml(a);break;default:throw Error("Type "+a.type+" is not supported");
}return b}function f(a,c){var b=2<arguments.length&&void 0!==arguments[2]&&arguments[2],e=[];switch(a.contentType){case "IN_APP_DIALOG":e.push(I["default"].SanitizeHtml(a.htmlElements,b,c));break;case "IN_APP_GUIDE":a.steps.sort(function(a,c){return a.sequenceNumber-c.sequenceNumber});e.push(Object.assign({},I["default"].SanitizeHtml(a.footer,b,c),{stepId:a.steps?a.steps[0].id:null}));for(var f=0;f<a.steps.length;f++){var g=a.steps[f],d=I["default"].SanitizeHtml(g.content+g.titleHtml,b,c);0===f?d.isValid||
Object.assign(e[0],d,{stepId:g.id}):e.push(Object.assign({},d,{stepId:g.id}))}break;case "IN_APP_CAROUSEL":a.carouselSlideList.sort(function(a,c){return a.sequence-c.sequence});for(f=0;f<a.carouselSlideList.length;f++)e.push(Object.assign({},I["default"].SanitizeHtml(a.carouselSlideList[f].html,b,c),{stepId:a.carouselSlideList[f].id}));break;case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":for(f=a.contentType,
g=a.steps,g.sort(function(a,c){return a.sequenceNumber-c.sequenceNumber}),d=0;d<g.length;d++){var q=n(g[d],f);e.push(Object.assign({},I["default"].SanitizeHtml(q,b,c),{stepId:g[d].id}))}}return e}function c(a,c,b,e){return function(d){var q=(0,J.arrayFrom)(b,function(a){return Object.assign({},{id:a.id,content:a.content.map(function(a){return(0,g.isObject)(a)?a:JSON.parse(a)})})}),q=(0,J.arrayFrom)(q,function(b){var e=b.id;b=b.content;var g=[],q=!0;a&&!d?(q=!1,g.push("Engagement checksum is invalid since there is URL configured but no checksum to validated against")):
d&&b.forEach(function(a){a=(0,F.validateChecksum)(e,a,d);a.valid||(q=a.valid,g.push(a.errorMessage))});b=f(b[0],c,!0).map(function(a,c){return{valid:a.isValid,errors:a.errors,stepIndex:c,stepId:a.stepId}});return{id:e,checksum:{valid:q,errors:g},sanitization:b}});e(q)}}Object.defineProperty(a,"__esModule",{value:!0});a.validateEngagements=a.sanitizeEngagement=a.cleanOndemandGuideDataFromURL=a.sendEngagementClosedEvent=a.registerEngagementPageChangedHandler=a.hasLiveEngagement=a.getGuideRefreshData=
a.hideAnyActiveEngagement=a.handleEngagementFinish=a.saveOnDemandGuideId=a.isOndemandState=a.startOverEngagement=a.isStartOverState=a.isLocked=a.unlockEngagementType=a.lockEngagementType=void 0;a.getOngoingEngagement=h;var g=b(0),q=b(12),w=b(4),r=b(3),u=b(5);m=b(14);var p=l(m),x=b(1),A=b(30),B=b(29),y=b(39),e=b(11),D=b(21),z=b(13),J=b(10),F=b(51);m=b(82);var I=l(m);m=b(76);var C=l(m);m=b(81);var E=l(m);m=b(80);var N=l(m);m=b(75);var P=l(m);m=b(78);var L=l(m);m=b(79);var O=l(m);m=b(77);var M=l(m),
K=b(32),H={},R="aptGuideId",V="aptActivationType",U="apt.aptOdGuideId",Q=3E4,S=void 0,T=void 0,X=void 0,Y=void 0,Z=void 0,ca={};t();a.lockEngagementType=function(a){H[a]=!0};a.unlockEngagementType=k;a.isLocked=v;a.isStartOverState=function(){return Y};a.startOverEngagement=function(a){h(a)};a.isOndemandState=function(){return S};a.saveOnDemandGuideId=function(a){try{var c={guideId:a,timestamp:Date.now()};w.windowRef.sessionStorage.setItem(U,JSON.stringify(c))}catch(b){r.logger.logInternalError("Error setting onDemand guide id",
b)}};a.handleEngagementFinish=function(a){k(a);setTimeout(function(){A.KnowledgeCenterManager.fetchEntriesAndSendToWidget(w.eventTrackData.data[w.productIdParameter],w.eventTrackData.data[w.aptrinsicIdParam])},200);e.internalEventListener.removeListener("pageview",ca[a])};a.hideAnyActiveEngagement=function(){if(!(0,x.isIframe)()){var a=window.self!==window.top.parent?window.document:window.top.document;Object.values(K.getAll()).forEach(function(a){a.rootEl.classList.contains("apt-vex")&&a.close()});
a.querySelectorAll(".apt-hotspot-element").forEach(function(c){c&&a.body.removeChild(c)})}};a.getGuideRefreshData=t;a.hasLiveEngagement=function(){return Object.values(H).some(function(a){return a})};a.registerEngagementPageChangedHandler=function(a,c){e.internalEventListener.removeListener("pageview",ca[a]);e.internalEventListener.addListener("pageview",c);ca[a]=c};a.sendEngagementClosedEvent=function(){e.internalEventListener.dispatchEvent("engagementClosed");var a=w.eventTrackData[u.cacheGet](w.productIdParameter);
!a||0!==a.indexOf("AP-BTJ9NZXEJFSP")&&0!==a.indexOf("AP-2POJKINZM5HL")||e.internalEventListener.dispatchEvent("surveyClosed")};a.cleanOndemandGuideDataFromURL=d;a.sanitizeEngagement=f;a.validateEngagements=function(a,b,e,f){(0,F.loadChecksumFile)(a,c(a,b,e,f))}},function(m,a,b){function l(a,c){var b=a.substring(n.length),f=b[0];if(-1===["/","?","#"].indexOf(f))return c;var d=document.createElement("a");d.href=c;var p=decodeURIComponent(d.host.endsWith(":80")||d.host.endsWith(":443")?d.hostname:d.host),
h=d.protocol+"//";switch(f){case "/":return""+h+p+b;case "?":return""+h+p+d.pathname+b;case "#":return""+h+p+d.pathname+d.search+b;default:return c}}function d(a,c,b){if(!c)return"";if(!a||c===b)return c;c=c.split(b);var f=a.split(b);if(1===c.length&&c[0]===h||2===c.length&&""===c[0]&&c[1]===h)return a.charAt(0)===b?a.substring(1):a;a=[];for(var d=0;d<c.length;d++){var p=f[d],n=c[d];p&&n&&n===h?a.push(p):n&&a.push(n)}return a.join(b)}function t(a,b){if(b.startsWith(f))return""+a+b.substring(f.length);
if(b.startsWith(n))return l(b,a);if(-1===b.indexOf(v))return b;if(b===h)return a;var w=document.createElement("a");w.href=a;0===b.indexOf(h)&&(b=w.protocol+"//"+b);var r=document.createElement("a");r.href=b;c(r.pathname,r.hash)&&(r.pathname+=r.hash,r.hash="");r.hash!=="#"+h&&c(w.pathname,w.hash)&&(w.pathname+=w.hash,w.hash="");var u=decodeURIComponent(w.host.endsWith(":80")||w.host.endsWith(":443")?w.hostname:w.host),p=decodeURIComponent(r.host.endsWith(":80")||r.host.endsWith(":443")?r.hostname:
r.host),u=d(u,p,"."),p=d(decodeURIComponent(w.pathname),decodeURIComponent(r.pathname),"/"),k=!1;!w.hash.startsWith("#/")&&1<w.hash.split("/").length&&(w.hash=w.hash.replace("/","#"));!w.hash.startsWith("#/")&&1<r.hash.split("/").length&&(r.hash=r.hash.replace("/","#"),k=!0);var t=d(w.hash,r.hash,"#");k&&(t=t.replace("#","/"));var m=k="",k="";if(w.search||r.search&&r.search.substring(1)!==h)if(w.search){for(var k=decodeURIComponent(w.search).substring(1).split("\x26"),m=decodeURIComponent(r.search).substring(1).split("\x26"),
w=[],y=0;y<m.length;y++){var e=d(k[y],m[y],"\x3d");w.push(e)}k=w.join("\x26")}else k=r.search.substring(1);r=r.protocol;p=p&&"/"!==p?"/"+p:"/"===p?"/":"";w=k?"?"+k:"";k="";return t&&(k=t.startsWith("#")?t:"#"+t),r+"//"+u+p+w+k}Object.defineProperty(a,"__esModule",{value:!0});a.resolveUrlWithPlaceholders=t;a.resolveUrlsWithPlaceholdersInHTML=function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(a){return a},b=k.documentRef.createElement("div");return b.innerHTML=a,b.querySelectorAll("a").forEach(function(a){var b=
t(window.location.href,a.href);a.href=c?c(b):b}),b.innerHTML};var k=b(4),v="px-auto-resolve",h="$px-auto-resolve",n="$px-auto-resolve-prefix",f="$px-auto-resolve-current-url",c=function(a,c){return c&&(0===c.indexOf("#/")||0===c.indexOf("#!/"))&&a&&-1!==a.indexOf("/",a.length-1)}},function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}function d(){var a=u.windowRef.sessionStorage;return{kcId:ma.getKcId(),categoryId:a.getItem("apt.kcCatId"),recId:ma.getRecommendedId()}}function t(a){var b=
a.iframe,e=a.windowFont,f=a.onBoardingFont,d=a.widgetUrl,p=a.widgetNonce;a=a.cssNonce;var h=e&&0>R.BROWSER_DEFAULT_FONTS.indexOf(e),q=f&&0>R.BROWSER_DEFAULT_FONTS.indexOf(f);h&&(h=c(b,e),e=g(b,e,1,a),b.contentDocument.head.appendChild(h),b.contentDocument.body.appendChild(e));q&&(e=c(b,f),f=g(b,f,1,a),b.contentDocument.head.appendChild(e),b.contentDocument.body.appendChild(f));f=b.contentDocument.createElement("script");f.type="text/javascript";f.charset="utf-8";f.async=!0;p&&(f.nonce=p);f.src=d;
b.contentDocument.head.appendChild(f)}function k(){var a=(0,y.isOndemandState)();if(a){var c=d();v(a,!1,c.kcId,c.categoryId,c.recId)}}function v(a,c,b,f,g){if((0,y.hideAnyActiveEngagement)(),c)B.AjaxUtil.getData(I.previewEndpoint+"/kc/"+a,function(a){E.EngagementDrawer.draw(a)},{Authorization:"Bearer "+C["default"].getToken()},function(a){try{403===a?((0,N.showMessage)("error","Not authorized to preview this engagement"),C["default"].exit()):401==a&&((0,N.showMessage)("error","Token expired, try to preview again"),
C["default"].exit())}catch(c){x.logger.logInternalError(c)}});else{c=(0,P.getTrackingPayload)();c.at="kc";c.kcid=b;c.catid=f;c.recId=g||null;var d=c.s;(0,e.setEngagementSessionId)(d);a=p.ondemandEndpoint+"/"+u.eventTrackData.data[u.productIdParameter]+"/"+a+"?"+(0,D.convert2Parameters)((0,D.addParameters)(c,[]));try{B.AjaxUtil.getData(a,function(a){E.EngagementDrawer.draw([a],!0,{kcid:b,catid:f,recId:g||null})})}catch(h){x.logger.logInternalError("Error during getting on demand engagement id "+startOverGuideId)}}}
function h(){ea.fetchEntriesAndSendToWidget(u.eventTrackData.data[u.productIdParameter],u.eventTrackData.data[u.aptrinsicIdParam])}function n(a,c,b,e){try{var f=(0,la.findSingleElementInShadowDom)("#apt-widget",document);if(!a||a&&!a.element||!c||!b||!f)return!f&&x.logger.logInternalError(Error("Could not calculate position for embedded bot, widget container does not exist")),a&&!a.element&&x.logger.logInternalError(Error("Could not calculate position for embedded bot, mapped element does not exist")),
(!e||!c||!b)&&x.logger.logInternalError(Error("Could not calculate position for embedded bot"+JSON.stringify({positionSettings:c,alignments:b,positionType:e}))),{};var g=c.positionHorizontal.toUpperCase(),d=c.positionVertical.toUpperCase(),h=b.horizontalAlignment.toUpperCase(),p=b.verticalAlignment.toUpperCase();b="fixed"===e;var q=a.element.getBoundingClientRect(),n=f.getBoundingClientRect(),r=q.height/2,u=q.width/2,f=a="0px";e=0;var w=b?q.top:n.top-q.top;"TOP"===d?e=b?w:0-w:"BOTTOM"===d?e=b?q.height+
w:q.height-w:("MIDDLE"===d||"CENTER"===d)&&(e=b?r+w:r-w);e+=c.positionTopDelta;"BOTTOM"===p&&(f="-100%");var d=0,k=b?q.left:n.left-q.left;return"LEFT"===g?d=b?k:0-k:"RIGHT"===g?d=b?q.width+k:q.width-k:("MIDDLE"===g||"CENTER"===g)&&(d=b?u+k:u-k),d+=c.positionLeftDelta,"RIGHT"===h&&(a="-100%"),{left:d,top:e,transform:"translate("+a+", "+f+")"}}catch(l){return x.logger.logInternalError(l,"Could not calculate position for embedded bot with element"),{}}}function f(a,c){try{var b=(0,p.getConfig)("contentProxyDomain"),
e=(0,p.getConfig)("enableKcSecureArticle"),f=(0,p.getConfig)("kcPositionType"),g="embedded"===(0,p.getConfig)("kcDisplayType"),d=g?n(c,a.windowSettings.embedKCSettings.positionSettings,{horizontalAlignment:a.windowSettings.embedKCSettings.horizontalAlignment,verticalAlignment:a.windowSettings.embedKCSettings.verticalAlignment},f):{};a.windowSettings.embedKCSettings.calculatedPosition=d;var h="API"===(0,p.getConfig)("fetchKcType");return Object.assign(a,{showIcon:!g&&(!h||h&&da),isEmbedded:g,kcPositionType:f,
enableKcSecureArticle:e,contentProxyDomain:b})}catch(q){return x.logger.logInternalError(q,"Could not merge sdk configuration for bot"),{}}}function c(a,c){var b=a.contentDocument.createElement("link"),e=R.FONTS_SUBSETS,f="https://fonts.googleapis.com/css?family\x3d"+[{font:c,weights:R.FONTS_WEIGHTS}].reduce(function(a,c){var b=c.font.replace(/ +/g,"+"),e=(c.weights||[]).join(",");return a.push(b+(e&&":"+e)),a},[]).join("|");return e&&Array.isArray(e)&&0<e.length&&(f+="\x26subset\x3d"+e.join(",")),
b.href=f,b.rel="stylesheet",b}function g(a,c,b,e){var f=a.contentDocument.createDocumentFragment(),g=a.contentDocument.createElement("style"),d=a.contentDocument.createElement("div");a=a.contentDocument.createElement("div");return g.type="text/css",e&&(g.nonce=e),g.appendChild(document.createTextNode(".regular-"+b+"{font-family: "+c+";}.bold-"+b+"{font-family: "+c+";font-weight: bold}")),d.className="regular-"+b,a.className="bold-"+b,d.appendChild(document.createTextNode("∑aåāБδ ⷺ")),a.appendChild(document.createTextNode("∑aåāБδ ⷺ")),
f.appendChild(g),f.appendChild(d),f.appendChild(a),f}function q(a){return-1!=="ZSBMJTAYEANS ALAZMN715YZH PDCNS0SWT1ZP RR8EQLTW2VP9 TGAN0LMXA1BX XIKPBREHZXOJ GLSDIDVBIAVK AKKBV8ECO1E8 FAP8QPGYKUVA GZKRSU61EUCU OJY7IO6BCAAN RMACDJOEHAEG X4TBJOVYHWVS ZJQOCZEF9PIR DQ1NRPVT7VG1 9APX3RS6VUQK ZSSKB3VPJSDK EOLIULDC9NMZ AS1CEZNAOYLR".split(" ").indexOf(a)}Object.defineProperty(a,"__esModule",{value:!0});a.KnowledgeCenterManager=a.KcSessionStorage=void 0;var w=function(){return function(a,c){if(Array.isArray(a))return a;
if(Symbol.iterator in Object(a)){var b=[],e=!0,f=!1,g=void 0;try{for(var d,h=a[Symbol.iterator]();!(e=(d=h.next()).done)&&(b.push(d.value),!c||b.length!==c);e=!0);}catch(p){f=!0,g=p}finally{try{!e&&h["return"]&&h["return"]()}finally{if(f)throw g;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.getKcDataFromSessionStorage=d;a.addWidgetIframeDom=t;a.loadOnDemandEngagement=k;a.getKcEngagement=v;a.fetchKnowledgeCenterConfig=function(a,c,b,e){var f=u.eventTrackData[L.cacheGet](u.sessionIdParam),
g=(0,P.getUrl)(p.getKnowledceCenterConfigEndpoint,{s:f,p:a});return a&&f||x.logger.logInternalError(Error("Trying to fetch kc with product id "+a+" and session id "+f)),c?B.AjaxUtil.getData(p.getKnowledceCenterConfigEndpoint+"/"+a+"/"+c,b,"",e):B.AjaxUtil.getData(g,b,"",e)};a.setKcIsShownViaAPI=function(a){qa=a};a.getKcIsShownViaAPI=function(){return qa};a.setIsNewAPI=function(a){null===da&&(da=a)};a.getIsNewAPI=function(){return da};a.productNeedsExtraLogging=q;var r=b(24),u=b(4),p=b(1),x=b(3),A=
b(11),B=b(12),y=b(28),e=b(39),D=b(0),z=b(41),J=b(29),F=b(146),I=b(14),C=l(I),E=b(43),N=b(37),P=b(85),L=b(5),O=b(55),M=b(20),K=b(18),H=b(56),R=b(86);m=b(47);var V=l(m),U=b(23),Q=b(15),S=b(7);m=b(48);var T=l(m),X=b(46),Y=l(X),Z=b(8),ca=b(142),W=b(21),la=b(17),ja=b(9),ha="apt_get_engagement APT_WIDGET_LOADED apt_get_user_data apt_send_feedback apt_search_articles apt_get_article apt_get_community_content_list apt_get_community_content_search apt_get_community_article apt_vote_on_community_content apt_track_internal_article apt_tracking_toggle_widget apt_kc_func_click apt_kc_link_click apt_get_article_by_id apt_log_bot_internal_error apt_track_external_article apt_log".split(" "),
qa=!1,da=null,ma=a.KcSessionStorage={setKcId:function(a){u.windowRef.sessionStorage.setItem("apt.kcId",a)},setIsDefaultKc:function(a){u.windowRef.sessionStorage.setItem("apt.isDefaultKc",a)},setRecommendedId:function(a){u.windowRef.sessionStorage.setItem("apt.recId",a)},getIsDefaultKc:function(a){return u.windowRef.sessionStorage.getItem("apt.isDefaultKc")},getKcId:function(){return u.windowRef.sessionStorage.getItem("apt.kcId")},getRecommendedId:function(){return u.windowRef.sessionStorage.getItem("apt.recId")}},
ea=a.KnowledgeCenterManager=new function(){function a(c){return function(){C(c.apply(this,arguments))}}function c(a,b){function e(){t({iframe:f,windowFont:d,onBoardingFont:h,widgetUrl:a,widgetNonce:q,cssNonce:n});Ia=f.contentWindow;Fa=!0;Ya=!1;x.logger.log("SDK KC iframe creation done")}if(!(0,la.findSingleElementInShadowDom)(".apt-widget-frame",document)){x.logger.log("SDK Creating KC iframe");ua=!1;Da=r.UserData.getUserId();var f=document.createElement("iframe");f.className="apt-widget-frame";f.style.opacity=
"0";f.style.transform="scale(0)";f.style.visibility="hidden";f.style.position="absolute";f.style.top="-9999px";f.style.left="-9999px";(0,p.getBody)().appendChild(f);var g=JSON.stringify(Object.assign(b,{enableKcSecureArticle:(0,p.getConfig)("enableKcSecureArticle"),contentProxyDomain:(0,p.getConfig)("contentProxyDomain"),cssNonce:(0,p.getConfig)("cssNonce")}));f.setAttribute("data-sdkconfig",g);var d=b.initialConfig.windowSettings.textFont,h=b.initialConfig.onBoardingSettings.textFont,q=(0,p.getConfig)("widgetNonce"),
n=(0,p.getConfig)("cssNonce");(0,ja.isFirefox)()?f.onload=e:e();(0,p.isIframe)()?V["default"].postBotFound():A.internalEventListener.dispatchEvent(U.IFRAME_TO_TOP_EVENTS.BOT_FOUND,X.TOP_WINDOW_ID)}}function b(){var a=(0,p.getKcConfig)(),c="embedded"===(0,p.getConfig)("kcDisplayType"),a=a&&a.enabled,e=(0,p.getConfig)("enableTag")&&(0,p.getConfig)("widgetEnabled")&&r.UserData.isUser(),c=e&&a&&(0,p.isIframe)()&&c,f=Y["default"].getBotConfig();return e&&!(0,p.isIframe)()&&(a||f&&f.enabled&&f.isEmbedded)||
c}function e(){if(b()){var a=(0,p.getKcConfig)(),c=a.includePatterns,a=a.excludePatterns,f=window.location.href;return a&&0<a.length&&(0,D.matchUrl)(a,f)?void g():c&&0!==c.length?void(c&&0<c.length&&((0,D.matchUrl)(c,f)?d():g())):void d()}}function g(){if(b()){var a=document.getElementById("apt-widget");if(!a)return void x.logger.log("Couldn't find KC element when attempting to hide it.");q((0,K.getProduct)(u.eventTrackData[L.cacheGet](u.productIdParameter)))&&x.logger.reportToServer("Hiding KC bot");
a.style.display="none"}}function d(){if(b()){var a=document.getElementById("apt-widget");if(!a)return void x.logger.log("Couldn't find KC element when attempting to show it.");a.style.display=""}}function l(){ya.forEach(function(a){a.call()})}function m(){(0,y.getGuideRefreshData)();k();A.internalEventListener.removeListener("pageview",m)}function C(a,c){try{if(c){var b=(0,S.getIframeData)(c);T["default"].postBotEvent(b,a)}else Ia.postMessage(JSON.stringify(a),u.windowRef.location.href)}catch(e){x.logger.log("postToWidget "+
e)}}function I(a,c){return{articleId:a.articleId,categoryId:a.categoryId,articleUrl:a.articleUrl,kcId:c,articleLink:a.articleLink}}function E(){r.UserData.getSessionId()}function N(a){if(a.origin===u.windowRef.location.origin&&!(0>ha.indexOf(a.data.name))){if(!a.data.messageId)return void x.logger.log("Web SDK skipping event without message id "+JSON.stringify(a.data));if(za[a.data.messageId])return void x.logger.log("Web SDK skipping handled message with id "+a.data.messageId);if((0,p.isIframe)()&&
"APT_WIDGET_LOADED"!==a.data.name)return void window.top.postMessage(Object.assign({},a.data,{iframeId:(0,Q.getIframeId)()}),window.top.location.href);switch(za[a.data.messageId]=!0,a.data.name){case "apt_get_engagement":var c=a.data,b=c.categoryId,c=c.recommendedId;if(u.windowRef.sessionStorage.setItem("apt.kcCatId",b),ma.setRecommendedId(c),x.logger.log("SDK received activate engagement message"),a.data.absoluteTargetUrl){var e=(0,J.resolveUrlWithPlaceholders)(u.windowRef.location.href,a.data.absoluteTargetUrl);
e!==u.windowRef.location.href?((0,y.saveOnDemandGuideId)(a.data.engId),A.internalEventListener.addListener("pageview",m),u.windowRef.location.href=e):v(a.data.engId,a.data.isPreview,ta,b,c)}else v(a.data.engId,a.data.isPreview,ta,b,c);return void E();case "APT_WIDGET_LOADED":return x.logger.log("SDK received KC loaded"),void(a.data.error?x.logger.logInternalError(Error("KC failed to load due to error"),a.data.error):(A.internalEventListener.dispatchEvent("kcTriggered",{kcId:ta}),l()));case "apt_send_feedback":return x.logger.log("SDK received send feedback message"),
a.data.feedbackObj&&z.api.feedback(Object.assign(a.data.feedbackObj,{kcId:ta})),void E();case "apt_search_articles":return x.logger.log("SDK received search articles"),(a.data.searchTerms||""===a.data.searchTerms)&&ea.searchArticles(u.eventTrackData.data[u.productIdParameter],u.eventTrackData.data[u.aptrinsicIdParam],a.data.searchTerms,a.data.labels,a.data.url,a.data.userEmail,ta,a.data.iframeId),E(),void(a.data.searchTerms&&A.internalEventListener.dispatchEvent("kcSearch",{searchTerms:a.data.searchTerms,
kcId:ta}));case "apt_get_community_content_list":return x.logger.log("SDK get community content list"),ea.getCommunityContentList(u.eventTrackData.data[u.productIdParameter],u.eventTrackData.data[u.aptrinsicIdParam],a.data.userEmail,a.data.sortType,a.data.iframeId),void E();case "apt_get_community_content_search":return x.logger.log("SDK get community content search"),ea.searchCommunityContent(u.eventTrackData.data[u.productIdParameter],u.eventTrackData.data[u.aptrinsicIdParam],a.data.searchTerm,
a.data.userEmail,a.data.iframeId),void E();case "apt_get_community_article":return x.logger.log("SDK get community article by id"),a.data.id&&ea.getCommunityArticleById(u.eventTrackData.data[u.productIdParameter],u.eventTrackData.data[u.aptrinsicIdParam],a.data.id,a.data.type,a.data.totalLikes,a.data.userRegistered,a.data.userEmail,a.data.iframeId),void E();case "apt_vote_on_community_content":return x.logger.log("SDK vote on community content"),ea.voteOnCommunityContent(u.eventTrackData.data[u.productIdParameter],
u.eventTrackData.data[u.aptrinsicIdParam],a.data.iframeId,a.data.type,a.data.userEmail,a.data.id,a.data.likedByUser,a.data.totalLikes),void E();case "apt_get_article":return x.logger.log("SDK get article by id"),e=a.data,b=e.id,c=e.title,e=e.propertyGroupId,a.data.id&&ea.getArticleById(u.eventTrackData.data[u.productIdParameter],u.eventTrackData.data[u.aptrinsicIdParam],b,e,c,a.data.iframeId),void E();case "apt_get_user_data":return void x.logger.log("SDK received get user data message");case "apt_track_internal_article":return x.logger.log("SDK received track internal article message"),
(0,P.trackArticleClick)(a.data.articleId,a.data.categoryId,a.data.articleUrl,ta,a.data.recommendedId,h),A.internalEventListener.dispatchEvent("articleView",I(a.data,ta)),void E();case "apt_kc_func_click":return x.logger.log("SDK received call javascript function"),b=(0,p.getConfig)("kcAllowedFuncNames"),(0,D.isEmptyArr)(b)||0>b.indexOf(a.data.funcName)?void x.logger.logInternalError(Error("tried to executed function not in the allow list, function name:"+a.data.funcName)):(a.data.funcName&&(0,F.executeFunctionByName)(a.data.funcName),
void E());case "apt_kc_link_click":if(x.logger.log("SDK received link click"),(0,P.trackWebLinkClick)(a.data.webLinkId,ta,a.data.recommendedId,h),a.data.linkObj)b=(0,J.resolveUrlWithPlaceholders)(document.location.href,a.data.linkObj.url),"CURR_TAB"===a.data.linkObj.target?document.location.href=b:window.open(b,"_blank","noopener");return void E();case "apt_get_article_by_id":return x.logger.log("SDK received article id to fetch and open"),b=a.data.articleId,b&&ea.fetchAndOpenArticleById(u.eventTrackData.data[u.productIdParameter],
u.eventTrackData.data[u.aptrinsicIdParam],b,a.data.iframeId),void E();case "apt_log_bot_internal_error":return x.logger.log("SDK received internal error from bot"),a=a.data,void x.logger.logInternalError(a.error,a.errorMsg);case "apt_track_external_article":c=a.data,b=c.propertyGroupId,c={articleId:c.articleId,articleUrl:c.articleUrl,articleProvider:c.articleProvider,articleTitle:c.articleTitle,propertyGroupId:b,recommendedId:c.recommendedId},x.logger.log("SDK received track external article message"),
(0,P.trackExternalArticleClick)(ta,b,c),A.internalEventListener.dispatchEvent("articleView",I(a.data,ta)),E();case "apt_log":x.logger.log("Widget log: "+a.data.message);case "apt_tracking_toggle_widget":return x.logger.log("SDK received track toggle widget"),a=a.data,b=a.isOpen,c=a.iframeId,e=ua!==b,a.shouldTrack&&e&&((0,P.trackToggleWidget)(ta,b),A.internalEventListener.dispatchEvent(b?"kcOpened":"kcClosed",{kcId:ta})),c?T["default"].setBotIsOpen(b,c):ua=b,void E()}}}var qa=this,Ia=void 0,ya=[],
za={},ta=void 0,Fa=!1,Ya=!1,ra=!1,ua=!1,Aa=null,Da="",Ja=a(ca.getGlobalContextMessage),oa=a(ca.getUrlMessage);this.handleIncomingBotEvents=function(){u.windowRef.addEventListener("message",N,!1)};this.initWidget=function(a,g,d,h){try{if(b()){if(Ya=!0,x.logger.log("SDK Initializing KC with config "+JSON.stringify(a,null,2)),ta!==a.initialConfig.kcId&&(ua=!1),ta=a.initialConfig.kcId,ma.setIsDefaultKc(!d),ma.setKcId(ta),u.windowRef.addEventListener("message",N,!1),!(0,la.findSingleElementInShadowDom)("#apt-widget",
document)){Fa=!1;Aa=null;var q=document.createElement("div");q.setAttribute("id","apt-widget");q.classList.add("apt-widget-top-container");(0,p.getBody)().appendChild(q);x.logger.log("SDK Created KC container")}var n=a.initialConfig.windowSettings.embedKCSettings.elementSelector.cssSelector;if(a.initialConfig=f(a.initialConfig,Aa),a.contentProxyDomain=(0,p.getConfig)("contentProxyDomain"),a.initialConfig.isEmbedded&&n){var r=(0,p.getConfig)("kcPositionType"),w=a.initialConfig.windowSettings.zindex||
a.initialConfig.windowSettings.zIndex;(0,O.injectWidgetToTargetElement)(n,h,{isNewAPI:da,positionType:r,zIndex:w,kcId:a.initialConfig.kcId},{onClick:ea.toggleBot,onFailed:function(){Ya=Fa=!1;Aa=null},onFound:function(){Fa=!0},onDone:function(b){Aa=b;a.initialConfig=f(a.initialConfig,Aa);c((0,p.getAssetEndpoint)("widget"),a)}})}else c((0,p.getAssetEndpoint)("widget"),a);g||(e(),A.internalEventListener.addListener("pageview",function(){e()}));document.addEventListener(R.GAINSIGHT_PX_OPEN_BOT,ea.open);
document.addEventListener(R.GAINSIGHT_PX_OPEN_ARTICLE,function(a){return ea.openArticleById(a.detail.articleId)});A.internalEventListener.addListener(Z.GLOBAL_CONTEXT_CHANGED,Ja);A.internalEventListener.addListener("pageview",oa)}}catch(k){x.logger.logInternalError(k,"cannot start kc widget")}};this.clearWidgetLoadQueue=function(){ya=[]};this.checkIsInProgress=function(){return Ya};this.checkIsInitialized=function(){return Fa&&!!(0,la.findSingleElementInShadowDom)("#apt-widget",document)};this.cleanWidget=
function(){qa.clearWidgetLoadQueue();Ya=Fa=!1;Aa=null};this.removeWidget=function(){za={};qa.cleanWidget();var a=(0,la.findSingleElementInShadowDom)(".apt-widget-frame",document);a&&a.parentNode.removeChild(a);(a=document.getElementById("apt-widget"))&&(A.internalEventListener.removeListener(Z.GLOBAL_CONTEXT_CHANGED,Ja),A.internalEventListener.removeListener("pageview",oa),a.parentNode.removeChild(a),clearInterval(void 0),q((0,K.getProduct)(u.eventTrackData[L.cacheGet](u.productIdParameter)))&&x.logger.reportToServer("Removing KC bot"))};
this.updatePositionForEmbeddeBot=function(){var a=(0,p.getKcConfig)(),c=(0,p.getConfig)("kcPositionType");C({type:"APT_WIDGET_EMBEDDED_POSITIONS",calculatedPosition:n(Aa,a.windowSettings.embedKCSettings.positionSettings,{horizontalAlignment:a.windowSettings.embedKCSettings.horizontalAlignment,verticalAlignment:a.windowSettings.embedKCSettings.verticalAlignment},c)})};this.updateWidgetConfig=function(){b()&&(C({type:"APT_WIDGET_CONFIG",config:f((0,p.getKcConfig)(),Aa),shouldResetState:r.UserData.getUserId()!==
Da}),Da=r.UserData.getUserId())};this.fetchEntriesById=function(a,c,b,e,f){c=(0,P.getUrl)(p.getWidgetContentEndpoint+"/"+c+"/"+a,{ai:b});B.AjaxUtil.getData(c,function(c){if(!c)return void(e&&"function"==typeof e&&e(c));var b=Object.assign({},c);if(!(0,H.validateContentChecksum)(a,b))return void("function"==typeof f&&f("Checksum does not match when fetching knowledge center entries"));e&&"function"==typeof e&&e(c)},null,function(){"function"==typeof f&&f("Error occurred while fetching knowledge center entries");
x.logger.logInternalError("Error occurred while fetching KC entries")})};this.fetchEntriesAndSendToWidget=function(a,c,e,f){try{var g=function(a){var c=a.entries,b=a.userData;a={type:"APT_WIDGET_ENTRIES",entries:c,recommendationRuleSets:a.recommendationRuleSets,userData:b};x.logger.log("SDK Posting entries to KC");C(a);Ja((0,W.getGlobalContext)());oa();e&&"function"==typeof e&&e({entries:c,userData:b});oa()};if(Fa&&b()){x.logger.log("SDK Fetching KC entries");var d=(0,p.getKcConfig)().kcId;(0,p.isIframe)()?
V["default"].getBotContent(d,function(a){var c=w(a,1)[0];a=c.response;c=c.error;a?g(a):f(c)}):qa.fetchEntriesById(d,a,c,g,f)}}catch(h){x.logger.logInternalError(Error("KC - fetch entries - "+h))}};this.registerAfterWidgetLoad=function(a){"function"==typeof a&&ya.push(a)};this.searchArticles=function(a,c,e,f,g,d,h,q){if(b()){f=f&&Array.isArray(f)&&0<f.length?f.join():"";x.logger.log("SDK searching Articles");g=(0,M.maskUrl)(null,null,g,null,null,null,null);g=w(g,3)[2];g=(0,p.getConfig)("overrideBotSearchContextUrl")||
g;var n=(0,P.getTrackingPayload)();Object.assign(n,{searchTerm:e,labels:f,url:g,ai:c,userEmail:d});a=(0,P.getUrl)(p.getWidgetDocsEndpoint+"/v2/"+a+"/"+h,n);C({type:"IS_COMMUNITY_API_IN_PROGRESS",content:!0},q);B.AjaxUtil.getData(a,function(a){a&&((0,D.isNotEmptyArr)(a)&&a[0].propertyGroupId&&(a[0].propertyGroupId,(0,K.getProduct)(u.eventTrackData[L.cacheGet](u.productIdParameter))),a={type:"APT_WIDGET_SEARCH_RESULTS",articles:a},x.logger.log("SDK Posting articles to KC"),C(a,q))},null,function(){x.logger.logInternalError("Error occurred while searching KC articles");
C({type:"APT_WIDGET_SEARCH_RESULTS_FAILED"},q)})}};this.getCommunityContentList=function(a,c,e,f,g){b()&&(x.logger.log("SDK get Community Content list"),c={userEmail:e,sortBy:f},c=(0,P.getUrl)(p.getWidgetDocsEndpoint+"/community/content/"+a+"/"+ta,c),C({type:"IS_COMMUNITY_API_IN_PROGRESS",content:!0},g),B.AjaxUtil.getData(c,function(c){!c||c.propertyGroupId&&c.propertyGroupId!==(0,K.getProduct)(a)||(x.logger.log("SDK Posting community content list to KC"),C({type:"APT_GET_COMMUNITY_CONTENT_LIST",
content:c},g))},null,function(){x.logger.logInternalError(Error("Error occurred while fetching community content list:"));C({type:"APT_GET_COMMUNITY_CONTENT_LIST_FAILED"},g)}))};this.searchCommunityContent=function(a,c,e,f,g){b()&&(x.logger.log("SDK get Community Content search"),c=(0,P.getTrackingPayload)(),Object.assign(c,{searchTerm:e,userEmail:f}),e=(0,P.getUrl)(p.getWidgetDocsEndpoint+"/community/"+a+"/"+ta,c),C({type:"IS_COMMUNITY_API_IN_PROGRESS",content:!0},g),B.AjaxUtil.getData(e,function(c){!c||
c.propertyGroupId&&c.propertyGroupId!==(0,K.getProduct)(a)||(x.logger.log("SDK Posting community content search results to KC"),C({type:"APT_GET_COMMUNITY_CONTENT_SEARCH",content:c},g))},null,function(){x.logger.logInternalError(Error("Error occurred while fetching community content search:"));C({type:"APT_GET_COMMUNITY_CONTENT_SEARCH_FAILED"},g)}))};this.voteOnCommunityContent=function(a,c,e,f,g,d,h,q){if(b()){c=(0,P.getTrackingPayload)();Object.assign(c,{contentId:d,contentType:f,userEmail:g});
var n="idea"===f?"vote":"like";h&&(n="un"+n);a=(0,P.getUrl)(p.getWidgetSingleDocEndpoint+"/community/"+n+"/"+a+"/"+ta,c);B.AjaxUtil.getData(a,function(a){a?(x.logger.log("SDK Posting community vote\\like result to KC"),C({type:"APT_VOTE_ON_COMMUNITY_CONTENT",contentId:d,contentType:f,totalLikes:q,likedByUser:!h},e)):C({type:"APT_VOTE_ON_COMMUNITY_CONTENT_BLOCKED"},e)},null,function(){x.logger.logInternalError(Error("Error occurred while "+n+" community article by id: "+d));C({type:"APT_VOTE_ON_COMMUNITY_CONTENT_FAILED"},
e)})}};this.getCommunityArticleById=function(a,c,e,f,g,d,h,q){b()&&(x.logger.log("SDK get Community Article by id"),c=(0,P.getTrackingPayload)(),Object.assign(c,{contentId:e,contentType:f,userEmail:h}),f=(0,P.getUrl)(p.getWidgetSingleDocEndpoint+"/community/"+a+"/"+ta,c),B.AjaxUtil.getData(f,function(c){if(c&&(!c.propertyGroupId||c.propertyGroupId===(0,K.getProduct)(a))){var b={type:"APT_GET_COMMUNITY_ARTICLE",article:c};c.entryType="COMMUNITY_ARTICLE";c.totalLikes=g;c.userRegistered=d;c.userEmail=
h;c.contentId=e;x.logger.log("SDK Posting community article to KC");C(b,q)}},null,function(){x.logger.logInternalError(Error("Error occurred while fetching community article by id: "+e));C({type:"APT_GET_COMMUNITY_ARTICLE_FAILED"},q)}))};this.getArticleById=function(a,c,e,f,g,d){if(b()){x.logger.log("SDK get Article by id");var h=(0,P.getTrackingPayload)();Object.assign(h,{propertyGroupId:f,articleId:e,ai:c,art:g});c=(0,P.getUrl)(p.getWidgetSingleDocEndpoint+"/"+a+"/"+ta,h);B.AjaxUtil.getData(c,function(c){!c||
c.propertyGroupId&&c.propertyGroupId!==(0,K.getProduct)(a)||(c={type:"APT_GET_ARTICLE",article:c},x.logger.log("SDK Posting article to KC"),C(c,d))},null,function(){x.logger.logInternalError(Error("Error occurred while fetching article by id: "+e));C({type:"APT_GET_ARTICLE_FAILED"},d)})}};this.updateEmbeddedMappedElement=function(a){Aa=a};this.getEmbeddedMappedElement=function(){return Aa};this.toggleBot=function(){ua?ea.close(!0):ea.open()};this.setIsOpen=function(a){ua=a};this.open=function(){qa.checkIsInitialized()&&
("embedded"===(0,p.getConfig)("kcDisplayType")&&qa.updatePositionForEmbeddeBot(),C({type:"APT_WIDGET_OPEN"}),ra=!0)};this.close=function(a){try{a&&ua&&((0,p.isIframe)()?V["default"].trackBotToggle(ta,!1):(0,P.trackToggleWidget)(ta,!1)),C({type:"APT_WIDGET_CLOSE"}),ra=!1}catch(c){x.logger.log("clsoing bot "+c)}};this.checkIsShown=function(){return ra};this.postToWidget=C;this.addClickListenerToElement=function(a){(0,D.addEventListener)(a,"click",ea.open)};this.openArticleById=function(a){x.logger.log("SDK open article by id");
qa.postToWidget({type:"APT_SET_ARTICLE_BY_ID",articleId:a})};this.fetchAndOpenArticleById=function(a,c,b,e){x.logger.log("SDK fetch and open article by id");c=(0,P.getUrl)((0,p.getWidgetArticleByIdEndpoint)()+"/"+a+"/"+b,{ai:c});B.AjaxUtil.getData(c,function(c){!c||c.propertyGroupId&&c.propertyGroupId!==(0,K.getProduct)(a)||(x.logger.log("SDK Posting article to KC"),qa.postToWidget({type:"APT_SET_ARTICLE",article:Object.assign(c,{forceOpen:!0})},e))},null,function(){x.logger.logInternalError(Error("Error occurred while fetching article by id: "+
b));C({type:"APT_SET_ARTICLE_FAILED"},e)})}}},function(m,a,b){function l(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function d(){var a=window.MutationObserver||window.WebKitMutationObserver;if((0,q.getConfig)("angularMutationObserver")&&window.Zone)var a=window.Zone.__symbol__("MutationObserver"),c=window.Zone.__symbol__("WebkitMutationObserver"),a=window[a]||window[c]||window.MutationObserver||window.WebKitMutationObserver;return a}function t(a,c){p.forEach(function(b){try{(b.validateBeforeChange&&
b.validateBeforeChange(a,c)||c)&&b.onChangeCallback(a,c)}catch(e){f.logger.logInternalError(e,"failed to run on change for observer")}});x=[]}function k(){return function(a){try{return a.beforeValidator()}catch(c){return f.logger.logInternalError(c,"failed to validate if need to run observer"),!1}}}function v(){if(!u)return!1;try{B=new (d())(function(a){if(p.some(k())){var c=a.some(function(a){var c=a.attributeName,b=a.target;a=a.type;var c="attributes"===a&&("style"===c||"class"===c),e=b.getAttribute("class")||
"",b=b.getAttribute("id")||"";return(b=-1===e.indexOf("apt")&&-1===b.indexOf("apt"))&&"attributes"!==a||b&&c});x=x.concat(a);y(c)}}),B.observe((0,q.getBody)(),r)}catch(a){f.logger.logInternalMessage(a,"failed to observed mutation")}}Object.defineProperty(a,"__esModule",{value:!0});var h=function(){function a(c,b){for(var e=0;e<b.length;e++){var f=b[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,b,e){return b&&a(c.prototype,
b),e&&a(c,e),c}}();a.getNativeMutationObserver=d;a.checkMutationObserverIsSupported=function(){return!(0,q.getConfig)("badgeUseInterval")&&(11<=(0,n.detectIE)()||w)};var n=b(9),f=b(3);m=b(0);var c=b(13),g=b(144),q=b(1),w=window.MutationObserver||window.WebKitMutationObserver,r={attributes:!0,childList:!0,subtree:!0,attributeFilter:["style","class"]},u=11<=(0,n.detectIE)()||w,p=[],x=[],A={},B=void 0,y=(0,m.debounce)(function(a){t(x,a)},300),e=function z(a,c,b,e){l(this,z);this.id=a;this.beforeValidator=
c;this.onChangeCallback=b;this.validateBeforeChange=e};b=new (function(){function a(){l(this,a)}return h(a,[{key:"addObserver",value:function(a,b,f){1>p.length&&v();var g=c.UUIDGenerator.generateV4Id();return p.push(new e(g,a,b,f)),g}},{key:"removeObserver",value:function(a){var c=(0,g.findIndex)(p,function(c){return c.id===a});-1<c&&p.splice(c,1);1>p.length&&B.disconnect()}},{key:"addPXElementObserver",value:function(a,c,b){this.addElementObserver(a,c,b,!0)}},{key:"addElementObserver",value:function(a,
c,b,e){try{var g=new (d())(function(a){a.some(function(a){var c=a.attributeName,b=a.target;a=a.type;var c="attributes"===a&&("style"===c||"class"===c),f=b.getAttribute("class")||"",b=b.getAttribute("id")||"";return(b=e||-1===f.indexOf("apt")&&-1===b.indexOf("apt"))&&"attributes"!==a||b&&c})&&b(a)});g.observe(c,{childList:!0,subtree:!0,attributeFilter:["style","class"]});A[a]=g}catch(h){f.logger.logInternalMessage(h,"failed to observed mutation for element: "+c)}}},{key:"removeElementListener",value:function(a){var c=
A[a];c&&(c.disconnect(),delete A[a])}}]),a}());a["default"]=b},function(m,a,b){var l,d,t,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},v=b(8),h=b(0),n=b(6),f=b(1);!function(c){"object"===k(a)&&void 0!==m?m.exports=c():(d=[],l=c,void 0!==(t="function"==typeof l?l.apply(a,d):l)&&(m.exports=t))}(function(){return function g(a,b,f){function d(n,
k){if(!b[n]){if(!a[n]){if(h)return h(n,!0);var l=Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l;}l=b[n]={exports:{}};a[n][0].call(l.exports,function(b){return d(a[n][1][b]||b)},l,l.exports,g,a,b,f)}return b[n].exports}for(var h=!1,n=0;n<f.length;n++)d(f[n]);return d}({1:[function(a,b,f){"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var a=document.createElement("_");
if(a.classList.add("c1","c2"),!a.classList.contains("c2")){var b=function(a){var b=DOMTokenList.prototype[a];DOMTokenList.prototype[a]=function(a){var f,e=arguments.length;for(f=0;f<e;f++)a=arguments[f],b.call(this,a)}};b("add");b("remove")}if(a.classList.toggle("c3",!1),a.classList.contains("c3")){var f=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:f.call(this,a)}}a=null}():function(a){if("Element"in a){a=a.Element.prototype;
var b=Object,f=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array.prototype.indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1},d=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},h=function(a,b){if(""===b)throw new d("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new d("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},q=function(a){for(var b=
f.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],e=0,g=b.length;e<g;e++)this.push(b[e]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},e=q.prototype=[],n=function(){return new q(this)};if(d.prototype=Error.prototype,e.item=function(a){return this[a]||null},e.contains=function(a){return a+="",-1!==h(this,a)},e.add=function(){var a,b=arguments,e=0,f=b.length,g=!1;do a=b[e]+"",-1===h(this,a)&&(this.push(a),g=!0);while(++e<f);g&&this._updateClassName()},e.remove=function(){var a,
b,e=arguments,f=0,g=e.length,d=!1;do for(a=e[f]+"",b=h(this,a);-1!==b;)this.splice(b,1),d=!0,b=h(this,a);while(++f<g);d&&this._updateClassName()},e.toggle=function(a,b){a+="";var e=this.contains(a),f=e?!0!==b&&"remove":!1!==b&&"add";return f&&this[f](a),!0===b||!1===b?b:!e},e.toString=function(){return this.join(" ")},b.defineProperty){e={get:n,enumerable:!0,configurable:!0};try{b.defineProperty(a,"classList",e)}catch(w){-2146823252===w.number&&(e.enumerable=!1,b.defineProperty(a,"classList",e))}}else b.prototype.__defineGetter__&&
a.__defineGetter__("classList",n)}}(window.self))},{}],2:[function(a,b,f){b.exports=function(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var f=/<([\w:]+)/.exec(a);if(!f)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");f=f[1];if("body"==f)return f=b.createElement("html"),f.innerHTML=a,f.removeChild(f.lastChild);var f=Object.prototype.hasOwnProperty.call(h,f)?h[f]:h._default,g=f[0],d=f[1],e=f[2],f=b.createElement("div");for(f.innerHTML=d+a+e;g--;)f=f.lastChild;
if(f.firstChild==f.lastChild)return f.removeChild(f.firstChild);for(g=b.createDocumentFragment();f.firstChild;)g.appendChild(f.removeChild(f.firstChild));return g};var d;a=!1;"undefined"!=typeof document&&(d=document.createElement("div"),d.innerHTML='  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d"/a"\x3ea\x3c/a\x3e\x3cinput type\x3d"checkbox"/\x3e',a=!d.getElementsByTagName("link").length,d=void 0);var h={legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e",
"\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],_default:a?[1,"X\x3cdiv\x3e","\x3c/div\x3e"]:[0,"",""]};h.td=h.th=[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"];h.option=h.optgroup=[1,'\x3cselect multiple\x3d"multiple"\x3e',"\x3c/select\x3e"];h.thead=h.tbody=h.colgroup=h.caption=h.tfoot=[1,"\x3ctable\x3e","\x3c/table\x3e"];h.polyline=h.ellipse=h.polygon=h.circle=h.text=h.line=
h.path=h.rect=h.g=[1,'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" version\x3d"1.1"\x3e',"\x3c/svg\x3e"]},{}],3:[function(a,b,f){function d(a,b){if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var f=Object(a),g=1;g<arguments.length;g++){var h=arguments[g];if(void 0!==h&&null!==h)for(var q=Object.keys(Object(h)),e=0,n=q.length;e<n;e++){var r=q[e],w=Object.getOwnPropertyDescriptor(h,r);void 0!==w&&w.enumerable&&(f[r]=h[r])}}return f}b.exports={assign:d,polyfill:function(){Object.assign||
Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:d})}}},{}],4:[function(a,b,d){a("classlist-polyfill");a("es6-object-assign").polyfill();var r=a("domify"),u=function(a){if(void 0!==a){var b=document.createElement("div");return b.appendChild(document.createTextNode(a)),b.innerHTML}return""},p=function(a,b){if("string"==typeof b&&0!==b.length)for(var e=b.split(" "),f=0;f<e.length;f++){var g=e[f];g.length&&a.classList.add(g)}},k=function(){for(var a=document.createElement("div"),
b=[{styleName:"animation",eventName:"animationend"},{styleName:"WebkitAnimation",eventName:"webkitAnimationEnd"},{styleName:"MozAnimation",eventName:"animationend"},{styleName:"OAnimation",eventName:"oanimationend"},{styleName:"msAnimation",eventName:"MSAnimationEnd"}],e=0;e<b.length;e++)if(void 0!==a.style[b[e].styleName])return b[e].eventName;return!1}(),l={},t=1,m=!1,e={open:function(a){var b=function(a){console.warn('The "'+a+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.');
console.warn("See http://github.hubspot.com/vex/api/advanced/#options")};a.css&&b("css");a.overlayCSS&&b("overlayCSS");a.contentCSS&&b("contentCSS");a.closeCSS&&b("closeCSS");var g={};g.id=t++;l[g.id]=g;g.isOpen=!0;g.close=function(){function a(b){var f=e.getPropertyValue(b+"animation-name");b=e.getPropertyValue(b+"animation-duration");return!!f&&"none"!==f&&!!b&&"0s"!==b}if(!this.isOpen)return!0;var b=this.options;if(m&&!b.escapeButtonCloses||!1===(!b.beforeClose||b.beforeClose.call(this)))return!1;
this.isOpen=!1;var e=window.getComputedStyle(this.contentEl),g=a(""),g=(g=(g=g||a("-webkit-"))||a("-moz-"))||a("-o-"),d=function H(){this.rootEl.parentNode&&(this.rootEl.removeEventListener(k,H),delete l[this.id],this.rootEl.parentNode.removeChild(this.rootEl),b.afterClose&&b.afterClose.call(this),0===Object.keys(l).length&&(0,f.getBody)().classList.remove("vex-open"))}.bind(this);return k&&g?(this.rootEl.addEventListener(k,d),this.rootEl.classList.add("vex-closing")):d(),!0};"string"==typeof a&&
(a={content:a});a.unsafeContent&&!a.content?a.content=a.unsafeContent:a.content&&(a.content=u(a.content));var b=g.options=Object.assign({},e.defaultOptions,a),d=g.rootEl=document.createElement("div");d.classList.add("vex");p(d,b.className);var q=g.overlayEl=document.createElement("div");q.classList.add("vex-overlay");p(q,b.overlayClassName);b.overlayClosesOnClick&&q.addEventListener("click",function(a){a.target===q&&g.close()});d.appendChild(q);var w=g.contentEl=document.createElement("div");if(w.classList.add("vex-content"),
p(w,b.contentClassName),w.appendChild(b.content instanceof window.Node?b.content:r(b.content)),d.appendChild(w),b.showCloseButton){var E=g.closeEl=document.createElement("div");E.classList.add("vex-close");p(E,b.closeClassName);E.setAttribute("tabindex",v.MAX_TAB_INDEX);E.setAttribute("role","button");E.setAttribute("aria-label","close");(0,n.disableFocusOnClick)(E,w);(0,h.addEnterKeyDownListener)(E,function(){return E&&E.click()});E.addEventListener("click",g.close.bind(g));w.appendChild(E)}return document.querySelector(b.appendLocation).appendChild(d),
b.afterOpen&&b.afterOpen.call(g),a.disableTransitionEffect&&d.classList.add("apt-disable-transition"),w.setAttribute("tabindex",v.TAB_INDEX_START-1),a.disableAutoFocus||(0,n.focusElement)(w),a.enableModalBodyScroll&&(0,f.getBody)().classList.add("vex-open"),g},close:function(a){if(a.id)a=a.id;else if("string"!=typeof a)throw new TypeError("close requires a vex object or id string");return!!l[a]&&l[a].close()},closeTop:function(){var a=Object.keys(l);return!!a.length&&l[a[a.length-1]].close()},closeAll:function(){for(var a in l)this.close(a);
return!0},getAll:function(){return l},getById:function(a){return l[a]}};window.addEventListener("keyup",function(a){27===a.keyCode&&(m=!0,e.closeTop(),m=!1)});window.addEventListener("popstate",function(){e.defaultOptions.closeAllOnPopState&&e.closeAll()});e.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",overlayClassName:"",contentClassName:"",closeClassName:"",closeAllOnPopState:!0};Object.defineProperty(e,"_escapeHtml",
{configurable:!1,enumerable:!1,writable:!1,value:u});e.registerPlugin=function(a,b){var f=a(e),g=b||f.name;if(e[g])throw Error("Plugin "+b+" is already registered.");e[g]=f};b.exports=e},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},{},[4])(4)})},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=b(9),d=b(1),t=b(6),k=window;a["default"]=function(a){var b=this,n=a||0;this.setDefaultTopOffset=function(a){n=a||0};this.positionElement=function(a,c,b,h,w,r,u,p,v,m){w||0===
w||(w=0);r||0===r||(r=0);if(c)if(c&&void 0!==c){var B=c.isDom?c.element.getBoundingClientRect():c.elementRect,y=a.getBoundingClientRect(),e=c&&B,D=c&&e.height,z=c&&e.width,B=y.height,J=y.width,F=(0,l.getPageWidth)(),I=(0,l.getFullPageHeight)(),C=y=null;switch(b.toLowerCase()){case "left":y=e.left;u||(y-=J+("center"===h?10:0));break;case "right":y=e.left+e.width;u||(y+="center"===h?10:0);break;case "center":y=Math.abs(e.left+z/2)-(u?0:J/2);break;default:throw Error("unsupported horizontal position "+
b);}switch(h.toLowerCase()){case "top":C=e.top-(u?0:B+10);break;case "center":C=e.top+D/2-(u?0:B/2);break;case "bottom":C=e.top+D+(u?0:10);break;default:throw Error("unsupported vertical position "+h);}!p&&(0>y||y+J>F)?a=null:(u=!1,(0,d.getConfig)("supportFixedPosition")&&c.isDom&&c.element&&(0,t.isFixedPosition)(c.element)&&(a.style.position="fixed",u=!0),u||(C+=isNaN(m)?window.pageYOffset:m),c=C+B>I||C<n,!p&&c?a=null:(p=C+w,(0,d.getConfig)("enableModalBodyScroll")||(c=(0,d.getBody)().getBoundingClientRect().top,
0<c&&(p-=c)),p+="px",r=y+r+"px",a=(v?a.style.setProperty("transform","translate3d("+r+", "+p+", 0px"):(a.style.left=r,a.style.top=p),[b,h])))}else a=null;else{v=w;p=r;r=[];c=k.getComputedStyle(a);switch(a.style.position="fixed",v=v||0,b.toLowerCase()){case "left":a.style.right="";a.style.left=10+p+"px";r.push("left");break;case "right":a.style.left=window.innerWidth-parseInt(c.width,10)-10+p+"px";a.style.right="";r.push("right");break;default:a.style.right="",a.style.left="calc(50% - "+(0-p+parseInt(c.width,
10)/2)+"px)",r.push("center")}switch(h.toLowerCase()){case "top":a.style.bottom="";a.style.top=10+v+n+"px";r.push("top");break;case "bottom":a.style.bottom=10-v+"px";a.style.top="auto";r.push("bottom");break;default:a.style.bottom="",a.style.top="calc(50% - "+(0-v+parseInt(c.height,10)/2)+"px)",r.push("center")}a=r}return a};this.getElementPosition=function(a){a=a.getBoundingClientRect();return[a.top,a.left,a.bottom,a.right]};this.getElementDataPosition=function(a){return a.isDom?b.getElementPosition(a.element):
[a.elementRect.top,a.elementRect.left,a.elementRect.bottom,a.elementRect.right]}}},,function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}function d(a,c){(0,P.findTarget)(a,c.target,function(b){(c.target=b)&&da(a,c)})}function t(){var a=(0,M.getConfig)("badgeRepositionInterval");return(0,Q.isNullOrUndefined)(a)&&(a=500),a}function k(){var a=Object.values(W);ja.forEach(function(a){var c=a.sdkRules,b=a.badgeSettings.id,e=a.engagementId,f={url:(0,Q.getPageUrl)()};(0,Q.isBlank)(c)||(0,
S.matchMultiTypeRules)(JSON.parse(c),f)?W[b]||(a.badgeSettings.engagementId=e,(a=da(a.badgeSettings))&&(W[b]=a)):W[b]&&(W[b].destroy(),delete W[b])});var c=Object.values(W),b=(0,X.checkMutationObserverIsSupported)();(0,M.isIframe)()?(la.observe((0,M.getBody)(),Ca),f()):la&&b?0<a.length&&0===c.length?(la.disconnect(),f(),J()):0===a.length&&0<c.length?(la.observe((0,M.getBody)(),Ca),f()):0<a.length&&0<c.length&&f():h()}function v(){try{la=new ((0,X.getNativeMutationObserver)())(function(a){0<Object.values(W).length||
(0,M.isIframe)()?a.some(function(a){var c=a.attributeName,b=a.type,c="attributes"===b&&("style"===c||"class"===c);a=a.target.getAttribute("class")||"";return(a=-1===a.indexOf("apt")&&-1===a.indexOf("px-"))&&"attributes"!==b||a&&c})&&((0,M.isIframe)()?n():(qa=qa||sa())()):la.disconnect()}),la.observe((0,M.getBody)(),Ca)}catch(a){L.logger.logInternalError(Error("Mutation Observer",a))}}function h(){ha&&clearInterval(ha);ha=setInterval(function(){var a=Object.values(W);0<a.length||(0,M.isIframe)()?f(a):
ha&&clearInterval(ha)},2E3)}function n(){if((0,M.isIframe)()){var a=Object.values(W);0<a.length&&(a=a.map(function(a){var c=a.elementSelector,b=c.matchCssSelector,e=c.selector,f=c.cssSelector,g=c.matchTextRule,d=c.textRule,c=c.htmlTextRule||JSON.parse(d)||{},b={matchCssSelector:b,cssSelector:e||f,matchTextRule:g,textRuleOperator:c.operator,textRuleValues:c.values},b=(0,Y.findElementInWindow)(b,(0,M.getBody)(),!1);return Object.assign({},a,{isExist:!!b})}),V["default"].broadcastBadgesStatuses(a))}}
function f(){(0,M.isIframe)()?n():ea(Object.values(W))}function c(){var a=(0,X.checkMutationObserverIsSupported)();(0,M.isIframe)()?a?v():h():(z(),0===ja.length?H.internalEventListener.removeListener("pageview",k):0<ja.length&&(a?v():h(),H.internalEventListener.addListener("pageview",k)))}function g(a){try{var c=E.eventTrackData[N.cacheGet](E.sessionIdParam),b=C["default"].fetchBadges(c);r(a,b);C["default"].storeBadges(c,b,!0)}catch(e){L.logger.logInternalError(e)}}function q(a,b,e){C["default"].setIsPreview(e);
var f=void 0;if(b)for(var f={},d=0;d<b.length;d++)f[b[d].badgeSettings.id]={index:d,badge:b[d]};var h=!1;return a.forEach(function(d,q){try{var p=d.badgeSettings,n=d.engagementId,r=d.sdkRules,u=p.id,k=W[u];k&&k.destroy();f&&b.splice(f[d.badgeSettings.id].index,1,d);var l={url:(0,Q.getPageUrl)()};if((0,Q.isBlank)(r)||(0,S.matchMultiTypeRules)(JSON.parse(r),l)){p.engagementId=n;p.clickCallback=e?p.clickCallback:g;p.executionId=d.executionId;var t=da(p,null);t&&(W[u]=t)}else L.logger.log("SDK rules did not match, rules: "+
r+", current URL: "+l);h||a.length-1!==q||(w(a),c(ea),h=!0)}catch(v){L.logger.logInternalError(v)}}),Object.values(W)}function w(a){a.forEach(function(a){var c=a.badgeSettings.id;0<ja.filter(function(a){return a.badgeSettings.id===c}).length||ja.push(a)})}function r(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];try{for(var b=W[a],e=0;e<c.length;e++)c[e].badgeSettings.id==a&&c.splice(e,1);for(c=0;c<ja.length;c++)ja[c].badgeSettings.id==a&&ja.splice(c,1);(0,ca.logBadgeForAppian)("Trying to remove badge "+
a+" "+JSON.stringify(Object.keys(W))+" "+b.badgeAttr.id);b&&((0,ca.logBadgeForAppian)("Trying to destroy badge "+a+" "+JSON.stringify(Object.keys(W))+" "+b.badgeAttr.id),b.destroy(),delete W[a])}catch(f){(0,ca.logBadgeForAppian)("Error with Removing badge "+a,f),L.logger.logInternalError(f)}}function u(a){var c=a.removed;a=a.updated;var b=E.eventTrackData[N.cacheGet](E.sessionIdParam),e=C["default"].fetchBadges(b);(0,Q.isNotEmptyArr)(c)&&c.forEach(function(a){return r(a,e)});(0,Q.isNotEmptyArr)(a)&&
q(a,e);C["default"].storeBadges(b,e,!0)}function p(){var a=E.eventTrackData[N.cacheGet](E.sessionIdParam),a=C["default"].fetchBadges(a),c=Object.assign({},W);if(!(0,Q.isEmptyArr)(a)||!(0,Q.isEmptyArr)(Object.keys(c))){a=a.map(function(a){var b=a.badgeSettings;a=b.id;b=b.version;return delete c[a],{id:a,version:b}});a.concat((0,T.arrayFrom)(Object.values(c),function(a){a=a.badgeAttr;return{id:a.id,version:a.version}}));var b=E.eventTrackData[N.cacheGet](E.aptrinsicIdParam),e={};Object.assign(e,E.eventTrackData[N.cacheGetAll]());
(0,Q.addCacheBuster)(e);e=M.refreshBadgeEndpoint+"?"+(0,Q.convert2Parameters)((0,Q.addParameters)(e,[]));K.AjaxUtil.postData(e,{sdkBadges:a,aptrinsicId:b},void 0,u,null,!0)}}function x(a,c){var b=M.badgeTrackEndpoint,e=[],e=(0,Q.addParameters)(E.eventTrackData[N.cacheGetAll](),e);(0,Q.addParameters)({ei:a.engagementId,ecoi:a.badgeSettings.deviceContentId||null,evi:a.badgeSettings.matchEventId||null,acci:c,exi:a.executionId,ext:(new Date).getTime(),at:"b",bi:a.badgeSettings.id},e);var f=(0,Z.getGlobalContext)();
f&&(0,Q.addParameters)({gcx:JSON.stringify(f)},e);b+="?"+(0,Q.convert2Parameters)(e);K.AjaxUtil.getData(b)}function A(){(0,M.isIframe)()||fa||(fa=setInterval(function(){0===C["default"].getAllBadgesInIframes().length?(clearInterval(fa),fa=null,B()):(0,U.getRegisteredIframes)().forEach(function(a){var c=a.iframeId,b=a.iframe;if(0<C["default"].getBadgesOfIframe(c).length){if(b.closed)return void D(c);R["default"].getBadgesLocations(a,function(c){c=F(c,1)[0];var b=a.domElement;c.badges.forEach(function(a){var c=
W[a.id];if(c){var e=document.getElementById("apt-"+a.id),f=c.getTooltip(),e=(0,Q.isElementInIframeVisible)(a.rect,b,e),f=!(!f||!f.state.isVisible)&&(0,Q.isElementInIframeVisible)(a.rect,b,f.popper);ma(c,null,{rect:a.rect,isVisible:a.isVisible&&(e||f),pageYOffset:window.pageYOffset})}});0===c.badges.length&&D(a.iframeId)})}})},250))}function B(){(0,U.getRegisteredIframes)().forEach(function(a){D(a.iframeId)})}function y(a){R["default"].setBadgeObserver(a);f()}function e(a){W[a]&&(W[a].destroy(),delete W[a])}
function D(a){C["default"].getBadgesOfIframe(a).forEach(function(a){e(a);C["default"].removeBadgeFromIframe(a)});ja.forEach(function(a){var c=a.badgeSettings.id;W[c]||(a=da(a.badgeSettings))&&(W[c]=a)})}function z(){(0,U.getRegisteredIframes)().forEach(R["default"].setBadgeObserver);H.internalEventListener.addListener("IFRAME_REGISTERED",y)}function J(){(0,U.getRegisteredIframes)().forEach(R["default"].unsetBadgeObserver);H.internalEventListener.removeListener("IFRAME_REGISTERED",y)}Object.defineProperty(a,
"__esModule",{value:!0});a.badgeIframeHelper=void 0;var F=function(){return function(a,c){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var b=[],e=!0,f=!1,g=void 0;try{for(var d,h=a[Symbol.iterator]();!(e=(d=h.next()).done)&&(b.push(d.value),!c||b.length!==c);e=!0);}catch(q){f=!0,g=q}finally{try{!e&&h["return"]&&h["return"]()}finally{if(f)throw g;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),I=function(){function a(c,b){for(var e=0;e<b.length;e++){var f=
b[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,b,e){return b&&a(c.prototype,b),e&&a(c,e),c}}();a.removeBadgeObserver=function(){la.disconnect();H.internalEventListener.removeListener("pageview",k)};a.addBadgeObserver=c;a.drawBadges=q;a.removeBadge=r;a.setBadgeObserverForRegisteredIframes=z;a.unsetBadgeObserverForRegisteredIframes=J;a.updateBadgesFromIframe=function(a,c){c.forEach(function(c){var b=c.id;c=c.isExist;
(C["default"].addBadgeToIframe(a,b),c)?W[b]||(c=ja.find(function(a){return a.badgeSettings.id===b}))&&(c=da(c.badgeSettings))&&(W[b]=c):e(b)});var b=C["default"].getAllBadgesInIframes(),f=0<C["default"].getAllBadgesInIframes().length;0===c.length&&0<C["default"].getBadgesOfIframe(a).length&&D(a);ja.forEach(function(a){var c=a.badgeSettings.id;-1===b.indexOf(c)&&(W[c]?(a=wa(),!W[c].target&&a(W[c])):(a=da(a.badgeSettings))&&(W[c]=a))});f?A():(clearInterval(fa),fa=null,B())};m=b(69);var C=l(m),E=b(4),
N=b(5),P=b(70),L=b(3),O=b(9),M=b(1),K=b(12),H=b(11);m=b(19);var R=l(m);m=b(40);var V=l(m),U=b(7),Q=b(0),S=b(57),T=b(10),X=b(31),Y=b(6),Z=b(21),ca=b(71),W={},la=void 0,ja=[],ha=void 0,qa=void 0,da=function(a,c,b,e){var f=E.eventTrackData[N.cacheGet](E.sessionIdParam);c=c||new P.Badge(a);var g=void 0,d=C["default"].getIsPreview();if(!d){var h=a.id;if(!h)return void L.logger.log("renderBadge got wrong badge id: "+h);if(!(g=C["default"].fetchBadges(f).filter(function(a){return a.badgeSettings.id===h})[0]))return void L.logger.log(Error("No badge found in store while expecting to get badge id "+
h))}if(e&&c.updateTargetData(b,e),c.render(),!d&&c.isRendered&&!g.wasViewed){g.wasViewed=!0;C["default"].storeBadge(f,g);try{x(g)}catch(q){L.logger.logInternalError(q,"Error during tracking badge view "+c)}}return c},ma=function(a,c,b){if(!a)return void L.logger.log("update badge was called with undefined "+a);b?a.isRendered?a.targetData.rect.top===b.rect.top&&a.targetData.rect.bottom===b.rect.bottom&&a.targetData.rect.left===b.rect.left&&a.targetData.rect.right===b.rect.right&&a.targetData.rect.height===
b.rect.height&&a.targetData.rect.width===b.rect.width&&a.targetData.isVisible===b.isVisible&&a.targetData.pageYOffset===b.pageYOffset||(a.updateTargetData(c,b),a.scheduleUpdatePopper()):da(a.badgeAttr,a,c,b):a.isRendered?a.scheduleUpdatePopper():d(a.badgeAttr,a)},ea=function(a){return a.forEach(function(a){return ma(a)})},wa=function(){var a=t();return(0,Q.debounce)(function(a){ma(a)},a)},Ca={attributes:!0,childList:!0,subtree:!0,attributeFilter:["style","class"]},sa=function(){var a=t();return(0,
Q.debounce)(f,a)};b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return I(a,null,[{key:"init",value:function(){if((0,M.getConfig)("enableBadge")&&!(0,M.isIframe)()){setInterval(p,6E4*(0,M.getConfig)("badgeRefreshInterval"));var a=E.eventTrackData[N.cacheGet](E.sessionIdParam),a=C["default"].fetchBadges(a);1>a.length||((0,Y.addStyleTag)(document.body,".apt-badge.apt-badge--hidden {\n\t\t\t\tdisplay: none;\n\t\t\t}"),ja=a,c(ea),(0,O.addDOMReadyListener)(q,
a))}}},{key:"addBadges",value:function(a){try{if(Array.isArray(a)&&!(1>a.length)){w(a);c(ea);var b=E.eventTrackData[N.cacheGet](E.sessionIdParam);C["default"].storeBadges(b,a);q(a)}}catch(e){L.logger.logInternalError(e)}}},{key:"removeAllBadges",value:function(){var a=E.eventTrackData[N.cacheGet](E.sessionIdParam),c=C["default"].fetchBadges(a);(0,Q.isNotEmptyArr)(c)&&(0,T.arrayFrom)(c).forEach(function(a){r(a.badgeSettings.id,c)});C["default"].storeBadges(a,c,!0);C["default"].clearAll()}}]),a}();
a["default"]=b;var fa=void 0;a.badgeIframeHelper=new function(){var a={};this.removeBadgeFromBadgesList=function(c){delete W[c];delete a[c];ja=Object.values(a)};this.addBadgeToBadgesList=function(c){void 0!==W[c.id]&&void 0!==a[c.id]||(W[c.id]=c,a[c.id]=c,ja=Object.values(a),n())};this.getRenderedBadges=function(){return W};this.getBadgesWithLocations=function(){return Object.values(W).map(function(a){var c=a.elementSelector,b=c.matchCssSelector,e=c.selector,f=c.cssSelector,g=c.matchTextRule,d=c.textRule,
c=c.htmlTextRule||JSON.parse(d)||{},b={matchCssSelector:b,cssSelector:e||f,matchTextRule:g,textRuleOperator:c.operator,textRuleValues:c.values},b=(0,Y.findElementInWindow)(b,(0,M.getBody)(),!1),e=void 0;b?(e=b.getBoundingClientRect(),b=(0,Q.isElementVisible)(b,!0),e=Object.assign({},a,{rect:e,isVisible:b,isExist:!0})):e=Object.assign({},a,{rect:{},isVisible:!1,isExist:!1});return e})}}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.Cookie=void 0;var l=function(){function a(b,
d){for(var f=0;f<d.length;f++){var c=d[f];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,d,f){return d&&a(b.prototype,d),f&&a(b,f),b}}(),d=b(1),t=b(60),k=b(59);a.Cookie=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return l(a,null,[{key:"setCookie",value:function(a,b,f,c){(0,d.isIframe)()||((0,d.getConfig)("localStorageCookie")?k.LocalStorageCookie.setCookie(a,
b,f):t.NativeCookie.setCookie(a,b,f,c))}},{key:"getCookie",value:function(a,b){return(0,d.getConfig)("localStorageCookie")?k.LocalStorageCookie.getCookie(a):t.NativeCookie.getCookie(a,b)}},{key:"getAllCookieVal",value:function(a){return(0,d.getConfig)("localStorageCookie")?k.LocalStorageCookie.getAllCookieVal(a):t.NativeCookie.getAllCookieVal(a)}},{key:"deleteCookie",value:function(a,b){(0,d.getConfig)("localStorageCookie")?k.LocalStorageCookie.deleteCookie(a):t.NativeCookie.deleteCookie(a,b)}},{key:"getCookiesRaw",
value:function(){return(0,d.getConfig)("localStorageCookie")?k.LocalStorageCookie.getCookiesRaw():t.NativeCookie.getCookiesRaw()}}]),a}()},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.showMessage=void 0;var l=b(0),d=b(1),t=b(45);t.registerPlugin(b(112));t.defaultOptions.className="vex-theme-os";a.showMessage=function(a,b,h,n,f){var c=n&&n.messageTime||3E3,g=(0,d.getConfig)("framesetMode")?"html":"body";switch(a){case "warning":t.dialog.alert({appendLocation:g,afterOpen:function(){(0,
d.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");var a=this;setTimeout(function(){a.close()},c);(0,l.addEventListener)(this.overlayEl,"click",function(a){a.stopImmediatePropagation()});(0,l.addEventListener)(this.overlayEl,"mousedown",function(a){a.stopImmediatePropagation()});(0,l.addEventListener)(this.overlayEl,"mouseup",function(a){a.stopImmediatePropagation()})},afterClose:function(){(0,d.getBody)().classList.remove("apt-vex")},overlayClassName:"apt-wrapper",className:"apt-wrapper vex-theme-default vex-content-warning",
contentClassName:"apt-wrapper",closeClassName:"apt-wrapper",unsafeMessage:'\x3cdiv\x3e\x3cdiv class\x3d"message-wrapper"\x3e\x3cdiv class\x3d"apt-message-icon warning" \x3e\x3c/div\x3e\x3cdiv\x3e'+b+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"});break;case "success":t.dialog.alert({appendLocation:g,afterOpen:function(){(0,d.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");var a=this;setTimeout(function(){a.close()},c);(0,l.addEventListener)(this.overlayEl,"click",function(a){a.stopImmediatePropagation()});
(0,l.addEventListener)(this.overlayEl,"mousedown",function(a){a.stopImmediatePropagation()});(0,l.addEventListener)(this.overlayEl,"mouseup",function(a){a.stopImmediatePropagation()})},afterClose:function(){(0,d.getBody)().classList.remove("apt-vex")},overlayClassName:"apt-wrapper",className:"apt-wrapper vex-theme-default vex-content-success",contentClassName:"apt-wrapper",closeClassName:"apt-wrapper",unsafeMessage:'\x3cdiv\x3e\x3cdiv class\x3d"message-wrapper"\x3e\x3cdiv class\x3d"apt-message-icon success" \x3e\x3c/div\x3e\x3cdiv\x3e'+
b+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"});break;case "error":t.dialog.alert({appendLocation:g,afterOpen:function(){(0,d.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");var a=this;n&&n.autoHideFalse||setTimeout(function(){a.close();h&&h()},c);(0,l.addEventListener)(this.overlayEl,"click",function(a){a.stopImmediatePropagation()});(0,l.addEventListener)(this.overlayEl,"mousedown",function(a){a.stopImmediatePropagation()});(0,l.addEventListener)(this.overlayEl,"mouseup",function(a){a.stopImmediatePropagation()})},
afterClose:function(){(0,d.getBody)().classList.remove("apt-vex")},overlayClassName:"apt-wrapper",className:"apt-wrapper vex-theme-default vex-content-error",contentClassName:"apt-wrapper",callback:function(a){a&&h&&h()},closeClassName:"apt-wrapper",unsafeMessage:'\x3cdiv\x3e\x3cdiv class\x3d"message-wrapper"\x3e\x3cdiv class\x3d"apt-message-icon alert" \x3e\x3c/div\x3e\x3cdiv\x3e'+b+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"});break;case "confirm":a="apt-wrapper",n&&n.contentClass&&(a+=" "+n.contentClass),
t.dialog.buttons.YES.text=n&&n.buttonText||"OK",t.dialog.buttons.NO.text=n&&n.buttonNoText||"Cancel",t.dialog.confirm({appendLocation:g,afterOpen:function(){(0,d.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");n&&n.showCancel&&this.rootEl.classList.add("apt-confirm-show");this.contentEl.querySelectorAll(".vex-dialog-button").forEach(function(a){(0,l.addEventListener)(a,"mousedown",function(a){a.stopImmediatePropagation()});(0,l.addEventListener)(a,"mouseup",function(a){a.stopImmediatePropagation()})});
(0,l.addEventListener)(this.overlayEl,"click",function(a){a.stopImmediatePropagation()});(0,l.addEventListener)(this.overlayEl,"mousedown",function(a){a.stopImmediatePropagation()});(0,l.addEventListener)(this.overlayEl,"mouseup",function(a){a.stopImmediatePropagation()})},afterClose:function(){(0,d.getBody)().classList.remove("apt-vex")},callback:function(a){a&&"function"==typeof h?h():a||"function"!=typeof f||f()},overlayClassName:"apt-wrapper",contentClassName:a,closeClassName:"apt-wrapper",unsafeMessage:'\x3cdiv\x3e\x3cdiv class\x3d"message-wrapper"\x3e\x3cdiv class\x3d"apt-message-icon alert" src\x3d"images/alert.png"\x3e\x3c/div\x3e\x3cdiv class\x3d"apt-message-text"\x3e'+
b+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",className:"vex-theme-default vex-content-confirm"})}}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.validateComment=function(a,b,t){var k=b.value&&b.value.trim(),v=a.isCommentMandatory&&!k?{valid:!1,message:a.mandatoryValidationText||"Please insert your comment"}:{valid:!0,message:""},h;h=k.length<a.minCommentLength?{valid:!1,message:a.minCharsValidationText?a.minCharsValidationText.replace("%minCommentLength%",a.minCommentLength):"Comment should be minimum "+
a.minCommentLength+" characters"}:{valid:!0,message:""};a=k.length>a.maxCommentLength?{valid:!1,message:a.maxCharsValidationText?a.maxCharsValidationText.replace("%maxCommentLength%",a.maxCommentLength):"Comment can be at most "+a.maxCommentLength+" characters"}:{valid:!0,message:""};return t.innerText=v.message||h.message||a.message,v.valid&&h.valid&&a.valid?(b.classList.remove("error"),t.style.display="none",!0):(b.classList.add("error"),t.style.display="inline-block",!1)}},function(m,a,b){function l(a,
b,f){f=Array.isArray(f)?f:[];var d=!1,d=f.every(function(a){return-1<b.findIndex(function(c){return a===c})});f=b.length===f.length&&d;switch(a){case n.IS:d=f;break;case n.IS_NOT:d=!f;break;case n.IN:break;case n.NOT_IN:d=!d;break;default:d=!0}return d}function d(a,b,d,h){var n=!1;if(h)if("multiValueSelector"===a)n=l(b,d,h);else if("number"===a)switch(a=Number(d[0]),h=Number(h[0]),n=!1,b){case f.EQUALS:n=h===a;break;case f.GREATER_THAN:n=h>a;break;case f.SMALLER_THAN:n=h<a;break;case f.SMALLER_THAN_EQUALS:n=
h<=a;break;case f.GREATER_THAN_EQUALS:n=h>=a;break;case f.BETWEEN:n=h>=a&&h<=Number(d[1]);break;default:n=!1}return n}function t(a,b){var f=a.defaultConditionAction,d=void 0;return a.stepConditionSet.sort(function(a,c){return a.conditionIndex-c.conditionIndex}).forEach(function(a){var c=a.rules.reduce(function(a,c){return a[c.ruleGroupIndex]=b(c),a},{}),c=(0,v["default"])(a.logicalExpression,c);!d&&c&&(d=a.action)}),d||(d=f),d}Object.defineProperty(a,"__esModule",{value:!0});a.setEngagementSessionId=
a.getEngagementSessionId=void 0;a.evaluateSurveyAnswers=d;a.evaluateStepConditionFilter=t;a.evaluateStepConditionFilterForSurvey=function(a,b){return t(a,function(a){return d(a.type,a.operator,a.value,b[a.id])})};m=b(4);var k=b(24),v=(b=b(145))&&b.__esModule?b:{"default":b},h=m.windowRef.sessionStorage,n={IS:"is",IN:"in",NOT_IN:"notIn",IS_NOT:"isNot"},f={SMALLER_THAN:"smallerThan",GREATER_THAN:"greaterThan",SMALLER_THAN_EQUALS:"smallerThanEquals",GREATER_THAN_EQUALS:"greaterThanEquals",EQUALS:"equals",
BETWEEN:"between"};a.getEngagementSessionId=function(){var a=h.getItem("apt.engagementSessionId"),b=k.UserData.getSessionId();return a||b};a.setEngagementSessionId=function(a){h.setItem("apt.engagementSessionId",a)}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=b(1),d=b(15),t=b(7),k=b(22),v=b(13);m=new function(){var a=window.top;if((0,l.isIframe)()){var b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"register",null,v.UUIDGenerator.generateV4Id());(0,k.retryFunction)(3,
3E3,function(){(0,d.postRequest)(b,a,!0)});(0,k.retryFunction)(3,3E3,function(){(0,d.postRequest)(b,window.parent,!0)});this.associateParent=function(a){a=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"associateParent",null,a);(0,d.postRequest)(a,window.parent,!0)};this.guideElementSelected=function(b,c){var g=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"guide",{type:"elementSelected",cssSelector:b,elementText:c});(0,d.postRequest)(g,a,!0)};this.guideElementSelectedForEditorV2=function(b,
c){var g=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"guide",{type:"elementSelectedForEditorV2",cssSelector:b,elementText:c});(0,d.postRequest)(g,a,!0)};this.getGuide=function(){var b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"guide",{type:"get"});(0,d.postRequest)(b,a,!0)};this.guideElementNotVisible=function(){};this.selectElementInProductMapper=function(b){(0,d.postRequest)(t.IframeRequest.getIframeRequest({aptrinsicEventType:"element_selector_document_click",content:{selector:b},
aptrinsicIframeId:(0,d.getIframeId)()}),a)};this.showNextStep=function(b,c){var g=t.IframeRequest.getIframeRequest({aptrinsicEventType:"apt_msg_show_next_step",content:{stepId:b,stepSelector:c},aptrinsicIframeId:(0,d.getIframeId)()});(0,d.postRequest)(g,a,!0)};this.updateContent=function(b){b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"guide",{type:"updateLastContent",content:b});(0,d.postRequest)(b,a,!0)};this.setSelectorState=function(b){b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),
"guide",{type:"updateSelectorState",state:b});(0,d.postRequest)(b,a,!0)};this.selectorIconClicked=function(b,c){var g=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"guide",{type:"iconClicked",state:b,extraData:c});(0,d.postRequest)(g,a,!0)};this.broadcastElementRect=function(a,c){var b=Object.assign({},a),b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),window.parent===window.top?"apt-msg-element-rect-parent":"apt-msg-element-rect",{elementRect:b},c);(0,d.postRequest)(b,window.parent,
!0)};this.broadcastUpBadgesLocation=function(a,c){var b=window.parent===window.top?"apt_msg_get_badges_locations_response":"apt_msg_get_badges_locations_parent_iframe",b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),b,{prevIframeId:(0,d.getIframeId)(),badges:a},c);(0,d.postRequest)(b,window.parent,!0)};this.broadcastBadgesStatuses=function(b){var c=v.UUIDGenerator.generateV4Id();b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"apt_msg_badge_post_status",{badges:b},c);(0,d.postRequest)(b,
a,!0)};this.sendElementResponse=function(b,c,g,n){b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"elementExistResult",{exist:!!b,isVisible:c,count:g},n);(0,d.postRequest)(b,a,!0)};this.guideLinkedElementClicked=function(b){b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"apt-msg-element-clicked",{},b);(0,d.postRequest)(b,a,!0)};this.guideExternalElementClicked=function(b){b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"apt-msg-external-element-clicked",{},b);(0,d.postRequest)(b,
a,!0)};this.isElementVisibleResponse=function(b,c){var g=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"guide",{type:"isElementVisibleResponse",isVisible:c},b);(0,d.postRequest)(g,a,!0)};this.getMapperState=function(a){(0,d.iframeSubscribeCallback)("guide",{type:"getState"},a)};this.getMapperStateForEditorV2=function(a){(0,d.iframeSubscribeCallback)("guide",{type:"getMapperStateForEditorV2"},a)};this.getAlternateSelectorResponse=function(b,c){var g=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),
"guide",{type:"alternateSelectorResponse",alternateSelector:c},b);(0,d.postRequest)(g,a,!0)};this.postDifferentSelectorResponse=function(b,c){var g=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"guide",{type:"differentSelectorResponse",selectors:c},b);(0,d.postRequest)(g,a,!0)}}};a["default"]=m},function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function t(){M.internalEventListener.dispatchEvent(Y.GLOBAL_CONTEXT_CHANGED,
(0,Z.getGlobalContext)())}function k(){(0,P.getIsNewAPI)()?(0,H.removeWidget)():(0,R.removeWidget)()}function v(a){var b={};if((0,z.isObject)(a)){var c={},e;for(e in a)a.hasOwnProperty(e)&&(-1==da.indexOf(e)?c[e]=a[e]:b[e]=a[e]);b.customAttributes=c}return b}function h(){(0,u.isIframe)()||(q.UserData.ensureUserData(),r.eventTrackData[p.cacheSet](r.userIdParameter,q.UserData.getUserId()),r.eventTrackData[p.cacheSet](r.sessionIdParam,q.UserData.getSessionId()),r.eventTrackData[p.cacheSet]("ai",q.UserData.getAptrinisId()),
r.eventTrackData[p.cacheSet]("vt",q.UserData.getUserType()))}function n(a){try{q.UserData.changeUserType(q.UserData.userType()),q.UserData.setAptrinsicId(a.ai)?sa.trackEvent("sessionInitialized",null,function(){(0,I.identifyFinished)()}):(0,I.identifyFinished)()}catch(b){y.logger.logInternalError(b,"failed to run identify call back for response")}}function f(a,b){if(a){if(b&&(0,B.setEngagementSessionId)(b),!(0,S.isExcluded)()&&!F["default"].isEditorMode()&&(0,u.getConfig)("enableBadge")){var c=a.badgeData;
try{c&&L["default"].addBadges(c.badges)}catch(e){y.logger.logInternalError(e)}}var c=a.engagement,f=Array.isArray(c);(f&&0<c.length||!f&&c)&&(ea=!0,ja=!1);try{A.EngagementDrawer.draw(c)}catch(e){y.logger.logInternalError(e)}}}Object.defineProperty(a,"__esModule",{value:!0});a.identifyCallback=a.startEngagementBatch=a.externalApi=a.api=void 0;var c=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],e=!0,f=!1,g=void 0;try{for(var d,h=a[Symbol.iterator]();!(e=
(d=h.next()).done)&&(c.push(d.value),!b||c.length!==b);e=!0);}catch(p){f=!0,g=p}finally{try{!e&&h["return"]&&h["return"]()}finally{if(f)throw g;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),g=function(){function a(b,c){for(var e=0;e<c.length;e++){var f=c[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,c,e){return c&&a(b.prototype,c),e&&a(b,e),b}}(),q=b(24),w=b(89),r=b(4),
u=b(1),p=b(5),x=b(12),A=b(43),B=b(39),y=b(3),e=b(9);m=b(99);var D=l(m),z=b(0),J=b(138);m=b(14);var F=l(m),I=b(25);m=b(42);var C=l(m);m=b(95);var E=l(m),N=b(10),P=b(30);m=b(35);var L=l(m),O=b(90),M=b(11),K=b(28),H=b(49),R=b(68),V=b(54),U=b(101),Q=b(64),S=b(20),T=b(58),X=b(18),Y=b(8),Z=b(21),ca=b(36),W=0,la=0,ja=!1,ha=void 0,qa=["click","linkClick"],da="id name trackedSubscriptionId industry numberOfEmployees sicCode website naicsCode plan countryCode countryName stateCode stateName city street continent postalCode regionName timeZone latitude longitude sfdcId parentGroupId".split(" "),
ma="linkClick LINK_CLICK ENGAGEMENT_DRAWN engagementDrawn engagementView engagementClosed engagementCompleted engagementViewedStep engagementPostRender surveyResponded SURVEY_CLOSED surveyClosed kcSearch articleView kcOpened kcClosed engagementLinkClick engagementResize customButtonClick CUSTOM_BUTTON_CLICK kcTriggered".split(" "),ea=!1,wa=function aa(a,b,c,e){var f=(e||0)+1;try{if((0,u.getConfig)("enableTag")&&!ea){b||(ea=!1);var g=(new Date).getTime(),d=(0,u.getConfig)("maxEngagementCalls");if(a>
d)return y.logger.log("sent "+d+" engagement calls, not calling again"),ja=!1,ha=void 0,void M.internalEventListener.dispatchEvent("ENGAGEMENT_FETCH");var h=(0,u.getConfig)("engagementCallDelay");if(g-la<h||g-W<h||(0,I.isInIdentify)())return void setTimeout(function(){aa(a,!0,c,f)},0===W?h:h-(g-W));fa.get("engagement",c);W=g;aa(a+1,!0,c,f)}}catch(p){y.logger.logInternalError(p)}},Ca=function xa(a){try{if((0,u.getConfig)("enableTag")&&!(0,K.hasLiveEngagement)()){var b=!(0,z.isObjectEmpty)(a)&&a.s||
void 0,c=(0,u.getConfig)("crossProductEngagement")&&!!r.windowRef.sessionStorage.getItem("apt.localCache");if(!(0,u.featureEnabled)("engagementPull")||ja||c)return b&&ha!==b&&M.internalEventListener.addListener("ENGAGEMENT_FETCH",xa,void 0,!1,!0),void y.logger.log("we have another engagement batch already running");ja=!0;b&&(ha=b);ea=!1;wa(1,null,a,0)}}catch(e){y.logger.logInternalError(e)}},sa=a.api=function(){function a(){d(this,a)}return g(a,null,[{key:"trackEvent",value:function(a){var b=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:void 0,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,d=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:void 0,k={};try{if((0,u.getConfig)("enableTag")&&(0,X.getChannel)(r.eventTrackData[p.cacheGet](r.productIdParameter))!=Y.DESKTOP_CHANNEL&&!("identify"!==a&&(0,S.isExcluded)()||F["default"].isEditorMode())){var w="sessionInitialized"!==
a&&!(0,u.isIframe)();if(-1<qa.indexOf(a)&&E["default"].try2Match(),d&&h(),"signup"===a&&2>arguments.length)throw Error("sign up event must contain event properties");!(0,u.isIframe)()&&Object.assign(k,r.eventTrackData[p.cacheGetAll]());(0,u.isIframe)()||0!==k[r.aptrinsicIdParam].indexOf("AP-")||k[r.aptrinsicIdParam]===k[r.userIdParameter]||y.logger.logInternalError(Error("visitor id does not match aptrinsic id for command"),"current cookies: "+ca.Cookie.getCookiesRaw());var l=(0,z.getWindowLocation)(),
t=l.protocol+"//",v=l.host,m=l.pathname,fa=l.search,A=r.documentRef.title,I=l.hash,D=r.documentRef.referrer;if("pageview"===a&&b){if(b.url)var J=(0,e.url2Location)(b.url),t=J.protocol,v=J.host,m=J.pathname,fa=J.search,I=J.hash;A=b.title||A;D=b.referrer||D;m=b.path||m;!(0,u.isIframe)()&&(b=void 0)}var d=void 0,B=(0,S.maskUrl)(t,v,m,fa,I,D,A),ha=c(B,7),t=ha[0],v=ha[1],m=ha[2],fa=ha[3],I=ha[4],d=ha[5],A=ha[6];Object.assign(k,{et:a,rf:d,sc:t,ho:v,pa:decodeURIComponent(m),q:decodeURIComponent(fa),ha:decodeURIComponent(I),
sch:(0,e.getPageHeight)(),scw:(0,e.getPageWidth)(),pt:A});g&&Object.assign(k,{cet:g});var V=(0,Z.getGlobalContext)();if((V||n)&&(b||(b={})),k=(0,O.addFullStoryInfo)(k),(0,z.isObject)(b)&&!(0,u.isIframe)())"feature"==a?b=b.featureMatches?{fmf:b.featureMatches}:{fmf:[{id:b.id,femr:!0}]}:"custom"===a&&(b={epr:b}),t={},n&&Object.assign(t,n),V&&Object.assign(t,V),!(0,z.isObjectEmpty)(t)&&Object.assign(b,{gco:t}),Object.assign(k,{ep:(0,N.jsonStringify)(b)}),-1<["engagementCompletedClosed","engagementDroppedClosed"].indexOf(a)&&
Object.assign(k,{ei:b.engagementId});if(w&&(la=(new Date).getTime()),(0,u.isIframe)())C["default"].track(a,b,g,V);else if((0,z.addCacheBuster)(k),(0,u.getConfig)("usePOST")){g=k;n={};n[r.productIdParameter]=g[r.productIdParameter];n.et=g.et;delete g.ep;var P=(0,z.convert2Parameters)((0,z.addParameters)(n,[])),U=u.commandEndPointV2+"?"+P,P={};(0,z.isObjectEmpty)(b)||(P.ep=b);x.AjaxUtil.postData(U,Object.assign({},g,P),null,f)}else{var H=u.commandEndpoint+"?"+(0,z.convert2Parameters)((0,z.addParameters)(k,
[])),L="identify"===k.et?(0,u.getConfig)("requestTimeoutCritical"):void 0;2083>=H.length?x.AjaxUtil.getData(H,f,void 0,void 0,void 0,void 0,L):(delete k.ep,H=u.commandEndpoint+"?"+(0,z.convert2Parameters)((0,z.addParameters)(k,[])),x.AjaxUtil.postData(H,b,null,f,void 0,void 0,void 0,L))}w&&Ca({s:q.UserData.getSessionId()});M.internalEventListener.dispatchEvent(a)}}catch(Q){y.logger.logInternalError(Q,"track: "+a+":"+k)}}},{key:"feedback",value:function(a){try{h();var b=Object.assign({},r.eventTrackData[p.cacheGetAll]());
Object.assign(b,(0,S.getWebContext)());b.et="feedback";!(0,z.isBlank)(a.category)&&(b.category=a.category);!(0,z.isBlank)(a.subject)&&(b.subject=a.subject);!(0,z.isBlank)(a.description)&&(b.description=a.description);(0,z.isNotEmptyArr)(a.labels)&&(b.labels=(0,N.arrayFrom)(a.labels,function(a){return a}));(0,z.addCacheBuster)(b);var c=u.serverEndpoint+"/feedback?"+r.productIdParameter+"\x3d"+r.eventTrackData[p.cacheGet](r.productIdParameter);(0,z.isBlank)(a.kcId)||(c+="\x26kcid\x3d"+a.kcId);x.AjaxUtil.postData(c,
b,null,null,null,!0)}catch(e){y.logger.logInternalError(e,"failed to send feedback "+JSON.stringify(a))}}}]),a}(),fa=a.externalApi=function(){function a(){d(this,a)}return g(a,null,[{key:"track",value:function(a,b){try{if((0,u.getConfig)("enableTag")){var e="";if(!a||!(0,z.isString)(a)||""===a.trim())return void y.logger.logInternalError(Error("cannot send custom event without event name: "+a+", properties: "+JSON.stringify(b)));"feature"!==a&&(e=a,a="custom");(0,z.isObject)(b)&&Object.entries(b).forEach(function(a){var e=
c(a,2);a=e[0];e=e[1];(0,z.isString)(e)&&e&&1024<e.length?b[a]=e.substr(0,1024):(0,z.isObject)(e)&&1024<JSON.stringify(e).length&&(b[a]=JSON.stringify(e).substr(0,1024))});I.internalApt.call(null,a,b,null,e)}}catch(f){y.logger.logInternalError(f,"custom event track: "+a+", properties: "+b)}}},{key:"get",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};try{if((0,u.getConfig)("enableTag")&&!(0,S.isExcluded)()&&!F["default"].isEditorMode()){var e=null,g=void 0,d=void 0,
n={};switch(Object.assign(n,r.eventTrackData[p.cacheGetAll](),b||{}),n=(0,O.addFullStoryInfo)(n),a){case "engagement":h();var e=u.getAllInAppEndpoint,q=(0,z.getUrlParts)(),k=c(q,4),w=k[0],l=k[1],t=k[2],v=k[3],m=(0,S.maskUrl)((0,z.getWindowLocation)().protocol+"//",w,l,t,v,null,null),C=c(m,5),d=C[0],w=C[1],l=C[2],t=C[3],v=C[4];Object.assign(n,{sc:d,ho:w,pa:decodeURIComponent(l),q:decodeURIComponent(t),ha:decodeURIComponent(v)});n.u=""+w+n.pa+n.q+n.ha;var fa=(0,Z.getGlobalContext)();fa&&Object.assign(n,
{gcx:JSON.stringify(fa)});var A=n.s,g=function(a){f(a,A)};break;default:return}(0,z.addCacheBuster)(n);e+="?"+(0,z.convert2Parameters)((0,z.addParameters)(n,[]));x.AjaxUtil.getData(e,function(a){try{g.call(this,a)}catch(b){y.logger.logInternalError(b)}})}}catch(E){y.logger.logInternalError(E)}}},{key:"identify",value:function(b,c,e){try{if((0,u.getConfig)("enableTag")&&(0,u.featureEnabled)("identify")){if((0,z.isObject)(e)){var f=new J.IntegrationMapper(b,c,e);if(f.mapData()&&(b=f.getUserObj(),c=
f.getAccountObj()),f.isSegmentGroupCall())return void a._waitForUserIdentify(b,c)}e={};if((0,z.isBlank)(b.id&&b.id.toString()))throw Error("cannot identify without user id. Current user data: "+JSON.stringify(b));e={};e.usf=(0,w.copyUserFields)(b,c);(0,z.isObject)(c)&&(e.acf=v(c));(0,I.internalApt)("identify",e,n);(0,I.identifyStart)()}}catch(g){y.logger.logInternalError(g)}}},{key:"initWithExternalState",value:function(b,c){q.UserData.setAptrinsicId(c);q.UserData.setSessionId(b);a.get("engagement")}},
{key:"_waitForUserIdentify",value:function(b,c,e){e=e||0;var f=!1;try{f=q.UserData.isUser()}catch(g){}!f&&1500>e?setTimeout(function(){a._waitForUserIdentify(b,c,e+250)},250):a.identify(b,c)}},{key:"account",value:function(a){try{if((0,u.getConfig)("enableTag")&&!(0,S.isExcluded)()&&!F["default"].isEditorMode()){h();var b={};(0,z.isObject)(a)&&(b=v(a));var c=u.accountEndpoint+"?";a=[];a=(0,z.addParameters)(r.eventTrackData[p.cacheGetAll](),a);a=(0,z.addParameter)("acc",JSON.stringify(b),a);c+=(0,
z.convert2Parameters)(a);la=(new Date).getTime();x.AjaxUtil.getData(c)}}catch(e){y.logger.logInternalError(e)}}},{key:"set",value:function(a,b,c){try{if((0,u.getConfig)("enableTag")){switch(a){case "notification":c=[];c=(0,z.addParameters)(r.eventTrackData[p.cacheGetAll](),c);c=(0,z.addParameter)("ni",b,c);c=(0,z.addParameter)("ns",1,c);var e=u.notificationStateEndpoint+"?"+(0,z.convert2Parameters)(c);try{var f=r.documentRef.createElement("img");f.width=1;f.hight=1;f.src=e}catch(g){y.logger.logInternalError(g)}break;
case "user":(0,w.setUser)(b);break;case "globalContext":r.globalContextCache[p.cacheMerge]("apt.gcx",b);t();break;case "eventListener":-1!==["ENGAGEMENT_DRAWN","SURVEY_CLOSED","engagementDrawn","surveyClosed"].indexOf(b)&&null!==c&&"function"==typeof c&&(r.externalEventListeners[b]=c)}M.internalEventListener.dispatchEvent("set",a)}}catch(g){y.logger.logInternalError(g)}}},{key:"setOnce",value:function(a,b){try{if((0,u.getConfig)("enableTag"))switch(a){case "globalContext":r.globalContextCache[p.cacheMerge]("apt.gcx",
b,!0),t()}}catch(c){y.logger.logInternalError(c)}}},{key:"remove",value:function(a,b){try{if((0,u.getConfig)("enableTag"))switch(a){case "globalContext":var c=(0,Z.getGlobalContext)();(0,z.isNotEmptyArr)(b)&&(b.forEach(function(a){c.hasOwnProperty(a)&&delete c[a]}),r.globalContextCache[p.cacheSet]("apt.gcx",c),t())}}catch(e){y.logger.logInternalError(e)}}},{key:"lead",value:function(a,b){if((0,u.getConfig)("enableTag")){var c={};(0,z.isObject)(b)&&(c=(0,w.copyUserFields)(b));D["default"].trackLead(a,
c)}}},{key:"event",value:function(a,b){try{if((0,u.getConfig)("enableTag")){if(!a)return void y.logger.logInternalError(Error("cannot track custom event from segment without event name: "+a+", event attributes: "+JSON.stringify(b)));this.track(a,b)}}catch(c){y.logger.logInternalError(c,"SEGMENT_EVENT Unable to log "+a)}}},{key:"checklog",value:function(){y.logger.debugMode&&y.logger.logInternalError(Error("Test log from web-sdk"))}},{key:"pageView",value:function(a){(0,I.internalApt)("pageview",a)}},
{key:"send",value:function(a){switch(a){case "feedback":if(2>arguments.length||!(0,z.isObject)(arguments[1]))break;sa.feedback(arguments[1]);break;case "click":if(!(2>arguments.length)&&Array.isArray(arguments[1])){var b=arguments[1];(0,I.internalApt)("click",{elementTree:b})}}}},{key:"bot",value:function(a,b){(0,P.setIsNewAPI)(!1);var c=(0,P.getIsNewAPI)(),e="API"===(0,u.getConfig)("fetchKcType"),f=b;switch((0,z.isObject)(f)||(f={}),a){case "search":if(!(0,z.isObject)(b))break;(0,u.setKcConfigByName)("labels",
b.labels);P.KnowledgeCenterManager.updateWidgetConfig();break;case "get":if(!1===c){console.log("The Bot api being used is deprecated, please check the documentation on how to use new Bot 'kcb' api");try{(0,R.fetchKcByApi)(f,!1)}catch(g){y.logger.logInternalError(Error("Bot API - get - "+g))}}break;case "show":if(!1===c){console.log("The Bot api being used is deprecated, please check the documentation on how to use new Bot 'kcb' api");try{var d=f,h=d.onError,n=d.onDone;e&&(0,R.toggleKcBot)(!0,n,h)}catch(g){y.logger.logInternalError(Error("Bot API - show - "+
g))}}break;case "start":if(!1===c){console.log("The Bot api being used is deprecated, please check the documentation on how to use new Bot 'kcb' api");try{(0,R.fetchKcByApi)(f,!0)}catch(g){y.logger.logInternalError(Error("Bot API - start - "+g))}}break;case "hide":if(!1===c){console.log("The Bot api being used is deprecated, please check the documentation on how to use new Bot 'kcb' api");try{var h=f,d=h.onError,p=h.onDone;e&&(0,R.toggleKcBot)(!1,p,d,!0)}catch(g){y.logger.logInternalError(Error("Bot API - hide - "+
g))}}}}},{key:"kcb",value:function(a,b){if((0,P.setIsNewAPI)(!0),(0,P.getIsNewAPI)()){var c="API"===(0,u.getConfig)("fetchKcType"),e="embedded"===(0,u.getConfig)("kcDisplayType"),f=b;switch((0,z.isObject)(f)||(f={}),a){case "open":var g=f.onError,d=f.onDone;try{c?(0,P.getKcIsShownViaAPI)()?P.KnowledgeCenterManager.checkIsInitialized()&&(0,H.toggleKcBot)(!0,d,g,!0):((0,V.addCommandToBotQueue)(function(){(0,H.toggleKcBot)(!0,d,g,!0)}),(0,H.initWidgetForAPI)(!0,g),(0,P.setKcIsShownViaAPI)(!0)):(0,H.toggleKcBot)(!0,
d,g,!0)}catch(h){(0,z.isFunction)(g)&&g({message:"Bot API - error occurred"}),y.logger.logInternalError(Error("Bot API - open - "+h))}break;case "close":c=f.onError;f=f.onDone;try{(0,H.toggleKcBot)(!1,f,c,!0)}catch(h){(0,z.isFunction)(c)&&c({message:"Bot API - error occurred"}),y.logger.logInternalError(Error("Bot API - close - "+h))}break;case "show":var n=f.onError,p=f.onDone;try{c?((0,V.addCommandToBotQueue)(function(){(0,P.setKcIsShownViaAPI)(!0);(0,z.isFunction)(p)&&p()}),(0,H.initWidgetForAPI)(!1,
n)):((0,z.isFunction)(n)&&n({message:"Bot API - show is only supported in API mode"}),y.logger.log("Bot API - show is only supported in API mode"))}catch(h){(0,z.isFunction)(n)&&n("Bot API - error occurred"),y.logger.logInternalError(Error("Bot API - show - "+h))}break;case "hide":var q=f.onError,r=f.onDone;try{if(c){var k=function(){e&&(0,H.removeEmbeddedHanldlers)();(0,H.removeWidget)();(0,P.setKcIsShownViaAPI)(!1)};(0,H.toggleKcBot)(!1,function(a){a=a.kcId;k();(0,z.isFunction)(r)&&r({id:a})},function(){k();
(0,z.isFunction)(q)&&q({message:"An error occurred, could not hide the bot."})},!0)}else(0,z.isFunction)(q)&&q({message:"Bot API - hide is only supported in API mode"}),y.logger.log("Bot API - hide is only supported in API mode")}catch(h){(0,z.isFunction)(q)&&q({message:"Bot API - error occurred"}),y.logger.logInternalError(Error("Bot API - hide - "+h))}break;case "showArticleById":c=f.articleId;f=f.onError;try{P.KnowledgeCenterManager.openArticleById(c)}catch(h){(0,z.isFunction)(f)&&f({message:"Bot API - error occurred"}),
y.logger.logInternalError(Error("Bot API - showArticleById - "+h))}}}}},{key:"reset",value:function(){(0,P.productNeedsExtraLogging)((0,X.getProduct)(r.eventTrackData[p.cacheGet](r.productIdParameter)))&&y.logger.reportToServer("reset called");q.UserData.clearUserData();A.EngagementDrawer.clearEngagements(!0);L["default"].removeAllBadges();k()}},{key:"addListener",value:function(a,b){if(0>ma.indexOf(a))return void y.logger.log("trying to listen to event "+a+" that is not allowed in the API");M.internalEventListener.addListener(a,
b,null,!0)}},{key:"config",value:function(a,b,c){void 0!==b&&("tagKey"===a?b!==r.eventTrackData[p.cacheGet](r.productIdParameter)&&(a={},c&&!(0,z.isObjectEmpty)(c.tagConfig)&&(a=c.tagConfig),(0,u.setCachedConfig)(U.tagConfigKeyName,a),r.windowRef[r.aptrinsicGlobalObjName]=Q.aptNotReady,(0,I.appNotReady)(),r.eventTrackData[p.cacheSet](r.productIdParameter,b),q.UserData.clearUserData(),A.EngagementDrawer.clearEngagements(),L["default"].removeAllBadges(),E["default"].clearAll(),k(),(0,U.getServerConfiguration)(!1,
b,null,(0,u.getCachedConfig)(U.tagConfigKeyName),null,function(){(0,u.isIframe)()||(q.UserData.initializeUser(b),r.eventTrackData[p.cacheSet](r.userIdParameter,q.UserData.getUserId()),r.eventTrackData[p.cacheSet]("vt",q.UserData.getUserType()),r.eventTrackData[p.cacheSet]("ai",q.UserData.getAptrinisId()),r.eventTrackData[p.cacheSet](r.sessionIdParam,q.UserData.getSessionId()));(0,I.appReady)();(0,Q.aptReady)()})):"enableTag"===a&&((0,u.overrideConfig)({enableTag:b},!1,!0,!0),!1===b&&this.reset()))}},
{key:"render",value:function(a,b,c){if("engagement"===a)try{T.eventCache.setdata("trackingPayload",c),f(b,null)}catch(e){y.logger.logInternalError(e,"failed to draw engagement: "+JSON.stringify(b))}}}]),a}();a.startEngagementBatch=Ca;a.identifyCallback=n},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=b(1),d=b(15),t=b(7),k=(m=b(14))&&m.__esModule?m:{"default":m},v=b(0),h=b(13);b=new function(){var a=window.top;if((0,l.isIframe)()&&!k["default"].isEditorMode()){var b=t.IframeRequest.getIframeRequest((0,
d.getIframeId)(),"register",null,h.UUIDGenerator.generateV4Id());(0,v.retryFunction)(3,1E3,function(){(0,d.postRequest)(b,a,!0)});this.track=function(b,f,h,k){b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"track",{aptrinsicEventType:b,properties:f,customEventName:h,passedGlobalContext:k});(0,d.postRequest)(b,a,!0)};this.lead=function(b,f,h,k){b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"lead",{source:b,email:f,userData:h,formFields:k});(0,d.postRequest)(b,a,!0)};this.textElementResponse=
function(b,f){var h=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"fetchElementTextResponse",{text:b},f);(0,d.postRequest)(h,a,!0)};this.textFeatureMatch=function(b){b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"textFeatureMatches",{featureMatchData:b});(0,d.postRequest)(b,a,!0)}}};a["default"]=b},function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}function d(a,b,c,e,f){try{var g=void 0,d=void 0,d=(0,z.getEngagementTrackPayload)(a,W.CLICK,c,e),d=(0,u.addParameters)({recId:f||
null},d);a=b;return(0,C.getConfig)("storageProxyDomain")&&(a=(0,z.replaceImagesSrcFromHtmlString)(b)),g=C.engagementTrackEndpoint+"?",(0,P.resolveUrlsWithPlaceholdersInHTML)(a,(0,O.isDesktop)()?null:function(a){a=d.concat((0,u.addParameter)("ru",a));return g+(0,u.convert2Parameters)(a)})}catch(h){A.logger.logInternalError(h)}}function t(a){return(0,y.isLocked)(a)?(A.logger.log("Not displaying engagement of type "+a+" because an engagement of this type already displayed"),!1):((0,y.lockEngagementType)(a),
!0)}function k(a,b,c,e,f,g){return{errorType:a,errorSubTypes:f,engagementErrorData:{engagementId:c,engagementType:e,stepId:g},flowType:"ENGAGEMENT",exceptionDetails:b,aptrinsicId:x.eventTrackData.data[x.aptrinsicIdParam]||null,sessionId:x.eventTrackData.data[x.sessionIdParam]||null}}function v(a,b,c,e){a=k("FAILED_HTML_SANITIZATION",""+b,a.engagementId,a.content.contentType,Array.isArray(c)?[].concat.apply([],c):[],e);A.logger.logInternalMessage(a)}function h(){(0,K.toggleKcBot)(!1,void 0,void 0,
!0)}function n(a,b){a.content.coreStyling=a.content.coreStyling.replace("https://storage.googleapis.com",b);a.content.engagementCoreStyling=a.content.engagementCoreStyling.replace("https://storage.googleapis.com",b);a.content.overrideStyling=a.content.overrideStyling.replace("https://storage.googleapis.com",b)}function f(a,b,e){var f=e&&e.recId?e.recId:null;if(Array.isArray(a)&&(1<a.length&&(a=a.sort(function(a,b){return Z[a.content.contentType]-Z[b.content.contentType]})),a=a[0]),a){var g={url:(0,
u.getPageUrl)()};if(!(b||F["default"].isPreview()||(0,u.isBlank)(a.rules)||(0,N.matchMultiTypeRules)(JSON.parse(a.rules),g)))return void A.logger.log("did not have client side match for engagement rules "+a.rules+", current URL: "+g);g=(0,H.validateChecksum)(a.engagementId,a.content);if(!g.valid)return e=k(g.errorType,g.errorMessage,a.engagementId,a.content.contentType),void A.logger.logInternalMessage(e);a.content.contentTypeId=ca[a.content.contentType];g=(0,y.sanitizeEngagement)(a.content,null,
!1);Y||(document.addEventListener(V.SET_USER_ATTRIBUTE_EVENT_NAME,function(a){(0,R.setUser)(a.detail.userAttr)}),Y=!0);var p=(0,C.getConfig)("storageProxyDomain");switch(p&&n(a,p),a.content.contentType){case "IN_APP_DIALOG":t(a.content.contentType)&&(g[0].isValid?(a=la(a,f),f=Q.checkHasOverlayForCurrentStep()?Q.getStepSettings().zIndex:a.content.settings.zIndex,g=Q.isRunning()&&Q.checkHasOverlayForCurrentStep()?0:a.content.settings.overlayFill,f=Object.assign({},a,{content:Object.assign({},a.content,
{settings:Object.assign({},a.content.settings,{zIndex:f,overlayFill:g})})}),T.drawDialog(f,c,b,e),h(),L.internalEventListener.dispatchEvent("engagementView",(0,z.getExternalEvent)(a,"Viewed"))):v(a,g[0].errors,g[0].errorTypes),q(a.content.contentType,a.rules,b));break;case "IN_APP_GUIDE":if(t(a.content.contentType)){b=!0;for(p=0;p<a.content.steps.length;p++){var r=a.content.steps[p];if(r.total=a.content.steps.length,!(0,u.isBlank)(r.content))if(g[p].isValid&&b){var w=r.content;(0,C.getConfig)("cssNonce")&&
(w=(0,U.removeStyleAttributesFromHTML)(w),w=(0,U.replaceStepIdPlaceholder)(r.id,w));a.content.steps[p].content=d(a,w,r.id,r.sequenceNumber,f);r.titleHtml&&(a.content.steps[p].titleHtml=d(a,r.titleHtml,r.id,r.sequenceNumber,f))}else b=!1,v(a,g[p].errors,g[p].errorTypes,r.id)}g.some(function(a){return!a.isValid})||(f=a.content,Object.assign(f,{engagementId:a.engagementId,contentId:a.content.id,matchEventId:a.matchEventId,accountId:a.accountId,executionId:a.executionId,executionTimestamp:a.executionTimestamp,
coreStyling:a.content.coreStyling,engagementCoreStyling:a.content.engagementCoreStyling,overrideStyling:a.content.overrideStyling,activationType:a.activationType,contentLocale:a.contentLocale,ideId:a.ideId,engagementName:a.engagementName}),a.content.steps=a.content.steps.map(function(a){return Object.assign({},a,{elementSelector:{matchCssSelector:a.matchCssSelector,cssSelector:a.cssSelector,matchTextRule:a.matchTextRule,textRuleOperator:a.textRule&&a.textRule.operator,textRuleValues:a.textRule&&a.textRule.values}})}),
Q.playGuide(a.content.steps,f,function(){(0,y.handleEngagementFinish)(a.content.contentType)},e),h(),L.internalEventListener.dispatchEvent("engagementView",(0,z.getExternalEvent)(a,"Viewed")))}break;case "IN_APP_CAROUSEL":if(t(a.content.contentType)){p=!0;for(r=0;r<a.content.carouselSlideList.length;r++)w=a.content.carouselSlideList[r],(0,u.isBlank)(w.html)||(p&&g[r].isValid?a.content.carouselSlideList[r].html=d(a,w.html,w.id,w.sequence,f):(p=!1,v(a,g[r].errors,g[r].errorTypes,w.id)));p&&(S.drawCarousel(a,
c,e),h(),L.internalEventListener.dispatchEvent("engagementView",(0,z.getExternalEvent)(a,"Viewed")),q(a.content.contentType,a.rules,b))}break;case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":t(a.content.contentType)&&(g.forEach(function(b){b.isValid||v(a,b.errors,b.errorTypes,b.stepId)}),X.draw(a,c,e).isValid&&(h(),L.internalEventListener.dispatchEvent("engagementView",(0,z.getExternalEvent)(a,"Viewed")),
q(a.content.contentType,a.rules,b)))}}}function c(a,b){["ENGAGEMENT_DRAWN","engagementDrawn"].forEach(function(c){var e=b.getBoundingClientRect(),e={width:e.width,height:e.height};if(x.externalEventListeners[c])try{x.externalEventListeners[c](a.content.contentType,a.engagementId,e)}catch(f){A.logger.logInternalError(f,"Error calling "+c+" event listener")}L.internalEventListener.dispatchEvent(c,a.content.contentType,a.engagementId,e)})}function g(a,b){return function(){var c={url:(0,u.getPageUrl)()};
(0,N.matchMultiTypeRules)(JSON.parse(a),c)||ja.clearEngagement(b)}}function q(a,b,c){!(0,C.getConfig)("evaluateEngRuleOnNavigation")||c||F["default"].isPreview()||(0,u.isBlank)(b)||(b=g(b,a),(0,y.registerEngagementPageChangedHandler)(a,b))}Object.defineProperty(a,"__esModule",{value:!0});a.guideDrawer=a.EngagementDrawer=void 0;var w=function(){function a(b,c){for(var e=0;e<c.length;e++){var f=c[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,
f.key,f)}}return function(b,c,e){return c&&a(b.prototype,c),e&&a(b,e),b}}();m=b(63);m=l(m);var r=b(122),r=l(r),u=b(0),p=b(9),x=b(4),A=b(3),B=b(12),y=b(28),e=b(126),e=l(e),D=b(132),D=l(D),z=b(16),J=b(14),F=l(J),I=b(37),C=b(1),E=b(30),N=b(57),P=b(29),L=b(11),O=b(18),M=b(35),K=b(49),H=b(51),R=b(89),V=b(8),U=b(65),Q=new m["default"](null,!0),S=new r["default"],T=new e["default"],X=new D["default"],Y=!1,Z={IN_APP_CAROUSEL:1,IN_APP_GUIDE:2,IN_APP_DIALOG:3,IN_APP_SURVEY_NPS:4,IN_APP_CES_SURVEY:5,IN_APP_BOOLEAN_SURVEY:6,
IN_APP_RATING_SURVEY:7,IN_APP_MULTIPLE_QUESTION_SURVEY:8},ca={IN_APP_DIALOG:1,IN_APP_GUIDE:2,IN_APP_CAROUSEL:3,IN_APP_SURVEY_NPS:4,IN_APP_CES_SURVEY:5,IN_APP_BOOLEAN_SURVEY:6,IN_APP_RATING_SURVEY:7,IN_APP_MULTIPLE_QUESTION_SURVEY:8},W={CLICK:"ENGAGEMENT_CLICK"},la=function(a,b){try{var c=void 0;if(a.content.htmlElements)if(Array.isArray(a.content.htmlElements))for(var e=0;e<a.content.htmlElements.length;e++)c=a.content.htmlElements[e],a.content.htmlElements[e]=d(a,c,null,null,b);else a.content.htmlElements=
d(a,a.content.htmlElements,null,null,b);return a}catch(f){A.logger.logInternalError(f)}},ja=a.EngagementDrawer=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return w(a,null,[{key:"draw",value:function(a,b,c){(0,p.addDOMReadyListener)(f,a,b,c)}},{key:"clearEngagements",value:function(a){(a=a||!(0,C.getConfig)("crossProductEngagement"))&&Q.close();S.close();T.close();X.close();a&&Q.clearStepRedirectData()}},{key:"clearEngagement",value:function(a){switch(a){case "IN_APP_DIALOG":T.close();
break;case "IN_APP_CAROUSEL":S.close();break;case "IN_APP_GUIDE":Q.close();Q.clearStepRedirectData();break;case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":X.close()}}}]),a}();if(a.guideDrawer=Q,!(0,C.isIframe)()&&F["default"].isPreview())F["default"].getAdditionalDetails().kcId?(0,p.addDOMReadyListener)(function(){B.AjaxUtil.getData("https://app-be.aptrinsic.com/api/knowledge/"+F["default"].getProductKey().split("-")[1],
function(a){E.KnowledgeCenterManager.removeWidget();E.KnowledgeCenterManager.initWidget({apiKey:F["default"].getProductKey(),initialConfig:Object.assign(a,{enabled:!0}),isPreview:!0},!0);history.replaceState("",document.title,F["default"].cleanEngagementData())},{Authorization:"Bearer "+F["default"].getToken()},function(a){try{403===a?((0,I.showMessage)("error","Not authorized to preview this knowledge center"),F["default"].exit()):401==a&&((0,I.showMessage)("error","Token expired, try to preview again"),
F["default"].exit())}catch(b){A.logger.logInternalError(b)}})}):(a=(0,u.parseApiKey)(F["default"].getProductKey()).groupId,B.AjaxUtil.getData(F["default"].getPreviewUrl(),function(a){(0,p.addDOMReadyListener)(function(){history.replaceState("",document.title,F["default"].cleanEngagementData())});var b=a.badgeData;try{if(b&&(0,u.isNotEmptyArr)(b.badges)){var c=b.badges[0].badgeSettings;Object.assign(c,{isPreview:!0,clickCallback:function(){try{"ONCE"===c.qualificationScopeType&&"ON_CLICK"===c.engagementTrigger&&
(0,M.removeBadge)(c.id),f(a.engagement)}catch(b){A.logger.logInternalError(b)}}});(0,M.drawBadges)(b.badges,null,!0)}else f(a.engagement)}catch(e){A.logger.logInternalError(e)}},{Authorization:"Bearer "+F["default"].getToken(),"X-GROUP-ID":a},function(a){try{403===a?((0,I.showMessage)("error","Not authorized to preview this engagement"),F["default"].exit()):401==a&&((0,I.showMessage)("error","Token expired, try to preview again"),F["default"].exit())}catch(b){A.logger.logInternalError(b)}}))},function(m,
a,b){function l(a,b){var d={appendTo:(0,k.getBody)(),zIndex:2147483647,theme:"px-tooltip"};return(0,t["default"])(a,Object.assign(d,b))}Object.defineProperty(a,"__esModule",{value:!0});var d=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var d=[],f=!0,c=!1,g=void 0;try{for(var q,k=a[Symbol.iterator]();!(f=(q=k.next()).done)&&(d.push(q.value),!b||d.length!==b);f=!0);}catch(r){c=!0,g=r}finally{try{!f&&k["return"]&&k["return"]()}finally{if(c)throw g;}}return d}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}();a.addTooltipToElement=l;a.addTooltipToElements=function(a){return a.map(function(a){a=d(a,2);return l(a[0],a[1])})};var t=(m=b(67))&&m.__esModule?m:{"default":m},k=b(1)},function(m,a,b){var l,d,t,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){"object"===k(a)&&void 0!==m?m.exports=b():(d=[],l=b,void 0!==(t="function"==typeof l?
l.apply(a,d):l)&&(m.exports=t))}(function(){return function h(a,b,c){function g(r,k){if(!b[r]){if(!a[r]){if(d)return d(r,!0);var p=Error("Cannot find module '"+r+"'");throw p.code="MODULE_NOT_FOUND",p;}p=b[r]={exports:{}};a[r][0].call(p.exports,function(b){return g(a[r][1][b]||b)},p,p.exports,h,a,b,c)}return b[r].exports}for(var d=!1,k=0;k<c.length;k++)g(c[k]);return g}({1:[function(a,b,f){"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in
document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var a=document.createElement("_");if(a.classList.add("c1","c2"),!a.classList.contains("c2")){var b=function(a){var b=DOMTokenList.prototype[a];DOMTokenList.prototype[a]=function(a){var c,f=arguments.length;for(c=0;c<f;c++)a=arguments[c],b.call(this,a)}};b("add");b("remove")}if(a.classList.toggle("c3",!1),a.classList.contains("c3")){var f=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&
!this.contains(a)==!b?b:f.call(this,a)}}a=null}():function(a){if("Element"in a){a=a.Element.prototype;var b=Object,f=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},d=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},n=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR",
"String contains an invalid character");return d.call(a,b)},p=function(a){for(var b=f.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],c=0,g=b.length;c<g;c++)this.push(b[c]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},k=p.prototype=[],l=function(){return new p(this)};if(h.prototype=Error.prototype,k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",-1!==n(this,a)},k.add=function(){var a,b=arguments,c=0,f=b.length,g=!1;do a=b[c]+"",-1===
n(this,a)&&(this.push(a),g=!0);while(++c<f);g&&this._updateClassName()},k.remove=function(){var a,b,c=arguments,f=0,g=c.length,d=!1;do for(a=c[f]+"",b=n(this,a);-1!==b;)this.splice(b,1),d=!0,b=n(this,a);while(++f<g);d&&this._updateClassName()},k.toggle=function(a,b){a+="";var c=this.contains(a),f=c?!0!==b&&"remove":!1!==b&&"add";return f&&this[f](a),!0===b||!1===b?b:!c},k.toString=function(){return this.join(" ")},b.defineProperty){k={get:l,enumerable:!0,configurable:!0};try{b.defineProperty(a,"classList",
k)}catch(t){-2146823252===t.number&&(k.enumerable=!1,b.defineProperty(a,"classList",k))}}else b.prototype.__defineGetter__&&a.__defineGetter__("classList",l)}}(window.self))},{}],2:[function(a,b,f){b.exports=function(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var c=/<([\w:]+)/.exec(a);if(!c)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");c=c[1];if("body"==c)return c=b.createElement("html"),c.innerHTML=a,c.removeChild(c.lastChild);var c=g[c]||g._default,
f=c[0],d=c[1],h=c[2],c=b.createElement("div");for(c.innerHTML=d+a+h;f--;)c=c.lastChild;if(c.firstChild==c.lastChild)return c.removeChild(c.firstChild);for(f=b.createDocumentFragment();c.firstChild;)f.appendChild(c.removeChild(c.firstChild));return f};var c;a=!1;"undefined"!=typeof document&&(c=document.createElement("div"),c.innerHTML='  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d"/a"\x3ea\x3c/a\x3e\x3cinput type\x3d"checkbox"/\x3e',a=!c.getElementsByTagName("link").length,c=void 0);var g=
{legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],_default:a?[1,"X\x3cdiv\x3e","\x3c/div\x3e"]:[0,"",""]};g.td=g.th=[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"];g.option=g.optgroup=[1,'\x3cselect multiple\x3d"multiple"\x3e',"\x3c/select\x3e"];g.thead=g.tbody=g.colgroup=g.caption=g.tfoot=[1,"\x3ctable\x3e",
"\x3c/table\x3e"];g.polyline=g.ellipse=g.polygon=g.circle=g.text=g.line=g.path=g.rect=g.g=[1,'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" version\x3d"1.1"\x3e',"\x3c/svg\x3e"]},{}],3:[function(a,b,f){function c(a,b){if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var c=Object(a),f=1;f<arguments.length;f++){var d=arguments[f];if(void 0!==d&&null!==d)for(var h=Object.keys(Object(d)),n=0,k=h.length;n<k;n++){var l=h[n],t=Object.getOwnPropertyDescriptor(d,l);
void 0!==t&&t.enumerable&&(c[l]=d[l])}}return c}b.exports={assign:c,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:c})}}},{}],4:[function(a,b,f){a("classlist-polyfill");a("es6-object-assign").polyfill();var c=a("domify"),g=function(a){if(void 0!==a){var b=document.createElement("div");return b.appendChild(document.createTextNode(a)),b.innerHTML}return""},d=function(a,b){if("string"==typeof b&&0!==b.length)for(var c=b.split(" "),
e=0;e<c.length;e++){var f=c[e];f.length&&a.classList.add(f)}},k=function(){var a=document.createElement("div"),b={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"},c;for(c in b)if(void 0!==a.style[c])return b[c];return!1}(),r={},u=1,p=!1,l={open:function(a){var b=function(a){console.warn('The "'+a+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.');console.warn("See http://github.hubspot.com/vex/api/advanced/#options")};
a.css&&b("css");a.overlayCSS&&b("overlayCSS");a.contentCSS&&b("contentCSS");a.closeCSS&&b("closeCSS");var f={};f.id=u++;r[f.id]=f;f.isOpen=!0;f.close=function(){function a(b){return"none"!==c.getPropertyValue(b+"animation-name")&&"0s"!==c.getPropertyValue(b+"animation-duration")}if(!this.isOpen)return!0;var b=this.options;if(p&&!b.escapeButtonCloses||!1===(!b.beforeClose||b.beforeClose.call(this)))return!1;this.isOpen=!1;var c=window.getComputedStyle(this.contentEl),e=a("")||a("-webkit-")||a("-moz-")||
a("-o-"),f=function P(){this.rootEl.parentNode&&(this.rootEl.removeEventListener(k,P),delete r[this.id],this.rootEl.parentNode.removeChild(this.rootEl),b.afterClose&&b.afterClose.call(this),0===Object.keys(r).length&&document.body.classList.remove("vex-open"))}.bind(this);return k&&e?(this.rootEl.addEventListener(k,f),this.rootEl.classList.add("vex-closing")):f(),!0};"string"==typeof a&&(a={content:a});a.unsafeContent&&!a.content?a.content=a.unsafeContent:a.content&&(a.content=g(a.content));a=f.options=
Object.assign({},l.defaultOptions,a);b=f.rootEl=document.createElement("div");b.classList.add("vex");d(b,a.className);var e=f.overlayEl=document.createElement("div");e.classList.add("vex-overlay");d(e,a.overlayClassName);a.overlayClosesOnClick&&e.addEventListener("click",function(a){a.target===e&&f.close()});b.appendChild(e);var h=f.contentEl=document.createElement("div");if(h.classList.add("vex-content"),d(h,a.contentClassName),h.appendChild(a.content instanceof window.Node?a.content:c(a.content)),
b.appendChild(h),a.showCloseButton){var n=f.closeEl=document.createElement("div");n.classList.add("vex-close");d(n,a.closeClassName);n.addEventListener("click",f.close.bind(f));h.appendChild(n)}return document.querySelector(a.appendLocation).appendChild(b),a.afterOpen&&a.afterOpen.call(f),document.body.classList.add("vex-open"),f},close:function(a){if(a.id)a=a.id;else if("string"!=typeof a)throw new TypeError("close requires a vex object or id string");return!!r[a]&&r[a].close()},closeTop:function(){var a=
Object.keys(r);return!!a.length&&r[a[a.length-1]].close()},closeAll:function(){for(var a in r)this.close(a);return!0},getAll:function(){return r},getById:function(a){return r[a]}};window.addEventListener("keyup",function(a){27===a.keyCode&&(p=!0,l.closeTop(),p=!1)});window.addEventListener("popstate",function(){l.defaultOptions.closeAllOnPopState&&l.closeAll()});l.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",overlayClassName:"",
contentClassName:"",closeClassName:"",closeAllOnPopState:!0};Object.defineProperty(l,"_escapeHtml",{configurable:!1,enumerable:!1,writable:!1,value:g});l.registerPlugin=function(a,b){var c=a(l),e=b||c.name;if(l[e])throw Error("Plugin "+b+" is already registered.");l[e]=c};b.exports=l},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},{},[4])(4)})},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.TOP_WINDOW_ID=void 0;var l=function(){function a(b,d){for(var h=0;h<d.length;h++){var n=
d[h];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(b,n.key,n)}}return function(b,d,h){return d&&a(b.prototype,d),h&&a(b,h),b}}(),d=b(5);m=new (a.TOP_WINDOW_ID="top",function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.store=new d.LocalCache}return l(a,[{key:"setIframeId",value:function(a){this.store.setdata("IFRAME_ID",a)}},{key:"getIframeId",value:function(){return this.store.getKey("IFRAME_ID")}},
{key:"setBotConfig",value:function(a){this.store.setdata("KC_CONFIG",a)}},{key:"getBotConfig",value:function(){return this.store.getKey("KC_CONFIG")}}]),a}());a["default"]=m},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=b(1),d=b(15),t=b(7),k=b(23),v=b(13),h=b(0);m=new function(){var a=window.top;if((0,l.isIframe)()){var b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"register",null,v.UUIDGenerator.generateV4Id());(0,h.retryFunction)(3,3E3,function(){(0,d.postRequest)(b,
a,!0)});(0,h.retryFunction)(3,3E3,function(){(0,d.postRequest)(b,window.parent,!0)});this.postIframeClosed=function(){if((0,l.isIframe)()){var b=v.UUIDGenerator.generateV4Id(),b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),k.EVENTS.BOT,{type:k.IFRAME_TO_TOP_EVENTS.IFRAME_CLOSED},b);(0,d.postRequest)(b,a,!0)}};this.postBotFound=function(){if((0,l.isIframe)()){var b=v.UUIDGenerator.generateV4Id(),b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),k.EVENTS.BOT,{type:k.IFRAME_TO_TOP_EVENTS.BOT_FOUND},
b);(0,d.postRequest)(b,a,!0)}};this.getBotContent=function(a,b,f){(0,d.iframeSubscribeCallback)(k.EVENTS.BOT,{type:k.IFRAME_TO_TOP_EVENTS.GET_BOT_CONTENT,botId:a},function(a,c){a&&b&&b(a);c&&f&&f(c)})};this.trackBotToggle=function(b,f){if((0,l.isIframe)()){var h=v.UUIDGenerator.generateV4Id(),h=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),k.EVENTS.BOT,{type:k.IFRAME_TO_TOP_EVENTS.TRACK_BOT_TOGGLE,botId:b,isOpen:f},h);(0,d.postRequest)(h,a,!0)}};this.checkMappedElementIsVisibleResponse=function(b,
f){if((0,l.isIframe)()){var h=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),k.EVENTS.BOT,{type:k.IFRAME_TO_TOP_EVENTS.IS_ELEMENT_VISIBLE_RESPONSE,isVisible:f,iframeId:(0,d.getIframeId)()},b);(0,d.postRequest)(h,a,!0)}};this.getAptrinsicId=function(a){(0,d.iframeSubscribeCallback)(k.EVENTS.BOT,{type:k.IFRAME_TO_TOP_EVENTS.GET_APTRINSIC_ID},a)};this.postClickElement=function(){if((0,l.isIframe)()){var b=v.UUIDGenerator.generateV4Id(),b=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),k.EVENTS.BOT,
{type:k.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK},b);(0,d.postRequest)(b,a,!0)}}}};a["default"]=m},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=b(1),d=b(15),t=b(7),k=b(13),v=b(23);m=new function(){function a(b,f,c){var g=k.UUIDGenerator.generateV4Id();return t.IframeRequest.getMasterRequst(v.EVENTS.BOT,{type:v.TOP_TO_IFRAME_EVENTS.BOT_RESPONSE,botConfig:b,isInitial:f,shouldOpen:c},g)}this.postBotEvent=function(a,b){var c=k.UUIDGenerator.generateV4Id(),c=t.IframeRequest.getMasterRequst(v.EVENTS.BOT,
{type:v.TOP_TO_IFRAME_EVENTS.POST_BOT_EVENT,data:b},c);(0,d.postRequestDown)(c,a)};this.sendBotFound=function(a){if(!(0,l.isIframe)()){var b=k.UUIDGenerator.generateV4Id();a=t.IframeRequest.getMasterRequst(v.EVENTS.BOT,{type:v.TOP_TO_IFRAME_EVENTS.BOT_FOUND,iframeId:a},b);(0,d.propagateDown)(a,(0,t.getRegisteredIframes)())}};this.removeWidgetFromAllIframes=function(){if(!(0,l.isIframe)()){var a=k.UUIDGenerator.generateV4Id(),a=t.IframeRequest.getMasterRequst(v.EVENTS.BOT,{type:v.TOP_TO_IFRAME_EVENTS.REMOVE_BOT},
a);(0,d.propagateDown)(a,(0,t.getRegisteredIframes)())}};this.sendBotConfig=function(b,f){if(!(0,l.isIframe)()){var c=a(b,f);(0,d.propagateDown)(c,(0,t.getRegisteredIframes)())}};this.sendBotConfigToIframe=function(b,f,c,g){(0,l.isIframe)()||(f=a(f,c,g),(0,d.postRequestDown)(f,b))};this.removeBotFromIframe=function(a){if(!(0,l.isIframe)()){var b=k.UUIDGenerator.generateV4Id(),b=t.IframeRequest.getMasterRequst(v.EVENTS.BOT,{type:v.TOP_TO_IFRAME_EVENTS.REMOVE_BOT},b);(0,d.postRequestDown)(b,a)}};this.getBotContentResponse=
function(a,b,c,g){(0,l.isIframe)()||(b=t.IframeRequest.getMasterRequst(v.EVENTS.BOT,{type:v.TOP_TO_IFRAME_EVENTS.GET_BOT_CONTENT_RESPONSE,response:c,error:g},b),(0,d.postRequestDown)(b,a))};this.setBotIsOpen=function(a,b){var c=k.UUIDGenerator.generateV4Id(),c=t.IframeRequest.getMasterRequst(v.EVENTS.BOT,{type:v.TOP_TO_IFRAME_EVENTS.SET_BOT_IS_OPEN,isOpen:a},c,b);(0,d.postRequestDown)(c,(0,t.getIframeData)(b))};this.checkMappedElementIsVisible=function(a,b,c){(0,l.isIframe)()||(0,d.createSubscribeCallbackRequest)(v.EVENTS.BOT,
{type:v.TOP_TO_IFRAME_EVENTS.IS_ELEMENT_VISIBLE,cssSelector:b},a,c)};this.addElementClickListener=function(a,b){var c=k.UUIDGenerator.generateV4Id(),c=t.IframeRequest.getMasterRequst(v.EVENTS.BOT,{type:v.TOP_TO_IFRAME_EVENTS.ADD_ELEMENT_CLICK_LISTENER,cssSelector:b},c);(0,d.postRequestDown)(c,a)};this.getAptrinsicIdResponse=function(a,b,c){(0,l.isIframe)()||(b=t.IframeRequest.getMasterRequst(v.EVENTS.BOT,{type:v.TOP_TO_IFRAME_EVENTS.GET_APTRINSIC_ID_RESPONSE,aptrinsicId:c},b),(0,d.postRequestDown)(b,
a))}};a["default"]=m},function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}function d(a){var b=(0,F.getKcConfig)();if(b){var c=b.kcId;X=c;v(function(){Z=!1;H.botEventEmmiter.dispatchEvent("WIDGET_LOADED",a,{kcId:c})},function(b){Z=!1;H.botEventEmmiter.dispatchEvent("WIDGET_FAILED",a,{kcId:c,code:500,message:b})})}}function t(a,b,c){C.KnowledgeCenterManager.initWidget({apiKey:z.eventTrackData.data[z.productIdParameter],aptId:a,initialConfig:b},!1,ca,c)}function k(a,b,c,e,f){c=!1;var g=
Y!==b.kcId;(e||Y)&&g&&(C.KnowledgeCenterManager.clearWidgetLoadQueue(),(0,F.setKcConfig)({}));Y=b.kcId;(0,F.setKcConfig)(b);a||g?((0,F.isIframe)()?T["default"].getAptrinsicId(function(a){t(D(a,1)[0].aptrinsicId,b,f)}):t(z.eventTrackData.data[z.aptrinsicIdParam],b,f),X?(c=!0,d(f)):X!==Y?(c=!1,C.KnowledgeCenterManager.registerAfterWidgetLoad(function(){d(f)})):Z=!1):g?(c=!0,Z=!1):(c=!0,v(function(){Z=!1;H.botEventEmmiter.dispatchEvent("WIDGET_LOADED",f,{kcId:Y})},function(a){Z=!1;H.botEventEmmiter.dispatchEvent("WIDGET_FAILED",
f,{kcId:Y,code:500,message:a})}));c&&C.KnowledgeCenterManager.updateWidgetConfig()}function v(a,b){C.KnowledgeCenterManager.fetchEntriesAndSendToWidget(z.eventTrackData.data[z.productIdParameter],z.eventTrackData.data[z.aptrinsicIdParam],a,b)}function h(){da.removeAllHandler()}function n(){X="";C.KnowledgeCenterManager.removeWidget(Y);(0,K.removeEmbeddedListeners)();Y="";(0,F.setKcConfig)({});Z=!1}function f(a,b,c,e){var f=e.shouldRemoveWidget,g=e.shouldJustClean,d=e.shouldDispatchEvent;e.shouldRemoveHandlers&&
da.removeAllHandler();f?n():g&&(Y="",(0,F.setKcConfig)({}),C.KnowledgeCenterManager.cleanWidget());Z=!1;d&&H.botEventEmmiter.dispatchEvent("WIDGET_FAILED",c,{kcId:a,code:b,message:"Could not fetch knowledge center with provided id"})}function c(a,b,c){var e=3<arguments.length&&void 0!==arguments[3]&&arguments[3],g=arguments[4],d=J.UserData.isUser(),h=V.UUIDGenerator.generateV4Id();(e&&ha&&qa&&(H.botEventEmmiter.addListener("WIDGET_LOADED",ha,h),H.botEventEmmiter.addListener("WIDGET_FAILED",qa,h)),
Z&&(N.logger.log(c+" is in progress"),f(Y,500,h,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!1,shouldRemoveHandlers:!1})),!(0,F.getConfig)("widgetEnabled")||!d||I["default"].isPreview()&&I["default"].getAdditionalDetails().kcId||Z)||(Z=!0,d=z.eventTrackData.data[z.productIdParameter],(0,C.fetchKnowledgeCenterConfig)(d,c,function(d){if(d){if(W=d.kcId,!0===d.invalidate)return void n();var p=Object.assign({},d);if(!(0,U.validateConfigChecksum)(W,p))return void f(W,500,h,{shouldRemoveWidget:!0,
shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});y(d,a,e,h)}else b?Z=!1:(E.internalEventListener.dispatchEvent(S.BOT_IFRAME_INTERNAL_EVENTS.BOT_EMPTY_CONFIG),f(c,500,h,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0}));g&&g(d)},function(a){f(c,404,h,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0})}))}function g(a,b,c,e){try{var f=(0,F.getKcConfig)()||{},g=f.kcId;0<Object.keys(f).length&&g?(a?C.KnowledgeCenterManager.open():
C.KnowledgeCenterManager.close(e),(0,P.isFunction)(b)&&b({kcId:g})):(0,P.isFunction)(c)&&c({kcId:g,code:404,message:"Not bot was found with id provided"})}catch(d){(0,P.isFunction)(c)&&c({kcId:kcId,code:404,message:"An error occurred"}),N.logger.logInternalError(Error("toggleKcBot - "+d))}}function q(){var a=document.querySelector("#apt-widget");return a?a&&!a.classList.contains("apt-hidden"):null}function w(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},c=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:function(){};try{var e=document.querySelector("#apt-widget"),f=q();e?(a!==f&&(a?e.classList.remove("apt-hidden"):e.classList.add("apt-hidden")),b()):c()}catch(g){c(),N.logger.log("error in togglerBotContainer "+g)}}function r(){var a=document.querySelector("#apt-widget");return a?!a.querySelector(".apt-widget.apt-widget-window"):!1}function u(){clearInterval(la);la=null;clearTimeout(ja);ja=null}function p(a,b){try{u(),r()?(b(),u()):(la=setInterval(function(){r()&&
(b(),u())},200),ja=setTimeout(function(){u();f(Y,500,a,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});N.logger.logInternalError(Error("onWidgetClosed - error - could not close the widget in less than 3 seconds"))},3E3))}catch(c){u(),f(Y,500,a,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,shouldRemoveHandlers:!0}),N.logger.log("onWidgetClosed - error"+c)}}function x(a,b){g(!1,function(){w(!1,a,b)},b)}function A(a){return"apt-widget"===a.id||1===a.nodeType&&a.querySelector("#apt-widget")}
function B(a){var b=!1,c=!1;return a.some(function(a){return a.addedNodes.forEach(function(a){var b=3===a.nodeType;c||b||(c=A(a))}),c||a.removedNodes.forEach(function(a){var c=3===a.nodeType;b||c||(b=A(a))}),!c&&b})}function y(a,b,c,f){function g(){k(b,a,null,c,f)}var d=a.windowSettings.embedKCSettings.elementSelector,h=function(e,g){var h=B(e);h&&n();(h||g)&&ma(b,a,d,c,f)};if("embedded"===(0,F.getConfig)("kcDisplayType")){(0,F.isIframe)()||E.internalEventListener.dispatchEvent(S.TOP_TO_IFRAME_EVENTS.BOT_RESPONSE,
a);var p="injection"===(0,F.getConfig)("kcPositionType");Y!==a.kcId&&(Z=!1,C.KnowledgeCenterManager.cleanWidget(),p&&(X="",C.KnowledgeCenterManager.removeWidget()));p=C.KnowledgeCenterManager.checkIsInitialized();C.KnowledgeCenterManager.checkIsInitialized()||C.KnowledgeCenterManager.checkIsInProgress()?p&&(c?(da.removeAllHandler(),(0,K.removeEmbeddedListeners)(),e(d,g,function(){da.addHandlers(h,f)})):g()):((0,K.removeEmbeddedListeners)(),da.removeAllHandler(),e(d,g,function(){da.addHandlers(h,f)}))}else g()}
function e(a,b,c){(0,R.addDOMReadyListener)(function(){(0,O.findInAll)(a,(0,M.getRegisteredIframes)(),function(a){a&&b(a);c&&c(a)})})}Object.defineProperty(a,"__esModule",{value:!0});var D=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],e=!0,f=!1,g=void 0;try{for(var d,h=a[Symbol.iterator]();!(e=(d=h.next()).done)&&(c.push(d.value),!b||c.length!==b);e=!0);}catch(p){f=!0,g=p}finally{try{!e&&h["return"]&&h["return"]()}finally{if(f)throw g;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}();a.removeEmbeddedHanldlers=h;a.removeWidget=n;a.initKnowledgeCenter=c;a.toggleKcBot=g;a.toggleBotContainer=w;a.closeAndHideBot=x;a.initWidgetForAPI=function(a,b){a&&C.KnowledgeCenterManager.checkIsInitialized()&&(0,H.runBotCommands)();ha=function(){(0,H.runBotCommands)();Z=!1};qa=function(){Z=!1;(0,P.isFunction)(b)&&b();da.removeAllHandler()};c(!0,!1,null,!0)};var z=b(4),J=b(24),F=b(1);m=b(14);var I=l(m),C=b(30),E=b(11),N=b(3),P=b(0);m=b(31);var L=l(m),O=b(19),M=b(7),K=b(55),H=b(54),R=b(9),V=
b(13),U=b(56),Q=b(17),S=b(23);m=b(113);m=l(m);b=b(47);var T=l(b),X=void 0,Y=void 0,Z=!1,ca=!1,W="",la=void 0,ja=void 0,ha=void 0,qa=void 0,da=new function(){var a=void 0,b=void 0;this.removeAllHandler=function(){b&&(L["default"].removeObserver(b),b=null);a&&E.internalEventListener.removeListener("pageview",a)};this.addHandlers=function(c,e){a=function(){(0,H.clearBotCommands)();if("injection"===(0,F.getConfig)("kcPositionType")){var a=(C.KnowledgeCenterManager.getEmbeddedMappedElement()||{element:null}).element;
try{!a||a&&!(0,Q.elementContainsChild)((0,F.getBody)(),a)?n():w(!1)}catch(b){n()}}else x();c([],!0)};E.internalEventListener.addListener("pageview",a);b&&this.removeAllHandler();b=L["default"].addObserver(function(){return!0},c,function(a,b){return B(a)||b})}},ma=(0,P.debounce)(function(a,b,c,e,f){try{var d=(0,F.getConfig)("kcPositionType");(0,K.findWidgetContainer)(c.cssSelector,f,{isNewAPI:!0,positionType:d,fetchKcType:(0,F.getConfig)("fetchKcType"),kcId:b.kcId},{onClick:C.KnowledgeCenterManager.toggleBot,
onDone:function(c){W===b.kcId&&(C.KnowledgeCenterManager.updateEmbeddedMappedElement(c),C.KnowledgeCenterManager.checkIsInitialized()||C.KnowledgeCenterManager.checkIsInProgress()?C.KnowledgeCenterManager.checkIsInitialized()&&!1===q()&&(g(!1),p(f,function(){w(!0)})):k(a,b,c,e,f))},onFailed:function(){W===b.kcId&&(e?n():(x(),E.internalEventListener.dispatchEvent("BOT_NOT_FOUND")))}})}catch(h){clearInterval(la),la=null,N.logger.log("error in updateWidget "+h)}},500);(0,m["default"])(function(){h();
n()},function(a,b){W=a.kcId;y(a,b)},C.KnowledgeCenterManager)},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.ENGAGEMENT_CHECKSUM_KEY="engagementChecksum";a.ENGAGEMENT_FIELD_MAPPING_ENABLED_KEY="engFieldMappingEnabled";a.ENGAGEMENT_CHECKSUM_URL_CONFIG="engagementChecksumFileUrl";a.BOT_CHECKSUM_KEY="botChecksum";a.CHECKSUM_VERSION="checksumVersion"},function(m,a,b){function l(a,b){var c=(0,t.getCachedConfig)(k.CHECKSUM_VERSION);return void 0===c||2>=c?(0,v.filterAndSortEngagementFieldsV1)(a,
b):3===c?(0,h.filterAndSortEngagementFieldsV3)(a,b):4===c?(0,n.filterAndSortEngagementFieldsV4)(a,b):(0,v.filterAndSortEngagementFieldsV1)(a,b)}function d(a){return function(b){var f={},e={},g=b.engagementChecksums;(0,c.isNotEmptyArr)(g)&&g.forEach(function(a){f[a.engagementId]=a.validChecksums});var g=b.checksumVersion,d=b.botChecksums;(0,c.isNotEmptyArr)(d)&&d.forEach(function(a){e[a.botId]=a.validContentChecksums.concat(a.validConfigChecksums)});b=b.engFieldMappingEnabled;(0,c.isFunction)(a)?a({engagementChecksumMapping:f,
checksumVersion:g,botChecksumsMapping:e,engagementFieldMappingEnabled:b||!1}):((0,t.setCachedConfig)(k.ENGAGEMENT_CHECKSUM_KEY,f),(0,t.setCachedConfig)(k.CHECKSUM_VERSION,g),(0,t.setCachedConfig)(k.BOT_CHECKSUM_KEY,e),b?(0,t.setCachedConfig)(k.ENGAGEMENT_FIELD_MAPPING_ENABLED_KEY,b):(0,t.setCachedConfig)(k.ENGAGEMENT_FIELD_MAPPING_ENABLED_KEY,!1))}}Object.defineProperty(a,"__esModule",{value:!0});a.validateChecksum=a.loadChecksumFile=a.filterAndSortEngagementFields=void 0;var t=b(1),k=b(50),v=b(123),
h=b(124),n=b(125),f=b(12),c=b(0),g=b(18),q=b(4),w=b(5),r=b(3),u=b(8),p=b(27),x=b(83);a.filterAndSortEngagementFields=l;a.loadChecksumFile=function(a,b){a?f.AjaxUtil.getData(a,d(b),null,function(){(0,c.isFunction)(b)&&b(void 0)}):(0,c.isFunction)(b)&&b(void 0)};a.validateChecksum=function(a,b,f){var e=(0,g.getEnvironment)(q.eventTrackData[w.cacheGet](q.productIdParameter));if(r.logger.debugMode&&e!==u.PROD_ENVIRONMENT)return{valid:!0};var d=f?f.engagementChecksumMapping:(0,t.getCachedConfig)(k.ENGAGEMENT_CHECKSUM_KEY),
e=f?f.engagementFieldMappingEnabled:(0,t.getCachedConfig)(k.ENGAGEMENT_FIELD_MAPPING_ENABLED_KEY),h=(0,t.getConfig)(k.ENGAGEMENT_CHECKSUM_URL_CONFIG);if(!h&&!f)return{valid:!0};if(!d&&h)return{valid:!1,errorType:"MISSING_CHECKSUM_FOR_ENGAGEMENT",errorMessage:"Engagement checksum is invalid since there is URL configured but no checksum to validated against"};a=d[a];if(!a&&!Array.isArray(a)||(0,c.isEmptyArr)(a))return{valid:!1,errorType:"MISSING_CHECKSUM_FOR_ENGAGEMENT",errorMessage:"Engagement checksum is invalid since there is URL configured but no checksum to validated against, array is empty"};
b=Object.assign({},b);b=l(b,e);b=(0,p.orderAlphabetically)(b);b=(0,p.removeNullFields)(b);e=JSON.stringify(b);e=e.replaceAll(/(\d+)\.0/g,"$1");e=(0,x.sha256)(e);return(f=-1<a.indexOf(e))?{valid:f}:{valid:!1,errorType:"CHECKSUM_MISMATCH",errorMessage:"the engagement checksum is invalid, js checksum:"+e+". engagement checksums: "+JSON.stringify(a)+" the engagement checksum was done on: "+JSON.stringify(b)}}},function(m,a,b){function l(a,b){var l=a.fromScore,h=a.toScore,n=a.labels.map(function(a){return new d["default"](Object.assign({},
b,{id:a.id,text:a.text}))});this.render=function(){return n.map(function(a){return a.render()})};this.getSelected=function(){return n.map(function(a){return a.isSelected()?a.getId():null}).filter(function(a){return null!==a})};this.isInRange=function(a){return l<=a&&h>=a};this.setTabIndexes=function(a){var b=a;return n.forEach(function(a){a.setTabIndex(b);b+=1}),b}}Object.defineProperty(a,"__esModule",{value:!0});var d=(m=b(133))&&m.__esModule?m:{"default":m};a["default"]=function(a,b){var d=null,
h=a.map(function(a){return new l(a,b)});b.singleList&&(d=h[0]);this.setTabIndexes=function(a){var b=a;return h.forEach(function(a){b=a.setTabIndexes(b)}),b};this.getLabelElements=function(a){if(b.singleList)return h[0].render();for(var f=0;f<h.length;f++)if(h[f].isInRange(a))return d=h[f],h[f].render()};this.getSelectedLabels=function(){return d?d.getSelected():[]}}},function(m,a,b){(function(b){function d(a){var b=!1;return function(){b||(b=!0,window.Promise.resolve().then(function(){b=!1;a()}))}}
function t(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1;a()},W))}}function k(a){var b={};return a&&"[object Function]"===b.toString.call(a)}function m(a,b){if(1!==a.nodeType)return[];var c=a.ownerDocument.defaultView.getComputedStyle(a,null);return b?c[b]:c}function h(a){return"HTML"===a.nodeName?a:a.parentNode||a.host}function n(a){if(!a)return document.body;switch(a.nodeName){case "HTML":return document.documentElement;case "BODY":return a.ownerDocument.body;case "#document":return a.body}var b=
m(a);return/(auto|scroll|overlay)/.test(b.overflow+b.overflowY+b.overflowX)?a:n(h(a))}function f(a){return 11===a?ja:10===a?ha:ja||ha}function c(a){if(!a)return document.documentElement;for(var b=f(10)?document.body:null,e=a.offsetParent||null;e===b&&a.nextElementSibling;)e=(a=a.nextElementSibling).offsetParent;return(b=e&&e.nodeName)&&"BODY"!==b&&"HTML"!==b?-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===m(e,"position")?c(e):e:a?a.ownerDocument.documentElement:document.documentElement}function g(a){return null!==
a.parentNode?g(a.parentNode):a}function q(a,b){if(!(a&&a.nodeType&&b&&b.nodeType))return document.documentElement;var e=a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING,f=e?a:b,e=e?b:a,d=document.createRange();d.setStart(f,0);d.setEnd(e,0);d=d.commonAncestorContainer;if(a!==d&&b!==d||f.contains(e))return f=d.nodeName,"BODY"===f||"HTML"!==f&&c(d.firstElementChild)!==d?c(d):d;f=g(a);return f.host?q(f.host,b):q(a,g(b).host)}function w(a){var b="top"===(1<arguments.length&&void 0!==arguments[1]?
arguments[1]:"top")?"scrollTop":"scrollLeft",c=a.nodeName;return"BODY"===c||"HTML"===c?(c=a.ownerDocument.documentElement,(a.ownerDocument.scrollingElement||c)[b]):a[b]}function r(a,b){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],e=w(b,"top"),f=w(b,"left"),c=c?-1:1;return a.top+=e*c,a.bottom+=e*c,a.left+=f*c,a.right+=f*c,a}function u(a,b){var c="x"===b?"Left":"Top",e="Left"===c?"Right":"Bottom";return parseFloat(a["border"+c+"Width"],10)+parseFloat(a["border"+e+"Width"],10)}function p(a,
b,c,e){return Math.max(b["offset"+a],b["scroll"+a],c["client"+a],c["offset"+a],c["scroll"+a],f(10)?parseInt(c["offset"+a])+parseInt(e["margin"+("Height"===a?"Top":"Left")])+parseInt(e["margin"+("Height"===a?"Bottom":"Right")]):0)}function x(a){var b=a.body;a=a.documentElement;var c=f(10)&&getComputedStyle(a);return{height:p("Height",b,a,c),width:p("Width",b,a,c)}}function A(a){return ma({},a,{right:a.left+a.width,bottom:a.top+a.height})}function B(a){var b={};try{if(f(10)){var b=a.getBoundingClientRect(),
c=w(a,"top"),e=w(a,"left");b.top+=c;b.left+=e;b.bottom+=c;b.right+=e}else b=a.getBoundingClientRect()}catch(g){}b={left:b.left,top:b.top,width:b.right-b.left,height:b.bottom-b.top};e="HTML"===a.nodeName?x(a.ownerDocument):{};c=a.offsetWidth-(e.width||a.clientWidth||b.width);e=a.offsetHeight-(e.height||a.clientHeight||b.height);if(c||e)a=m(a),c-=u(a,"x"),e-=u(a,"y"),b.width-=c,b.height-=e;return A(b)}function y(a,b){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],e=f(10),g="HTML"===b.nodeName,
d=B(a),h=B(b),p=n(a),q=m(b),k=parseFloat(q.borderTopWidth,10),l=parseFloat(q.borderLeftWidth,10);c&&g&&(h.top=Math.max(h.top,0),h.left=Math.max(h.left,0));d=A({top:d.top-h.top-k,left:d.left-h.left-l,width:d.width,height:d.height});if(d.marginTop=0,d.marginLeft=0,!e&&g)g=parseFloat(q.marginTop,10),q=parseFloat(q.marginLeft,10),d.top-=k-g,d.bottom-=k-g,d.left-=l-q,d.right-=l-q,d.marginTop=g,d.marginLeft=q;return(e&&!c?b.contains(p):b===p&&"BODY"!==p.nodeName)&&(d=r(d,b)),d}function e(a){var b=1<arguments.length&&
void 0!==arguments[1]&&arguments[1],c=a.ownerDocument.documentElement,e=y(a,c),f=Math.max(c.clientWidth,window.innerWidth||0),g=Math.max(c.clientHeight,window.innerHeight||0),d=b?0:w(c),b=b?0:w(c,"left");return A({top:d-e.top+e.marginTop,left:b-e.left+e.marginLeft,width:f,height:g})}function D(a){var b=a.nodeName;if("BODY"===b||"HTML"===b)return!1;if("fixed"===m(a,"position"))return!0;a=h(a);return!!a&&D(a)}function z(a){if(!a||!a.parentElement||f())return document.documentElement;for(a=a.parentElement;a&&
"none"===m(a,"transform");)a=a.parentElement;return a||document.documentElement}function J(a,b,c,f){var g=4<arguments.length&&void 0!==arguments[4]&&arguments[4],d={top:0,left:0},p=g?z(a):q(a,b&&b.referenceNode?b.referenceNode:b);if("viewport"===f)d=e(p,g);else{var r=void 0;"scrollParent"===f?(r=n(h(b)),"BODY"===r.nodeName&&(r=a.ownerDocument.documentElement)):r="window"===f?a.ownerDocument.documentElement:f;g=y(r,p,g);"HTML"!==r.nodeName||D(p)?d=g:(r=x(a.ownerDocument),p=r.height,r=r.width,d.top+=
g.top-g.marginTop,d.bottom=p+g.top,d.left+=g.left-g.marginLeft,d.right=r+g.left)}c=c||0;g="number"==typeof c;return d.left+=g?c:c.left||0,d.top+=g?c:c.top||0,d.right-=g?c:c.right||0,d.bottom-=g?c:c.bottom||0,d}function F(a,b,c,e,f){var g=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===a.indexOf("auto"))return a;var g=J(c,e,g,f),d={top:{width:g.width,height:b.top-g.top},right:{width:g.right-b.right,height:g.height},bottom:{width:g.width,height:g.bottom-b.bottom},left:{width:b.left-
g.left,height:g.height}},g=Object.keys(d).map(function(a){var b=d[a];return ma({key:a},d[a],{area:b.width*b.height})}).sort(function(a,b){return b.area-a.area}),h=g.filter(function(a){var b=a.height;return a.width>=c.clientWidth&&b>=c.clientHeight}),g=0<h.length?h[0].key:g[0].key,h=a.split("-")[1];return g+(h?"-"+h:"")}function I(a,b,c){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return y(c,e?z(b):q(b,c&&c.referenceNode?c.referenceNode:c),e)}function C(a){var b=a.ownerDocument.defaultView.getComputedStyle(a),
c=parseFloat(b.marginTop||0)+parseFloat(b.marginBottom||0),b=parseFloat(b.marginLeft||0)+parseFloat(b.marginRight||0);return{width:a.offsetWidth+b,height:a.offsetHeight+c}}function E(a){var b={left:"right",right:"left",bottom:"top",top:"bottom"};return a.replace(/left|right|bottom|top/g,function(a){return b[a]})}function N(a,b,c){c=c.split("-")[0];a=C(a);var e={width:a.width,height:a.height},f=-1!==["right","left"].indexOf(c),g=f?"top":"left",d=f?"left":"top",h=f?"height":"width";return e[g]=b[g]+
b[h]/2-a[h]/2,e[d]=c===d?b[d]-a[f?"width":"height"]:b[E(d)],e}function P(a,b){return Array.prototype.find?a.find(b):a.filter(b)[0]}function L(a,b,c){if(Array.prototype.findIndex)return a.findIndex(function(a){return a[b]===c});var e=P(a,function(a){return a[b]===c});return a.indexOf(e)}function O(a,b,c){return(void 0===c?a:a.slice(0,L(a,"name",c))).forEach(function(a){a["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var c=a["function"]||a.fn;a.enabled&&k(c)&&(b.offsets.popper=
A(b.offsets.popper),b.offsets.reference=A(b.offsets.reference),b=c(b,a))}),b}function M(a,b){return a.some(function(a){var c=a.name;return a.enabled&&c===b})}function K(a){for(var b=[!1,"ms","Webkit","Moz","O"],c=a.charAt(0).toUpperCase()+a.slice(1),e=0;e<b.length;e++){var f=b[e],f=f?""+f+c:a;if(void 0!==document.body.style[f])return f}return null}function H(a){return(a=a.ownerDocument)?a.defaultView:window}function R(a,b,c,e){var f="BODY"===a.nodeName||"HTML"===a.nodeName;a=f?a.ownerDocument.defaultView:
a;a.addEventListener(b,c,{passive:!0});f||R(n(a.parentNode),b,c,e);e.push(a)}function V(a,b){return H(a).removeEventListener("resize",b.updateBound),b.scrollParents.forEach(function(a){a.removeEventListener("scroll",b.updateBound)}),b.updateBound=null,b.scrollParents=[],b.scrollElement=null,b.eventsEnabled=!1,b}function U(a){return""!==a&&!isNaN(parseFloat(a))&&isFinite(a)}function Q(a,b){Object.keys(b).forEach(function(c){var e="";-1!=="width height top right bottom left".split(" ").indexOf(c)&&
U(b[c])&&(e="px");a.style[c]=b[c]+e})}function S(a,b){Object.keys(b).forEach(function(c){!1!==b[c]?a.setAttribute(c,b[c]):a.removeAttribute(c)})}function T(a,b){var c=a.offsets,e=c.popper,f=Math.round,g=Math.floor,d=function(a){return a},c=f(c.reference.width),h=f(e.width),p=-1!==["left","right"].indexOf(a.placement),n=-1!==a.placement.indexOf("-"),g=b?p||n||c%2==h%2?f:g:d,f=b?f:d;return{left:g(1==c%2&&1==h%2&&!n&&b?e.left-1:e.left),top:f(e.top),bottom:f(e.bottom),right:g(e.right)}}function X(a,b,
c){var e=P(a,function(a){return a.name===b});a=!!e&&a.some(function(a){return a.name===c&&a.enabled&&a.order<e.order});if(!a){var f="`"+b+"`";console.warn("`"+c+"` modifier is required by "+f+" modifier in order to work, be sure to include it before "+f+"!")}return a}function Y(a){var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=Ca.indexOf(a),c=Ca.slice(c+1).concat(Ca.slice(0,c));return b?c.reverse():c}function Z(a,b,c,e){var f=[0,0],g=-1!==["right","left"].indexOf(e);a=a.split(/(\+|\-)/).map(function(a){return a.trim()});
e=a.indexOf(P(a,function(a){return-1!==a.search(/,|\s/)}));a[e]&&-1===a[e].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var d=/\s*,\s*|\s+/;a=-1!==e?[a.slice(0,e).concat([a[e].split(d)[0]]),[a[e].split(d)[1]].concat(a.slice(e+1))]:[a];return a=a.map(function(a,e){var f=(1===e?!g:g)?"height":"width",d=!1;return a.reduce(function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,d=!0,a):d?(a[a.length-1]+=b,d=!1,a):
a.concat(b)},[]).map(function(a){var e;var g=a.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);e=+g[1];g=g[2];if(e)if(0===g.indexOf("%")){a=void 0;switch(g){case "%p":a=b;break;default:a=c}e*=A(a)[f]/100}else e="vh"===g||"vw"===g?("vh"===g?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*e:e;else e=a;return e})}),a.forEach(function(a,b){a.forEach(function(c,e){U(c)&&(f[b]+=c*("-"===a[e-1]?-1:1))})}),f}Object.defineProperty(a,
"__esModule",{value:!0});var ca="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,W=function(){for(var a=["Edge","Trident","Firefox"],b=0;b<a.length;b+=1)if(ca&&0<=navigator.userAgent.indexOf(a[b]))return 1;return 0}(),la=ca&&window.Promise?d:t,ja=ca&&!(!window.MSInputMethodContext||!document.documentMode),ha=ca&&/MSIE 10/.test(navigator.userAgent),qa=function(){function a(b,c){for(var e=0;e<c.length;e++){var f=c[e];f.enumerable=f.enumerable||!1;f.configurable=
!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,c,e){return c&&a(b.prototype,c),e&&a(b,e),b}}(),da=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},ma=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a[e]=c[e])}return a},ea=ca&&/Firefox/i.test(navigator.userAgent),wa="auto-start auto auto-end top-start top top-end right-start right right-end bottom-end bottom bottom-start left-end left left-start".split(" "),
Ca=wa.slice(3),sa=function(){function a(b,c){var e=this,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(e.update)};this.update=la(this.update.bind(this));this.options=ma({},a.Defaults,f);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=b&&b.jquery?b[0]:b;this.popper=c&&c.jquery?c[0]:c;this.options.modifiers={};Object.keys(ma({},
a.Defaults.modifiers,f.modifiers)).forEach(function(b){e.options.modifiers[b]=ma({},a.Defaults.modifiers[b]||{},f.modifiers?f.modifiers[b]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(a){return ma({name:a},e.options.modifiers[a])}).sort(function(a,b){return a.order-b.order});this.modifiers.forEach(function(a){a.enabled&&k(a.onLoad)&&a.onLoad(e.reference,e.popper,e.options,a,e.state)});this.update();var g=this.options.eventsEnabled;g&&this.enableEventListeners();this.state.eventsEnabled=
g}return qa(a,[{key:"update",value:function(){if(!this.state.isDestroyed){var a={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};a.offsets.reference=I(this.state,this.popper,this.reference,this.options.positionFixed);a.placement=F(this.options.placement,a.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);a.originalPlacement=a.placement;a.positionFixed=this.options.positionFixed;a.offsets.popper=
N(this.popper,a.offsets.reference,a.placement);a.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";a=O(this.modifiers,a);this.state.isCreated?this.options.onUpdate(a):(this.state.isCreated=!0,this.options.onCreate(a))}}},{key:"destroy",value:function(){return this.state.isDestroyed=!0,M(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom=
"",this.popper.style.willChange="",this.popper.style[K("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}},{key:"enableEventListeners",value:function(){if(!this.state.eventsEnabled){var a=this.reference,b=this.state;b.updateBound=this.scheduleUpdate;H(a).addEventListener("resize",b.updateBound,{passive:!0});a=n(a);this.state=(R(a,"scroll",b.updateBound,b.scrollParents),b.scrollElement=a,b.eventsEnabled=!0,b)}}},{key:"disableEventListeners",
value:function(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=V(this.reference,this.state))}}]),a}();sa.Utils=("undefined"!=typeof window?window:b).PopperUtils;sa.placements=wa;sa.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(a){var b=a.placement,c=b.split("-")[0];if(b=b.split("-")[1]){var e=a.offsets,f=e.reference,e=e.popper,g=-1!==
["bottom","top"].indexOf(c),c=g?"left":"top",g=g?"width":"height",f={start:da({},c,f[c]),end:da({},c,f[c]+f[g]-e[g])};a.offsets.popper=ma({},e,f[b])}return a}},offset:{order:200,enabled:!0,fn:function(a,b){var c=b.offset,e=a.offsets,f=e.popper,e=e.reference,g=a.placement.split("-")[0],d=void 0;return d=U(+c)?[+c,0]:Z(c,f,e,g),"left"===g?(f.top+=d[0],f.left-=d[1]):"right"===g?(f.top+=d[0],f.left+=d[1]):"top"===g?(f.left+=d[0],f.top-=d[1]):"bottom"===g&&(f.left+=d[0],f.top+=d[1]),a.popper=f,a},offset:0},
preventOverflow:{order:300,enabled:!0,fn:function(a,b){var e=b.boundariesElement||c(a.instance.popper);a.instance.reference===e&&(e=c(e));var f=K("transform"),g=a.instance.popper.style,d=g.top,h=g.left,p=g[f];g.top="";g.left="";g[f]="";var n=J(a.instance.popper,a.instance.reference,b.padding,e,a.positionFixed);g.top=d;g.left=h;g[f]=p;b.boundaries=n;var q=a.offsets.popper,r={primary:function(a){var c=q[a];return q[a]<n[a]&&!b.escapeWithReference&&(c=Math.max(q[a],n[a])),da({},a,c)},secondary:function(a){var c=
"right"===a?"left":"top",e=q[c];return q[a]>n[a]&&!b.escapeWithReference&&(e=Math.min(q[c],n[a]-("right"===a?q.width:q.height))),da({},c,e)}};return b.priority.forEach(function(a){var b=-1!==["left","top"].indexOf(a)?"primary":"secondary";q=ma({},q,r[b](a))}),a.offsets.popper=q,a},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(a){var b=a.offsets,c=b.popper,b=b.reference,e=a.placement.split("-")[0],f=Math.floor,g=
-1!==["top","bottom"].indexOf(e),e=g?"right":"bottom",d=g?"left":"top",g=g?"width":"height";return c[e]<f(b[d])&&(a.offsets.popper[d]=f(b[d])-c[g]),c[d]>f(b[e])&&(a.offsets.popper[d]=f(b[e])),a}},arrow:{order:500,enabled:!0,fn:function(a,b){var c=void 0;if(!X(a.instance.modifiers,"arrow","keepTogether"))return a;var e=b.element;if("string"==typeof e){if(!(e=a.instance.popper.querySelector(e)))return a}else if(!a.instance.popper.contains(e))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),
a;var f=a.placement.split("-")[0],g=a.offsets,d=g.popper,h=g.reference,p=-1!==["left","right"].indexOf(f),f=p?"height":"width",n=p?"Top":"Left",g=n.toLowerCase(),q=p?"left":"top",r=p?"bottom":"right",p=C(e)[f];h[r]-p<d[g]&&(a.offsets.popper[g]-=d[g]-(h[r]-p));h[g]+p>d[r]&&(a.offsets.popper[g]+=h[g]+p-d[r]);a.offsets.popper=A(a.offsets.popper);var h=h[g]+h[f]/2-p/2,k=m(a.instance.popper),r=parseFloat(k["margin"+n],10),n=parseFloat(k["border"+n+"Width"],10),n=h-a.offsets.popper[g]-r-n;return n=Math.max(Math.min(d[f]-
p,n),0),a.arrowElement=e,a.offsets.arrow=(c={},da(c,g,Math.round(n)),da(c,q,""),c),a},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(a,b){if(M(a.instance.modifiers,"inner")||a.flipped&&a.placement===a.originalPlacement)return a;var c=J(a.instance.popper,a.instance.reference,b.padding,b.boundariesElement,a.positionFixed),e=a.placement.split("-")[0],f=E(e),g=a.placement.split("-")[1]||"",d=[];switch(b.behavior){case "flip":d=[e,f];break;case "clockwise":d=Y(e);break;case "counterclockwise":d=
Y(e,!0);break;default:d=b.behavior}return d.forEach(function(h,p){if(e!==h||d.length===p+1)return a;e=a.placement.split("-")[0];f=E(e);var n=a.offsets.popper,q=a.offsets.reference,r=Math.floor,q="left"===e&&r(n.right)>r(q.left)||"right"===e&&r(n.left)<r(q.right)||"top"===e&&r(n.bottom)>r(q.top)||"bottom"===e&&r(n.top)<r(q.bottom),k=r(n.left)<r(c.left),l=r(n.right)>r(c.right),u=r(n.top)<r(c.top),r=r(n.bottom)>r(c.bottom),n="left"===e&&k||"right"===e&&l||"top"===e&&u||"bottom"===e&&r,w=-1!==["top",
"bottom"].indexOf(e),t=!!b.flipVariationsByContent&&(w&&"start"===g&&l||w&&"end"===g&&k||!w&&"start"===g&&r||!w&&"end"===g&&u),k=!!b.flipVariations&&(w&&"start"===g&&k||w&&"end"===g&&l||!w&&"start"===g&&u||!w&&"end"===g&&r)||t;(q||n||k)&&(a.flipped=!0,(q||n)&&(e=d[p+1]),k&&(g="end"===g?"start":"start"===g?"end":g),a.placement=e+(g?"-"+g:""),a.offsets.popper=ma({},a.offsets.popper,N(a.instance.popper,a.offsets.reference,a.placement)),a=O(a.instance.modifiers,a,"flip"))}),a},behavior:"flip",padding:5,
boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(a){var b=a.placement,c=b.split("-")[0],e=a.offsets,f=e.popper,e=e.reference,g=-1!==["left","right"].indexOf(c),d=-1===["top","left"].indexOf(c);return f[g?"left":"top"]=e[c]-(d?f[g?"width":"height"]:0),a.placement=E(b),a.offsets.popper=A(f),a}},hide:{order:800,enabled:!0,fn:function(a){if(!X(a.instance.modifiers,"hide","preventOverflow"))return a;var b=a.offsets.reference,c=P(a.instance.modifiers,
function(a){return"preventOverflow"===a.name}).boundaries;if(b.bottom<c.top||b.left>c.right||b.top>c.bottom||b.right<c.left){if(!0===a.hide)return a;a.hide=!0;a.attributes["x-out-of-boundaries"]=""}else{if(!1===a.hide)return a;a.hide=!1;a.attributes["x-out-of-boundaries"]=!1}return a}},computeStyle:{order:850,enabled:!0,fn:function(a,b){var e=b.x,f=b.y,g=a.offsets.popper,d=P(a.instance.modifiers,function(a){return"applyStyle"===a.name}).gpuAcceleration;void 0!==d&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");
var d=void 0!==d?d:b.gpuAcceleration,h=c(a.instance.popper),p=B(h),g={position:g.position},n=T(a,2>window.devicePixelRatio||!ea),e="bottom"===e?"top":"bottom",f="right"===f?"left":"right",q=K("transform"),r=void 0,k=void 0;(k="bottom"===e?"HTML"===h.nodeName?-h.clientHeight+n.bottom:-p.height+n.bottom:n.top,r="right"===f?"HTML"===h.nodeName?-h.clientWidth+n.right:-p.width+n.right:n.left,d&&q)?(g[q]="translate3d("+r+"px, "+k+"px, 0)",g[e]=0,g[f]=0,g.willChange="transform"):(g[e]=k*("bottom"===e?-1:
1),g[f]=r*("right"===f?-1:1),g.willChange=e+", "+f);return a.attributes=ma({},{"x-placement":a.placement},a.attributes),a.styles=ma({},g,a.styles),a.arrowStyles=ma({},a.offsets.arrow,a.arrowStyles),a},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(a){return Q(a.instance.popper,a.styles),S(a.instance.popper,a.attributes),a.arrowElement&&Object.keys(a.arrowStyles).length&&Q(a.arrowElement,a.arrowStyles),a},onLoad:function(a,b,c,e,f){e=I(f,b,a,c.positionFixed);
a=F(c.placement,e,b,a,c.modifiers.flip.boundariesElement,c.modifiers.flip.padding);return b.setAttribute("x-placement",a),Q(b,{position:c.positionFixed?"fixed":"absolute"}),c},gpuAcceleration:void 0}}};a["default"]=sa}).call(a,b(137))},function(m,a,b){function l(a,b,f){return function(c){c.listenerId===a&&(f(c),v.removeListener(b))}}Object.defineProperty(a,"__esModule",{value:!0});a.botEventEmmiter=void 0;a.addCommandToBotQueue=function(a){(0,t.isFunction)(a)&&k.push(a)};a.clearBotCommands=function(){k=
[]};a.runBotCommands=function(){k.forEach(function(a){(0,t.isFunction)(a)&&a();k.shift()})};var d=b(11),t=b(0),k=[],v=a.botEventEmmiter=new function(){var a={},b={};this.dispatchEvent=function(b,c,g){c===a[b]&&d.internalEventListener.dispatchEvent(b,Object.assign({listenerId:c},g))};this.addListener=function(f,c,g){v.removeListener(f);a[f]=g;c=l(g,f,c);b[g]||(b[g]={});b[g][f]=c;d.internalEventListener.addListener(f,c)};this.removeListener=function(f){var c=a[f];c&&(d.internalEventListener.removeListener(f,
b[c][f]),a[f]=null,delete a[f])}}},function(m,a,b){function l(a,b,e,f){var d=f.onDone,h=f.onFailed,p=f.onClick;try{var q=e.positionType;a={matchCssSelector:!0,cssSelector:a,matchTextRule:!1,textRuleOperator:null,textRuleValues:null};(0,n.findInAll)(a,null,function(a){if(a&&a.element){var f=!("fixed"===q||"absolute"===q),g=a.element;z=g;!f&&(0,c.isElementVisible)(g)||f?(v(e,b,p),d&&d(a)):(t(),h&&h())}else h&&h()})}catch(r){g.logger.logInternalError(Error("findWidgetContainer - error "+r)),h&&h()}}
function d(a){if((0,e.getEventTarget)(a)===z)return a.preventDefault(),a.stopImmediatePropagation(),!1}function t(){I.forEach(function(a){(0,c.removeEventListener)(document,a,d)})}function k(){I.forEach(function(a){(0,c.removeEventListener)(document,a,d);(0,c.addEventListener)(document,a,d)})}function v(a,b,c){var e="API"===a.fetchKcType,f=!0===a.isNewAPI,g=!("fixed"===a.positionType||"absolute"===a.positionType);!e||f?(C=function(b){b=b.kcId;b===a.kcId&&(F=b,h(c,e,f),f?((0,w.runBotCommands)(),w.botEventEmmiter.removeListener("WIDGET_LOADED")):
q.botEventEmmiter.removeListener("WIDGET_LOADED"))},f?w.botEventEmmiter.addListener("WIDGET_LOADED",C,b):q.botEventEmmiter.addListener("WIDGET_LOADED",C,b),F!==a.kcId||g?F===a.kcId&&g||t():h(c,e,f)):t()}function h(a,b,d){try{(0,c.removeEventListener)(document,"click",J),J=function(b){try{var c=(0,e.getEventTarget)(b);if(c===z||(0,e.elementContainsChild)(z,c)){b.preventDefault();b.stopImmediatePropagation();var d=(0,A.isIframe)()?(0,B.getIframeId)():y.TOP_WINDOW_ID;f.internalEventListener.dispatchEvent(x.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,
d);a()}else{var h;try{h=-1<["TUUD4GR54UIT","FR6WJFXU3UWQ"].indexOf((0,r.getProduct)(u.eventTrackData[p.cacheGet](u.productIdParameter)))}catch(n){h=(g.logger.log("isTrimble "+n),!1)}h&&f.internalEventListener.dispatchEvent(x.BOT_INTERNAL_EVENTS.BOT_CLICK_OUTSIDE)}return!1}catch(n){g.logger.log("Embedded bot click event "+n)}},b&&!d||(k(),(0,c.addEventListener)(document,"click",J))}catch(h){g.logger.logInternalError(Error("addClickListenerToMappedElement - error "+h))}}Object.defineProperty(a,"__esModule",
{value:!0});a.findWidgetContainer=l;a.removeEmbeddedListeners=t;a.injectWidgetToTargetElement=function(a,b,c,e){var f=e.onDone,d=e.onFound,h=e.onClick;e=e.onFailed;try{"string"!=typeof a&&g.logger.logInternalError(Error("injectWidgetToTargetElement - cssSelector should be a string "+a)),c.isNewAPI?w.botEventEmmiter.removeListener("WIDGET_FAILED"):q.botEventEmmiter.removeListener("WIDGET_FAILED"),E=function(a){a.kcId===c.kcId&&(F="",t())},c.isNewAPI?w.botEventEmmiter.addListener("WIDGET_FAILED",E,
b):q.botEventEmmiter.addListener("WIDGET_FAILED",E,b),l(a,b,c,{onClick:h,onDone:function(a){d&&d(a);var b={onDone:f};try{var e=b.onDone,h=b.onFound,p=(b.onClick,b.onFailed,c.positionType),b=!("fixed"===p||"absolute"===p),n=a.element;h&&h(a);var q=document.querySelector("#apt-widget");if(q&&e){q.classList.remove("apt-hidden");q.style.position=b?"relative":"absolute";q.style.width="0px";q.style.height="0px";q.style.left="0px";q.style.top="0px";var r=c.zIndex;if(q.style.zIndex="number"!=typeof r?D:r,
b){if(b){var k=n.tagName.toLowerCase();/br|input|img|select|textarea/.test(k)?q.parentNode===n.parentNode||n.parentNode.appendChild(q):n!==q.parentNode&&n.appendChild(q)}}else q.parentNode!==(0,A.getBody)()&&(0,A.getBody)().appendChild(q);e&&e(a)}}catch(l){g.logger.logInternalError(Error("injectWidget - "+l))}},onFailed:e})}catch(p){g.logger.logInternalError(Error("injectWidgetToTargetElement - error "+p))}};a.addClickListenerToMappedElement=h;var n=b(19),f=b(11),c=b(0),g=b(3),q=b(84),w=b(54),r=b(18),
u=b(4),p=b(5),x=b(23),A=b(1),B=b(15),y=b(46),e=b(17),D="99998",z=null,J=null,F="",I=["dblclick","mousedown","mouseover"],C=void 0,E=void 0},function(m,a,b){function l(a,b){if((0,h.isBlank)(a)||!b)return!0;var e=(0,c.getEnvironment)(g.eventTrackData[q.cacheGet](g.productIdParameter));if(v.logger.debugMode&&e!==w.PROD_ENVIRONMENT)return!0;var e=(0,t.getCachedConfig)(k.BOT_CHECKSUM_KEY),d=(0,t.getConfig)(k.ENGAGEMENT_CHECKSUM_URL_CONFIG);if(!d)return!0;if(!e&&d)return v.logger.logInternalError(Error("the bot checksum is invalid since there is URL configured but no checksum to validated against")),
!1;e=e[a];if(!e&&!Array.isArray(e)||(0,h.isEmptyArr)(e))return v.logger.logInternalError(Error("the bot checksum is invalid since there is URL configured but no checksum to validated against, array is empty")),!1;var d=(0,n.orderAlphabetically)(b),p=(0,f.sha256)(JSON.stringify(d)),r=-1<e.indexOf(p);return r||(v.logger.logInternalError(Error("the bot checksum is invalid, js checksum: "+p+". engagement checksums:\n         "+JSON.stringify(e))),v.logger.logInternalError(Error("the bot checksum was done on: "+
JSON.stringify(d)))),r}function d(a,b,c){for(var f=0;f<c.length;f++)if(!0===l(a,c[f](b)))return!0;return!1}Object.defineProperty(a,"__esModule",{value:!0});a.validateContentChecksum=a.validateConfigChecksum=void 0;var t=b(1),k=b(50),v=b(3),h=b(0),n=b(27),f=b(83),c=b(18),g=b(4),q=b(5),w=b(8),r=b(141);m=b(139);var u=m.filterKcConfigV1,p=m.filterKcContentV1;b=b(140);var x=b.filterKcConfigV2,A=b.filterKcContentV2;a.validateConfigChecksum=function(a,b){var c=(0,t.getCachedConfig)(k.CHECKSUM_VERSION),f=
void 0;return f=void 0===c||2>=c?[x,u]:3===c?[r.filterKcConfigV3]:[x,u],d(a,b,f)};a.validateContentChecksum=function(a,b){var c=(0,t.getCachedConfig)(k.CHECKSUM_VERSION),f=void 0;return f=void 0===c||2>=c?[A,p]:3===c?[r.filterKcContentV3]:[A,p],d(a,b,f)}},function(m,a,b){function l(a,b){var d=t[a.type];return d.matchRules(a.rules,a.operator,b[d.getAttribute()])}Object.defineProperty(a,"__esModule",{value:!0});a.matchMultiTypeRules=void 0;m=(m=b(143))&&m.__esModule?m:{"default":m};var d=b(0),t={URL:m["default"]};
a.matchMultiTypeRules=function(a,b){var h=a.rules;return!!(0,d.isEmptyArr)(h)||("all"===a.operator?h.every(function(a){return l(a,b)}):h.some(function(a){return l(a,b)}))}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.eventCache=void 0;m=b(5);a.eventCache=new m.LocalCache},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.LocalStorageCookie=void 0;var l=function(){function a(b,d){for(var h=0;h<d.length;h++){var n=d[h];n.enumerable=n.enumerable||!1;n.configurable=
!0;"value"in n&&(n.writable=!0);Object.defineProperty(b,n.key,n)}}return function(b,d,h){return d&&a(b.prototype,d),h&&a(b,h),b}}(),d=b(10);a.LocalStorageCookie=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return l(a,null,[{key:"setCookie",value:function(a,b,h){var n=void 0;h&&(n=Date.now()+h);b={value:encodeURIComponent(b),expires:n};localStorage.setItem(a,(0,d.jsonStringify)(b))}},{key:"getCookie",value:function(a){var b=localStorage.getItem(a);
if(!b)return null;b=JSON.parse(b);return b.expires&&Date.now()>b.expires?(localStorage.removeItem(a),null):decodeURIComponent(b.value)}},{key:"getAllCookieVal",value:function(b){return(b=a.getCookie(b))?[b]:null}},{key:"deleteCookie",value:function(a){localStorage.removeItem(a)}},{key:"getCookiesRaw",value:function(){return""}}]),a}()},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.NativeCookie=void 0;var l=function(){function a(b,c){for(var g=0;g<c.length;g++){var d=c[g];d.enumerable=
d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,c,g){return c&&a(b.prototype,c),g&&a(b,g),b}}(),d=b(4),t=b(1),k=b(9),v=encodeURIComponent,h=decodeURIComponent;a.NativeCookie=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return l(a,null,[{key:"setCookie",value:function(a,b,g,h,n){if(!(0,t.isIframe)()){var r=void 0;h=h||((0,t.getConfig)("fullDomainCookie")?window.location.hostname:
(0,k.getDomain)());if(g){var l=Date.now(),r=new Date;r.setTime(l+g)}n||(g=(0,t.getConfig)("fullDomainCookie")?(0,k.getDomain)():window.location.hostname,this.deleteCookie(a,g));d.documentRef.cookie=a+"\x3d"+v(b)+(r?"; expires\x3d"+r.toUTCString():"")+"; path\x3d/"+(h&&0<h.trim().length?"; domain\x3d"+h:"")+(0,k.getSameSiteCookieSuffix)()}}},{key:"getCookieValues",value:function(a){for(var b=d.documentRef.cookie.split(";"),g=void 0,h=[],g=void 0,n=0;n<b.length;n++)g=b[n],g=g.trim(),g=g.split("\x3d"),
2===g.length&&g[0]===a&&h.push(g[1]);return h}},{key:"getCookie",value:function(b,c){var g=a.getCookieValues(b);return 0<g.length&&c&&g.every(function(a){return a===g[0]})?h(g[0].trim()):1===g.length?h(g[0].trim()):null}},{key:"getAllCookieVal",value:function(b){b=a.getCookieValues(b);if(0<b.length)for(var c=0;c<b.length;c++)b[c]=h(b[c].trim());return 0<b.length?b:null}},{key:"deleteCookie",value:function(b,c){a.setCookie(b,null,-1,c,!0)}},{key:"getCookiesRaw",value:function(){return d.documentRef.cookie}}]),
a}()},,,function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}function d(){var a=(0,h.removeFromQueryParam)(S);(a=(0,h.removeFromQueryParam)(T))!==c.windowRef.location.href&&history.replaceState("",document.title,a)}function t(a){var b=a.querySelector(".apt-guide-content-wrapper");(a=a.querySelector((0,J.getSelectorByVersion)(document,"apt-step-footer")))?(a=a.getBoundingClientRect(),b.style.maxHeight="calc(90vh - "+a.height+"px)"):b.style.maxHeight="90vh";b.style.overflowY="auto"}
function k(){var a=!!c.windowRef.angular||!!c.windowRef.getAngularTestability||!!c.windowRef.getAllAngularRootElements;return(0,z.getConfig)("queryParamsInHash")&&a}function v(a,b,e,f){var g=(0,z.getConfig)("supportAutoHashChangeDetection")&&(0,h.isOnlyHashChanged)(c.windowRef.location.href,a);e&&!g?(c.windowRef.history.replaceState({},c.documentRef.title,a),"function"==typeof b&&b()):f?window.open(a,"_blank"):(c.windowRef.location.href=a,g&&"function"==typeof b&&b())}Object.defineProperty(a,"__esModule",
{value:!0});a.getSelectorByVersion=a.GuideDrawerIframe=void 0;var h=b(0);m=b(33);var n=l(m),f=b(12),c=b(4),g=b(5),q=b(3),w=b(9),r=b(96),u=b(11),p=b(7),x=b(19),A=l(x);m=b(14);var B=l(m),y=b(6),e=b(29);m=b(87);var D=l(m),z=b(1),J=b(128),F=l(J),I=b(73);m=b(74);var C=l(m),E=b(16),N=b(8),P=b(129),L=b(17),O=b(21),M=b(20),K=b(103),H=b(65),R=b(127),V=b(32);V.defaultOptions.className="vex-theme-os";V.defaultOptions.closeAllOnPopState=!1;var U=N.TAB_INDEX_START,Q=void 0,S="aptGuideId",T="aptActivationType";
b=new function(){this.getElementBoundingRect=function(a){try{var b=(0,y.findElementInWindow)(a,document),c=b.getBoundingClientRect(),e=(0,h.isElementVisible)(b,!0);return{top:c.top,right:c.right,bottom:c.bottom,left:c.left,width:c.width,height:c.height,x:c.x,y:c.y,isVisible:e}}catch(f){return q.logger.logInternalError(f),null}}};a["default"]=function(a,b,l,m){function S(){return!(0,z.getConfig)("tooltipDynamicReposition")&&db}function T(){return pb||(0,z.getBody)()}function ja(a){-1!==[Ka,La,Ma,Na].indexOf(a.target)&&
a.stopImmediatePropagation()}function ha(){["click","mousedown","mouseup","touchstart"].forEach(function(a){(0,h.addEventListener)(c.documentRef,a,ja)})}function qa(){["click","mousedown","mouseup","touchstart"].forEach(function(a){(0,h.removeEventListener)(c.documentRef,a,ja)})}function da(){var a=c.eventTrackData[g.cacheGetAll](),b=JSON.parse(c.windowRef.sessionStorage.getItem("apt.localCache"));return(0,z.getConfig)("crossProductEngagement")&&b&&(a=b),a}function ma(a){var b=z.trackMultiStepEndpoint;
if(db&&!0!==D["default"].wasCompletedTracked(pa.executionId)){2===a&&D["default"].markCompletedTracked(pa.executionId);var c=[],c=(0,h.addParameters)(da(),c);(0,h.addParameters)({ei:pa.engagementId||null,ecoi:pa.contentId||null,ems:a||null,evi:pa.matchEventId||null,ent:2,acci:pa.accountId,exi:pa.executionId,ext:pa.executionTimestamp,cl:pa.contentLocale,at:pa.activationType||"a"},c);Gb&&"kc"===pa.activationType&&(0,h.addParameters)(Gb,c);(a=(0,O.getGlobalContext)())&&(0,h.addParameters)({gcx:JSON.stringify(a)},
c);c=(0,h.addParameters)((0,M.getWebContext)(),c);b+="?"+(0,h.convert2Parameters)(c);f.AjaxUtil.getData(b)}}function ea(a,b){if(db&&!D["default"].wasStepTracked(pa.executionId,a)){D["default"].markStepTracked(pa.executionId,a);(0,z.getConfig)("clientSideEngagementTracking")&&0===b&&ma(1);var c=z.trackStepEndpoint,e=[],e=(0,h.addParameters)(da(),e);(0,h.addParameters)({ei:pa.engagementId,ecoi:pa.contentId,cosi:a,evi:pa.matchEventId,cossn:b,ent:2,acci:pa.accountId,exi:pa.executionId,ext:pa.executionTimestamp,
cl:pa.contentLocale,at:pa.activationType||"a"},e);var g=(0,O.getGlobalContext)();g&&(0,h.addParameters)({gcx:JSON.stringify(g)},e);e=(0,h.addParameters)((0,M.getWebContext)(),e);c+="?"+(0,h.convert2Parameters)(e);f.AjaxUtil.getData(c);c=(0,E.toExternalEventGuide)(pa,"Viewed Step");c.stepNumber=b+1;u.internalEventListener.dispatchEvent("engagementViewedStep",c)}}function wa(a){return-1<["TOOLTIP","HOTSPOT"].indexOf(a.type)&&a.elementSelector||"DIALOG"===a.type&&("BAR"===a.dialogViewType&&a.barPosition||
a.positionHorizontal&&a.positionVertical)}function Ca(a){Object.keys(jb).forEach(function(a){var b=jb[a],c=b.element,e=b.event,b=b.handler;(0,h.removeEventListener)(c,e,b);delete jb[a]})}function sa(a){Ca();a&&a.isDom&&$a&&a&&a.isDom&&((0,H.removeClickListener)(a.element,$a),(0,h.removeEventListener)(a.element,"contextmenu",$a),(0,h.removeEventListener)(a.element,"mouseenter",$a),qb(a),Ab&&(0,h.removeEventListener)(a.element,"keydown",Ab));!(0,z.isIframe)()&&a&&!a.isDom&&a.iframeSource&&A["default"].removeElementHandlers(a.iframeSource);
P.hotspotEventHandler.removeListener()}function fa(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;a||(a=document.querySelector(".apt-hotspot-element"));a&&a.parentNode&&T().removeChild(a)}function ka(){Ba[0]&&Ba.pop().close();sa();fa();Oa&&Oa()}function aa(a,b){Ia(a.elementSelector,a.type,function(c,e){if((0,H.isMappedStepType)(e)&&null===c)return void(a.skippable?(0,H.hasGuideBranching)(a)?kb(b):na(b):(Bb(),Oa&&Oa(a.elementSelector)));oa(c,pa.footer,a.content,pa,a)},void 0,
a.autoScroll,a.searchTimeout,a.skippable)}function xa(a,b){try{b&&0<b||(0,H.isMappedStepType)(a.type)?setTimeout(function(){aa(a,b)},b||0):oa(null,pa.footer,a.content,pa,a)}catch(c){throw za(),ya(),c;}}function na(a){var b=G;va=G=Ga;fa();nb=!1;0<Ba.length&&Ba.pop().close();nb=!0;sa();for(var c=ia[va];va<ia.length&&!wa(c);)c=ia[++va];if(void 0===c)return Ba[0]&&Ba.pop().close(),sa(),fa(),void(Oa&&Oa());Ga=va+1;for(var e=ia[Ga];Ga<ia.length&&!wa(e);)e=ia[++Ga];try{a&&0<a?setTimeout(function(){Ia(c.elementSelector,
c.type,function(e,f){"TOOLTIP"!==f&&"HOTSPOT"!==f||null!==e?oa(e,pa.footer,c.content,pa,c):c.skippable?(0,H.hasGuideBranching)(c)?(G=b,kb(a)):na(a):(Bb(),Oa&&Oa(c.elementSelector))},void 0,c.autoScroll,c.searchTimeout,c.skippable)},a):-1<["TOOLTIP","HOTSPOT"].indexOf(c.type)?setTimeout(function(){Ia(c.elementSelector,c.type,function(e,f){-1<["TOOLTIP","HOTSPOT"].indexOf(f)&&null===e?c.skippable?(0,H.hasGuideBranching)(c)?(G=b,kb(a)):na(a):(Bb(),Oa&&Oa(c.elementSelector)):oa(e,pa.footer,c.content,
pa,c)},void 0,c.autoScroll,c.searchTimeout,c.skippable)},0):oa(null,pa.footer,c.content,pa,c)}catch(f){throw za(),ya(),f;}}function Ha(a){var b=a.timeout,c=a.nextStepId;a=a.wasSkippedBefore;fa();nb=!1;0<Ba.length&&Ba.pop().close();nb=!0;sa();a||(G=va);Ga=ia.findIndex(function(a){return a.id===c});a=(0,H.getLinkedStepFromIndex)(ia,Ga);var e=a.step;if(va=a.index,void 0===e)return void ka();Ga=va+1;Ga=(0,H.getLinkedStepFromIndex)(ia,Ga).index;xa(e,b)}function Ta(a){var b=JSON.parse(window.sessionStorage.getItem("apt.prevStepMap"));
b||(b={});b[ia[va].id]={id:ia[G].id,url:c.windowRef.location.href};window.sessionStorage.setItem("apt.prevStepMap",JSON.stringify(b));if(a){a=ia[va];var b=ia[G],e=JSON.parse(window.sessionStorage.getItem("apt.prevStepMapBranching"));e||(e={});e[a.id]={id:b.id,url:c.windowRef.location.href};window.sessionStorage.setItem("apt.prevStepMapBranching",JSON.stringify(e))}}function kb(a){var b=(0,H.getBranchingSkipToStepId)(ia,va);b?(Ha({timeout:a,nextStepId:b,wasSkippedBefore:!0}),Ta(!0)):na(a)}function Ra(a){if((0,
H.hasGuideBranching)(ia[va])){var b=(0,H.getNextStepForNavigation)(ia,va,Ga);b&&(Ha({timeout:a,nextStepId:b}),Ta(!0))}else na(a)}function gb(a,b){try{var e=pa.engagementId,f=a?a.cssSelector:"MISSING",g=e+"_"+f;Ua[g]||(Ua[g]=!0,q.logger.logInternalMessage({entityId:e,errorType:"ENGAGEMENT_MISSING_ELEMENT",engagementErrorData:{mappedElementId:f,engagementId:e,engagementType:"IN_APP_GUIDE",stepId:ia[va]&&ia[va].id||""},flowType:"ENGAGEMENT",exceptionDetails:"element is not found after: "+b,aptrinsicId:c.eventTrackData.data[c.aptrinsicIdParam]||
null,sessionId:c.eventTrackData.data[c.sessionIdParam]||null}))}catch(d){q.logger.log("error sending element not found log.\n"+d.message),ya()}}function Ia(a,b,c,e,f,g,d){var n=0<g?g:eb;if(-1===["TOOLTIP","HOTSPOT"].indexOf(b))return void c(null,b);var q=(new Date).getTime(),r=void 0;(0,x.findInAll)(a,(0,p.getRegisteredIframes)(),function(k){e=e||q;var l=q-e;if(l>n)return db&&!d&&gb(a,l),void c(null,b);if(k||setTimeout(function(){Ia(a,b,c,e,f,g,d)},500),k&&k.element){if(r=k.element,(0,h.isElementVisible)(r,
!1,null)&&l<=n)return void c({isDom:!0,element:r,isVisible:k.isVisible},b);setTimeout(function(){Ia(a,b,c,e,f,g,d)},500)}else k&&k.iframeData&&setTimeout(function(){A["default"].getElementLocation(k.iframeData,a,function(a){c({isDom:!1,elementRect:a[0],iframeSource:k.iframeData,isVisible:k.isVisible,iframeOrigin:p.IframeData.iframeOrigin},b)})},f?800:0)},!1,!1,f)}function ya(){try{Cb&&clearInterval(Cb)}catch(a){}}function za(){Ka&&(Ka.style.display="none",Ka.style.visibility="hidden");La&&(La.style.display=
"none",La.style.visibility="hidden");Ma&&(Ma.style.display="none",Ma.style.visibility="hidden");Na&&(Na.style.display="none",Na.style.visibility="hidden")}function ta(a,b){va=ia.findIndex(function(a){return a.id===b});a&&(G=ia.findIndex(function(b){return b.id===a}));Ga=G+1;va=(0,H.getPrevLinkedStepFromIndex)(ia,G).index;var c=ia[va];Ia(c.elementSelector,c.type,function(e){if(null===e&&"DIALOG"!==c.type)return void ta(a,b);var f=window.sessionStorage.getItem("apt.prevStepMapBranching"),f=JSON.parse(f);
delete f[b];window.sessionStorage.setItem("apt.prevStepMapBranching",JSON.stringify(f));try{oa(e,pa.footer,c.content,pa,c)}catch(g){throw za(),ya(),g;}},void 0,c.autoScroll,c.searchTimeout,c.skippable)}function Fa(){var a=window.sessionStorage.getItem("apt.prevStepMapBranching"),a=JSON.parse(a),b=ia[va].id;(a=(a=a&&a[b])?a.id:"")?ta(a,ia[va].id):Ya()}function Ya(){Ga=va;for(var a=ia[--va];!wa(a);)a=ia[--va];G=va-1;for(var b=ia[G];-1<G&&!wa(b);)b=ia[--G];Ia(a.elementSelector,a.type,function(b){if(null===
b&&"DIALOG"!==a.type)return void Fa();try{oa(b,pa.footer,a.content,pa,a)}catch(c){throw za(),ya(),c;}},void 0,a.autoScroll,a.searchTimeout,a.skippable)}function ra(a,b,c){b.classList.contains("apt-guide-arrow-bottom")&&b.classList.remove("apt-guide-arrow-bottom");b.classList.contains("apt-guide-arrow-top")&&b.classList.remove("apt-guide-arrow-top");b.classList.contains("apt-guide-arrow-right")&&b.classList.remove("apt-guide-arrow-right");b.classList.contains("apt-guide-arrow-left")&&b.classList.remove("apt-guide-arrow-left");
b.classList.remove("apt-guide-arrow-top-left");b.classList.remove("apt-guide-arrow-top-right");b.classList.remove("apt-guide-arrow-bottom-right");b.classList.remove("apt-guide-arrow-bottom-left");b.classList.remove("apt-guide-arrow-top-center");b.classList.remove("apt-guide-arrow-center");if((0,h.isNotEmptyArr)(a)){var e="",f="",g="";"top"===a[1]?(e="apt-guide-arrow-bottom",c&&(f=c+" transparent transparent transparent"),"right"===a[0]?(b.style.borderBottomLeftRadius="0",g="apt-guide-arrow-bottom-left"):
"left"===a[0]?(b.style.borderBottomRightRadius="0",g="apt-guide-arrow-bottom-right"):g="apt-guide-arrow-center"):"bottom"===a[1]?(e="apt-guide-arrow-top",c&&(f="transparent transparent "+c+" transparent"),"right"===a[0]?(b.style.borderTopLeftRadius="0",g="apt-guide-arrow-top-left"):"left"===a[0]?(b.style.borderTopRightRadius="0",g="apt-guide-arrow-top-right"):g="apt-guide-arrow-center"):"left"===a[0]?(e="apt-guide-arrow-right",c&&(f="transparent transparent transparent "+c)):(e="apt-guide-arrow-left",
c&&(f="transparent "+c+" transparent transparent"));b.classList.add(e);""!==g&&b.classList.add(g);""!==f&&(a="."+e+"::after{border-color:"+f+";}",b=document.getElementById("apt-guide-arrow-style"),null===b?b=(0,h.createStyle)(a,"apt-guide-arrow-style"):b.styleSheet?b.styleSheet.cssText=a:(b.innerHTML="",b.appendChild(document.createTextNode(a))),T().appendChild(b))}}function ua(a,b,c,e,f,g,d){e||(e=0);var p=(0,w.detectIE)(),n=p&&79>p,q=a.isDom?a.element.getBoundingClientRect():a.elementRect,r=(0,
w.getPageWidth)(),k=(0,w.getPageHeight)();a=n?Math.floor(q.height):q.height;var p=n?Math.floor(q.width):q.width,l=n?Math.floor(q.left):q.left,u=n?Math.floor(q.top):q.top,t=n?Math.ceil(q.bottom):q.bottom,n=n?Math.ceil(q.right):q.right,q=0<=l-e?l-e:0;Ka.style.left=q+"px";Ka.style.top="0px";Ka.style.height=(0===u?0:0<u-e?u-e:0)+"px";b&&(Ka.style.background=(0,h.hexToRgba)(b,c?c/100:0));La.style.top=u+e+a+"px";La.style.height=(0===t?0:k-parseInt(La.style.top))+"px";b&&(La.style.background=(0,h.hexToRgba)(b,
c?c/100:0));Ma.style.left="0px";Ma.style.top="0px";Ma.style.height=k+"px";t=0===l?0:q;Ma.style.width=t+"px";b&&(Ma.style.background=(0,h.hexToRgba)(b,c?c/100:0));q=l+p+e;if(Na.style.left=q+"px",Na.style.top="0px",Na.style.height=k+"px",Na.style.width=(0===n?0:r-q)+"px",b&&(Na.style.background=(0,h.hexToRgba)(b,c?c/100:0)),Ka.style.width=q-t+"px",La.style.width=q-t+"px",Ka.style.left=t+"px",La.style.left=t+"px",Ka.style.display="block",Ka.style.visibility="visible",La.style.display="block",La.style.visibility=
"visible",Ma.style.display="block",Ma.style.visibility="visible",Na.style.display="block",Na.style.visibility="visible",0<d?(Ka.style.setProperty("z-index",d),La.style.setProperty("z-index",d),Ma.style.setProperty("z-index",d),Na.style.setProperty("z-index",d)):(Ka.style.removeProperty("z-index"),La.style.removeProperty("z-index"),Ma.style.removeProperty("z-index"),Na.style.removeProperty("z-index")),g)b=(0,h.createElement)("div","apt-guide-target-block"),b.style.left=l-e+"px",b.style.width=p+2*e+
"px",b.style.height=a+2*e+"px",b.style.top=u-e+"px",f.appendChild(b)}function Aa(a,b){var e=c.windowRef.sessionStorage,f=JSON.parse(e.getItem("apt.prevStepMap"));if(f||(f={}),f[b.id]={id:a.id,url:c.windowRef.location.href},e.setItem("apt.prevStepMap",JSON.stringify(f)),e.setItem("apt.stepId",b.id),(pa.engagementId||!1===db)&&e.setItem("apt.guideId",pa.engagementId),(0,z.getConfig)("crossProductEngagement"))e.getItem("apt.localCache")||e.setItem("apt.localCache",JSON.stringify(c.eventTrackData[g.cacheGetAll]()))}
function Da(a){var b=c.windowRef.sessionStorage;b.getItem(a)&&b.removeItem(a)}function Ja(){Da("apt.currentGuideId");Da("apt.stepId");Da("apt.guideId")}function oa(a,b,c,e,f,g,d,h){!0!==g&&(fa(),nb=!1,0<Ba.length&&Ba.pop().close(),sa(a),C["default"].removeAllHandlers(),nb=!0,Db=a);switch(f.type){case "TOOLTIP":case "DIALOG":return cc(a,b,c,e,f,g,d,h);case "HOTSPOT":return ub(a,e,f,g,d,h);case "BADGE":break;default:q.logger.logInternalError(Error("Unsupported step type "+f.type))}}function Za(a){a=
(0,H.buildHotspotStyle)(a);var b=document.getElementById("apt-hotspot-style");b?b.styleSheet?b.styleSheet.cssText=a:(b.innerHTML="",b.appendChild(document.createTextNode(a))):b=(0,h.createStyle)(a,"apt-hotspot-style");T().appendChild(b)}function Xa(a,b,c,e,f){a.setAttribute("tabindex",U);e=function(){clearInterval(Eb);fa(a);ya();Pa(b,c)};(0,h.addEventListener)(a,"click",e);(0,y.disableFocusOnClick)(a);(0,h.addEnterKeyDownListener)(a,e);b.hotspotSettings.elementClickTrigger&&P.hotspotEventHandler.addListener(f,
b.elementSelector,e)}function cb(a,b,c){u.internalEventListener.addListener("pageview",function bc(){setTimeout(function(){(0,x.findInAll)(a.elementSelector,(0,p.getRegisteredIframes)(),function(a){a&&(a.element||a.iframeData)&&!1!==a.isVisible||((0,L.elementContainsChild)(T(),b)&&fa(b),!c.preview&&Oa&&Oa());u.internalEventListener.removeListener("pageview",bc);ya()})},500)});Eb=setInterval(function(){try{(0,x.findInAll)(a.elementSelector,(0,p.getRegisteredIframes)(),function(a){a&&(a.element||a.iframeData)&&
b.parentElement&&!1!==a.isVisible||(b.parentElement&&fa(b),clearInterval(Eb),ya(),!c.preview&&Oa&&Oa())})}catch(e){clearInterval(Eb),ya(),q.logger.logInternalError(e)}},500)}function mb(a,b,c,e){c="TOOLTIP"===e.type&&ba(c,e);b?(a.style.display="block",c&&(Ka.style.display="block",Ka.style.visibility="visible",La.style.display="block",La.style.visibility="visible",Ma.style.display="block",Ma.style.visibility="visible",Na.style.display="block",Na.style.visibility="visible")):(a.style.display="none",
c&&za())}function Sa(a,b,c,e,f,g,d,p){var n=Qa.getElementPosition(c),q=a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]||a[3]!==b[3];p=n[0]!==p[0]||n[1]!==p[1]||n[2]!==p[2]||n[3]!==p[3];q=q||!q&&p;p=!1;return p=e.isDom?(0,h.isElementVisible)(e.element,!0,!0):e.elementRect.isVisible?(0,h.isElementInIframeVisible)(e.elementRect,e.iframeSource.domElement):void 0===e.elementRect.isVisible&&e.isVisible,mb(c,p,d,f),q&&(b=a,Qa.positionElement(c,e,f.positionHorizontal,f.positionVertical,f.positionTopDelta,f.positionLeftDelta,
"HOTSPOT"===f.type,S()),"TOOLTIP"===f.type&&ib(g,d,f,e)),b}function hb(a,b,c,e,f,g){var d=!0,h=Qa.getElementPosition(c);if(g.preview||db){var n=function(e){if(e)if(e.element){var d=Qa.getElementPosition(e.element);e.isDom=!0;b=Sa(d,b,c,e,a,f,g,h);h=Qa.getElementPosition(c)}else d=function(d){d={isDom:!1,elementRect:Array.isArray(d)?d[0]:d,isVisible:e.isVisible,iframeSource:e.iframeData,iframeOrigin:p.IframeData.iframeOrigin};var n=Qa.getElementDataPosition(d);b=Sa(n,b,c,d,a,f,g,h);h=Qa.getElementPosition(c)},
e.elementRect?d(e.elementRect):A["default"].getElementLocation(e.iframeData,a.elementSelector,d)},r=setInterval(function(){try{if(e&&e.isDom&&e.element&&!(0,L.elementContainsChild)(T(),e.element)){var b=JSON.stringify(a.elementSelector);q.logger.logInternalError(Error("Guide "+g.id+" on step "+a.id+" with selector "+b+" was closed, mapped element was there and then removed"));lb(a,g)}else(0,x.findInAll)(a.elementSelector,(0,p.getRegisteredIframes)(),n,!1,!1,d&&a.autoScroll),d=!1}catch(c){clearInterval(r),
ya(),q.logger.logInternalError(c)}},0<a.repositionInterval?a.repositionInterval:1E3);return r}return null}function ub(a,b,c,e,f,g){(e=c.autoScroll&&a&&a.element&&(0,h.needToScroll)(a.element))&&(0,h.scrollElementToCenter)(a.element,function(a){return q.logger.logInternalError(a)});Za(c);var d=(0,h.createElement)("span",["apt-hotspot-element","apt-hotspot-dynamic"]);d.setAttribute("data-apt-disable-selector",!0);d.style.display=a.isVisible?"block":"none";(0,h.appendElements)(T(),[d]);var p=function(){var e=
null;if(c&&c.positionHorizontal&&c.positionVertical){var e=Qa.positionElement(d,a,c.positionHorizontal,c.positionVertical,c.positionTopDelta,c.positionLeftDelta,!0,S()),h=Qa.getElementDataPosition(a);Cb=hb(c,h,d,a,null,b)}(null===e&&(e=Pb(d,a,c.positionTopDelta,c.positionLeftDelta,!0)),g)||(Xa(d,c,b,f,a),cb(c,d,b),h=(0,H.isLastStep)(ia,c,Ga),ia&&(h||1===ia.length)&&ma(N.COMPLETED_TRACKED),c&&ea(c.id,c.sequenceNumber));tb&&tb(e);db&&(0,H.isLastStep)(ia,c,Ga)&&u.internalEventListener.dispatchEvent("engagementCompleted",
(0,E.toExternalEventGuide)(pa,"Completed"))};e?setTimeout(p,800):p()}function ba(a,b){var c=b.overlay&&1>b.overlay.fill&&!b.showOverlay;return(b.overlay&&b.overlay.modal||a.modal)&&!c}function ib(a,b,c,e,f){var g=a.querySelector(".apt-vex.apt-popup-disable-overlay .vex-overlay"),d=void 0,p=void 0,n=void 0,q=0,r=c.overlay&&c.overlay.modal||b.modal;if(!(c.overlay&&1>c.overlay.fill)||c.showOverlay){r&&(d=T(),d.classList.contains("apt-non-scroll")||document.documentElement.classList.contains("apt-non-scroll")||
(p=(0,w.detectIE)(),(p&&p<=N.LAST_IE_VERSION?document.documentElement:(0,z.getBody)()).classList.add("apt-non-scroll"),(0,z.getConfig)("enableModalBodyScroll")&&d.classList.add("apt-non-scroll")),d=c.overlay&&c.overlay.modal&&c.overlay.color||b.overlayColor,p=c.overlay&&c.overlay.modal&&!isNaN(c.overlay.fill)?c.overlay.fill:b.overlayFill,n=c.overlay&&c.overlay.modal&&(c.overlay.padding||0===c.overlay.padding)?c.overlay.padding:b.overlayPadding,q=c.zIndex||c.zindex);if(b&&"TOOLTIP"===c.type){var k=
c.overlay&&c.overlay.modal&&c.overlay.blockElement&&!bb(c.navigation.nextStepTrigger);f||ua(e,d,p,n,a,k,q);r||za()}b&&"DIALOG"===c.type&&(r?(g.style.background=(0,h.hexToRgba)(d,p?p/100:0),g.style.display="block"):g.style.display="none")}}function ab(a,b){var f=(0,e.resolveUrlWithPlaceholders)(c.windowRef.location.href,a);return!(k()||(0,z.getConfig)("supportAutoHashChangeDetection")&&(0,h.isOnlyHashChanged)(c.windowRef.location.href,f))&&(f=(0,h.addParameterToUrl)(f,b.preview?"aptShowGuide":"aptGuideId",
b.preview?"1":b.engagementId),dc||(f=(0,h.addParameterToUrl)(f,"aptActivationType",b.activationType))),f}function vb(a,b){return{closeCallback:function(){Hb(b.activationType,b.snoozeButton,b.activationTypes)&&ma(N.COMPLETED_TRACKED);lb(a,b)},startOverGuideCallback:function(a){return Qb(b,a)},customButtonNextCallback:function(f){if(f.onNavigationNextAction===I.URL_REDIRECTION&&(0,e.resolveUrlWithPlaceholders)(window.location.href,f.url)!==c.windowRef.location.href){d();var g=ab(f.url,b);g!==c.windowRef.location.href&&
a.sequenceNumber<a.total-1&&(Aa(a,ia[va+1]),f.actionType===I.NAVIGATION&&f.onNavigationNextAction===I.URL_REDIRECTION&&f.navigationType===I.NEXT&&f.openNewTab&&fb());v(g,void 0,!1,f.openNewTab)}else na(null);ya()},customButtonGoToStepCallback:function(a){(a=(0,H.getBranchNextStepIdForCustomButton)(ia,va,a))?(Ha({timeout:null,nextStepId:a}),Ta(!0)):na(null)},showPreviousStepCallback:function(c){return Rb(a,b,a&&c)}}}function fb(){(0,K.copySessionStorageToLocalStorageGuideKeys)();lb()}function Pa(a,
b){if("REDIRECT"===a.navigation.nextButtonAction&&a.navigation.nextStepUrl&&(0,e.resolveUrlWithPlaceholders)(window.location.href,a.navigation.nextStepUrl)!==c.windowRef.location.href){d();var f=ab(a.navigation.nextStepUrl,b);f!==c.windowRef.location.href&&a.sequenceNumber<a.total-1&&(Aa(a,ia[va+1]),a.navigation.openInNewTab&&fb());v(f,function(){na(null)},k(),a.navigation.openInNewTab)}else a.navigation.nextButtonAction===I.GO_TO_STEP?Ra(null):a.navigation.nextButtonAction===I.END_GUIDE?ka():na(null)}
function bb(a){return-1<["ELEMENT_CLICK","ELEMENT_HOVER","INPUT_TEXT_COMPLETION"].indexOf(a)}function rb(a,b){var f=a.total-1;va>=f&&-1!==["REDIRECT","REPLACE"].indexOf(b.completionClosingAction)&&b.completionClosingRedirectUrl?(f=(0,e.resolveUrlWithPlaceholders)(c.windowRef.location.href,b.completionClosingRedirectUrl),f!==c.windowRef.location.href&&v(f,void 0,"REPLACE"===b.completionClosingAction,!1)):va<f&&"REDIRECT"===b.interruptClosingAction&&b.interruptClosingRedirectUrl&&(f=(0,e.resolveUrlWithPlaceholders)(c.windowRef.location.href,
b.interruptClosingRedirectUrl),f!==c.windowRef.location.href&&v(f,void 0,k(),!1))}function wb(a){(0,z.getConfig)("guideAdvanceOnHover")&&((0,h.addEventListener)(a.element,"mouseleave",ob,!1),(0,h.addEventListener)(a.element,"mouseout",ob,!1),a.element.nextElementSibling&&((0,h.addEventListener)(a.element.nextElementSibling,"mouseleave",ob,!1),(0,h.addEventListener)(a.element.nextElementSibling,"mouseout",ob,!1)))}function qb(a){(0,z.getConfig)("guideAdvanceOnHover")&&((0,h.removeEventListener)(a.element,
"mouseleave",ob),(0,h.removeEventListener)(a.element,"mouseout",ob),a.element.nextElementSibling&&((0,h.removeEventListener)(a.element.nextElementSibling,"mouseleave",ob,!1),(0,h.removeEventListener)(a.element.nextElementSibling,"mouseout",ob,!1)))}function xb(a,b){var c=ec(b);return a.sequenceNumber===c}function yb(a){return a&&a.reduce(function(a,b){return Math.max(a,b.sequenceNumber)},a[0].sequenceNumber)}function ec(a){return a&&a.reduce(function(a,b){return Math.min(a,b.sequenceNumber)},a[0].sequenceNumber)}
function fc(a){var b=ia&&ia.filter(function(a){return"DIALOG"===a.type});return b&&b.length&&xb(a,b)}function gc(a){var b=ia&&ia.filter(function(a){return"DIALOG"===a.type});return b&&0<b.length?(b=yb(b),a.sequenceNumber===b):!1}function hc(a,b,c,e,f){var g=this.contentEl.querySelector(".apt-step-new-index")||this.contentEl.querySelector(".px-step-new-index");g&&1<a.total&&(g.classList.add("px-step-numbers"),c=c?" "+c+" ":" of ",a=(0,h.createElement)("div",null,{text:b+1+c+a.total}),e&&(a.style.color=
e),f&&(a.style.fontSize=f+"px"),g.appendChild(a))}function Qb(a,b){var e=sessionStorage.getItem("aptCurrentGuideUrl");if(c.windowRef.location.href===e)Ga=0,G=-1,va=0,na(0);else{var f=(0,z.getConfig)("supportAutoHashChangeDetection")&&(0,h.isOnlyHashChanged)(c.windowRef.location.href,e);v(ab(e,a),function(){f&&(Ga=0,G=-1,va=0);na(0)},b,!1)}}function lb(a,b,c){sessionStorage.removeItem("aptCurrentGuideUrl");Ja();Da("apt.localCache");ya();sessionStorage.removeItem("apt.prevStepMap");sessionStorage.removeItem("apt.prevStepMapBranching");
!c&&Oa&&Oa();0<Ba.length&&Ba.pop().close();sa();a&&b&&rb(a,b);C["default"].removeAllHandlers();qa();fa();(0,E.removeTabbableEnterListener)();clearTimeout(Ib);clearTimeout(Jb);Jb=Ib=null}function Sb(a,b,c){a.style&&((0,y.addStyleTag)(c,a.style,"px-engagement-wrapper-guide #step-"+b.id,".apt-vex.vex.vex-theme-os"),(a=a.style.match(/.px-close-button\s*{[^}]*}/))&&(0,y.addStyleTag)(c,".aptr-step-close-button-"+b.id+a[0],"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"))}function Hb(a,b,c){a=
(0,E.isSingleStepWithSnooze)(ia.length,a,b,c);return ia&&a&&(Ga>=ia.length||1===ia.length)}function cc(a,b,f,g,d,p,n,r){var w=function(){try{Hb(g.activationType,g.snoozeButton,g.activationTypes)&&ma(N.COMPLETED_TRACKED),za(),sessionStorage.removeItem("aptCurrentGuideUrl"),Ja(),c.windowRef.sessionStorage.removeItem("apt.prevStepMapBranching"),c.windowRef.sessionStorage.removeItem("apt.prevStepMap"),ya(),sa(a),Oa&&Oa(),rb(d,g)}catch(b){q.logger.logInternalError(b,"Error on closing guide")}},m=(0,h.getEscHandlerCallback)(w);
(Va=d,(0,y.isElement)(f))||(p=document.createElement("div"),p.innerHTML=(0,y.addNonceToDomString)(f),f=p,f.classList.add("apt-step-wrapper"));var x=0<f.querySelectorAll("#px-editor-v2-content").length;(sb=(0,E.setTabIndexes)(f,zb),Kb=sb,Tb=sb+1,Ub=sb+2,Lb=sb+3,sb+=4,x||!Va.titleHtml||(0,y.isElement)(Va.titleHtml))||(p=document.createElement("div"),p.innerHTML=(0,y.addNonceToDomString)(Va.titleHtml),Va.titleHtml=p);(0,y.isElement)(b)||(p=document.createElement("div"),p.innerHTML=(0,y.addNonceToDomString)(b),
b=p.firstChild);p=(0,h.createElement)("div",["apt-step-content","apt-sdk"]);var D=(0,h.createElement)("div",["apt-guide-content-wrapper"]);p.setAttribute("id","step-"+Va.id);p.classList.toggle("px-dialog-container","DIALOG"===d.type);p.classList.toggle("px-tooltip-container","TOOLTIP"===d.type);p.classList.toggle("px-start-guide-dialog",fc(d));p.classList.toggle("px-end-guide-dialog",gc(d));p.classList.toggle("px-first-step",xb(d,ia));p.classList.toggle("px-last-step",(0,H.isLastStep)(ia,d,Ga));!x&&
Va.titleHtml&&Va.showTitle&&D.insertBefore(Va.titleHtml,D.firstChild);"TOOLTIP"!==d.type||Va.titleHtml||x||(Va.navigation.useElementListener&&bb(Va.navigation.nextStepTrigger)?D.classList.add("apt-guide-tooltip-content"):D.classList.add("apt-guide-tooltip-content-navigation"));f&&b&&(D.appendChild(f),(0,h.appendElements)(p,[D,b]));var P=null;(b=d.autoScroll&&a&&a.element&&(0,h.needToScroll)(a.element))&&(0,h.scrollElementToCenter)(a.element,function(a){return q.logger.logInternalError(a)});var U=
void 0,L=a&&a.isDom?a.element:null,oa=T();f=oa.id;var R={appendLocation:(0,z.getConfig)("framesetMode")?"html":f?"#"+f:"body",enableModalBodyScroll:(0,z.getConfig)("enableModalBodyScroll"),disableTransitionEffect:d.disableTransitionEffect,closeClassName:"aptr-engagement-close-btn px-close-button aptr-step-close-button-"+d.id,unsafeContent:p.outerHTML,overlayClosesOnClick:!1,closeAllOnPopState:!1,showCloseButton:!0,disableAutoFocus:l||B["default"].isEngagementEditorV2(),afterOpen:function(){function b(a){-1!==
[13,9].indexOf(a.keyCode)&&a.currentTarget===L&&(Pa(d,g),(0,h.removeEventListener)(L,"keydown",b))}var f=this,p=function(a){return(0,y.disableFocusOnClick)(a,f.contentEl)};this.rootEl.style.display="none";(0,z.getConfig)("enableModalBodyScroll")&&oa.classList.add("apt-vex");this.rootEl.classList.add("apt-vex");this.rootEl.setAttribute("data-apt-ignore-visible",!0);this.contentEl.setAttribute("data-apt-disable-selector",!0);ga=this.contentEl;Vb=this.rootEl;Wb=this.overlayEl;this.rootEl.classList.add("apt-popup-disable-overlay");
this.contentEl.classList.add("apt-guide-popup");this.contentEl.classList.add("guide-initial-position");this.contentEl.classList.add("apt-popup-content-disable-overlay");this.contentEl.classList.add("px-engagement-wrapper-guide");this.contentEl.classList.add("px-engagement-wrapper");var l=d.zindex||d.zIndex||g.zIndex||Ea;this.rootEl.style.zIndex=l;this.contentEl.style.zIndex=l;(d.zindex||d.zIndex||0===l)&&(this.overlayEl.style.zIndex=l);(0,y.addStyleTag)(this.contentEl,g.coreStyling,"px-engagement-wrapper",
".apt-vex.vex.vex-theme-os");(0,y.addStyleTag)(this.contentEl,g.engagementCoreStyling,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os");(0,E.addGlobalSettings)(this.contentEl,g.engagementCoreStyling,Va.id,d.paddingSettings);(0,y.addStyleTag)(this.contentEl,g.overrideStyling,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os");var D=-1<n?n:va,l=ia[D];Sb(l,d,this.contentEl);g.showStepCounter&&d.showStepCounter&&hc.call(this,d,D,g.stepCounterLabelText,g.stepCounterFontColor,g.stepCounterFontSize);
r&&!g.preview||(C["default"].removeAllHandlers(),C["default"].addNavigationHandler(a,d,g,function(a,b){lb(a,b)}));d&&(d.backgroundImage&&Xb(this.contentEl,d.backgroundImage),d.backgroundColor&&(this.contentEl.style.backgroundColor=d.backgroundColor,d.backgroundFill&&(this.contentEl.style.backgroundColor=(0,h.hexToRgba)(d.backgroundColor,d.backgroundFill/100),(0,h.checkDarkColor)(d.backgroundColor)&&this.contentEl.querySelector(".aptr-engagement-close-btn").classList.add("apt-engagement-close-btn-bright"))));
d.autoHeight||(d&&d.height&&(this.contentEl.style.height=d.height+"px"),d&&d.height&&(this.contentEl.querySelector(".apt-step-content").style.height=d.height+"px"));d&&d.width&&(this.contentEl.style.width=d.width+"px");g&&g.borderRadius&&(this.contentEl.style.borderRadius=g.borderRadius+"px");var D=this.contentEl.querySelectorAll((0,J.getSelectorByVersion)(this.contentEl,"apt-step-footer-buttons")),V=D[D.length-1],D=this.closeEl;(0,h.isNullOrUndefined)(d.navigation.showNavigation)||F["default"].setButtonsVisibility(this.contentEl,
d.navigation.showNavigation);(0,h.addEventListener)(D,"click",w);(0,h.addEventListener)(document,"keydown",m);d.shadow&&(0,E.setShadow)(this.contentEl,d.shadowSettings);var B=this.contentEl.querySelector((0,J.getSelectorByVersion)(this.contentEl,"apt-step-footer-next")),R=this.contentEl.querySelector((0,J.getSelectorByVersion)(this.contentEl,"apt-step-footer-button")),O=this.contentEl.querySelector((0,J.getSelectorByVersion)(this.contentEl,"apt-step-footer"));d.isFirstStepNonHotspot&&(F["default"].addSkipButton(O,
g.skipButton,d.navigation.backgroundRadius,!r,function(a,b){return function(){lb(a,b)}}(d,g),g.skipButtonText,p,Lb),(0,E.isSnoozeButtonEnabled)(g.activationType,g.snoozeButton,g.activationTypes)&&F["default"].addSnoozeButton(O,g.snoozeButton,!r,function(a,b){return function(){(0,E.trackSnooze)(pa,a.id,a.sequenceNumber);lb(a,b)}}(d,g),g.snoozeButtonText,p,Kb,x));var ha=D=null;g.navigationV2&&d.backButton&&(D=d.backButton.text,ha=d.nextButton.text);R.innerText=D||g.backButtonText||"Previous";R.setAttribute("tabindex",
Tb);R.setAttribute("role","button");B.innerText=ha||g.nextButtonText||"Next";B.setAttribute("tabindex",Ub);B.setAttribute("role","button");R.classList.add("apt-step-footer-prev");"TOOLTIP"===d.type&&(a&&a.isDom?(0,h.isEnterAllowedElement)(L)&&(jb[d.id]={element:L,event:"keydown",handler:b},(0,h.addEventListener)(L,"keydown",b)):a&&!a.isDom&&a.iframeSource&&A["default"].addElementHandler(a.iframeSource,d.elementSelector,d.navigation.nextStepTrigger,function(){Pa(d,g)}));var D=(0,H.isLastStep)(ia,d,
Ga),ha=d.nextButton,K=d.backButton;if(d&&!d.navigation.useElementListener||r||!bb(d.navigation.nextStepTrigger)){if(0===d.sequenceNumber&&("DIALOG"!==d.type&&"TOOLTIP"!==d.type||(B.innerText=g.getStartedButtonText||g.startButton&&g.startButton.text||"Get Started",ha=g.startButton,B.style.width="")),0!==d.sequenceNumber&&d.showPreviousButton||(r?R.style.display="none":R.parentNode===V&&V.removeChild(R)),D&&(B.innerText=g.endButtonText||"End Tour",ha=g.endButton,1<d.total&&(R.innerText=g.restartButtonText||
"Start Over",K=g.restartButton)),!r&&g)if(D){var T=function(){ja||(ja=!0,Hb(g.activationType,g.snoozeButton,g.activationTypes)&&ma(N.COMPLETED_TRACKED),lb(d,g))},ja=!1;(0,h.addEventListener)(B,"click",T);(0,h.addEnterKeyDownListener)(B,T);p(B);T=function(){return Qb(g,k())};(0,h.addEventListener)(R,"click",T);(0,h.addEnterKeyDownListener)(R,T);p(R)}else{var M=!1,T=function(){if(M)return void q.logger.log("next already clicked");M=!0;Pa(d,g);ya()};(0,h.addEventListener)(B,"click",T);(0,h.addEnterKeyDownListener)(B,
T);p(B);T=function(){return Rb(d,g,d&&d.navigation&&"HISTORY_BACK"==d.navigation.previousButtonAction)};(0,h.addEnterKeyDownListener)(R,T);p(R);(0,h.addEventListener)(R,"click",T)}p=vb(d,g);(0,I.setCustomButtonEventListener)(this.contentEl,d.customAction,p,pa,d.id);p=O.querySelector(".px-step-navigation-skip");T=O.querySelector(".px-step-navigation-snooze");F["default"].setStepNavigationV2Style({guideSettings:g,stepSettings:d,nextButton:B,prevButton:R,skipButtonDom:p,snoozeButtonDom:T,footerElement:O,
stepPrevButtonStyleSettings:K,stepNextButtonStyleSettings:ha,navigation:d.navigation});(r&&d.navigation.useElementListener||bb(d.navigation.nextStepTrigger))&&(g.showStepCounter&&d.showStepCounter||(O.style.display="none"),V.style.display="none",B.style.display="none",R.style.display="none")}else g.showStepCounter&&d.showStepCounter||(O.style.display="none"),V.style.display=B.style.display=R.style.display="none";if((bb(d.navigation.nextStepTrigger)||d.navigation.useElementListener)&&!r&&a){var la=
function(){d.navigation.nextButtonAction===I.GO_TO_STEP?Ra(1E3):d.navigation.nextButtonAction===I.END_GUIDE?ka():na(1E3);a.isDom&&("ELEMENT_CLICK"===d.navigation.nextStepTrigger&&((0,h.removeEventListener)(a.element,"keydown",Ab),(0,H.removeClickListener)(a.element,$a,Mb),(0,h.removeEventListener)(a.element,"contextmenu",$a)),"ELEMENT_HOVER"===d.nextStepTrigger&&((0,h.removeEventListener)(a.element,"mouseenter",$a),qb(a)));X=!1},X=!0;Mb=function(a){Yb=a.target};$a=function(b){if(!(0,h.isEnterAllowedElement)(a.element)&&
("pointerup"!==b.type||(0,y.checkIfSameElement)(Yb,b.target))&&X)if(C["default"].removeAllHandlers(),-1<["ELEMENT_CLICK","INPUT_TEXT_COMPLETION"].indexOf(d.navigation.nextStepTrigger)&&d.navigation.nextStepUrl&&("REDIRECT"===d.navigation.nextButtonAction&&c.windowRef.location.href!==d.navigation.nextStepUrl||"SHOW_ON_NEXT_PAGE"===d.navigation.nextButtonAction)){if(b=-1<n?n:va,b<d.total-1&&(Aa(d,ia[va+1]),d.navigation.openInNewTab&&fb()),"REDIRECT"===d.navigation.nextButtonAction){var f=(0,e.resolveUrlWithPlaceholders)(c.windowRef.location.href,
d.navigation.nextStepUrl);b=b<d.total-1?ab(f,g):f;v(b,la,k(),d.navigation.openInNewTab)}}else la()};a.isDom?("ELEMENT_CLICK"===d.navigation.nextStepTrigger&&((0,H.addClickListener)(a.element,$a,Mb),(0,h.addEventListener)(a.element,"contextmenu",$a)),"ELEMENT_HOVER"===d.navigation.nextStepTrigger&&((0,h.addEventListener)(a.element,"mouseenter",$a,!1),wb(a)),"ELEMENT_CLICK"!==d.navigation.nextStepTrigger&&"ELEMENT_HOVER"!==d.navigation.nextStepTrigger||(Ab=(0,h.addEnterKeyDownListener)(a.element,function(b){$a(b);
a.element.blur()}))):A["default"].addElementHandler(a.iframeSource,d.elementSelector,d.navigation.nextStepTrigger,$a)}("DIALOG"===d.type&&"BAR"===d.dialogViewType&&(this.contentEl.style.position="absolute",this.contentEl.classList.add("apt-dialog-bar"),this.contentEl.style.width="100%"),this.rootEl.style.display="block","DIALOG"!==d.type&&a&&(mb(this.contentEl,a.isVisible,g,d),void 0===a.isVisible&&q.logger.log("showContentStep - get isVisible undefined")),!ic&&d.autoHeight&&"DIALOG"===d.type&&t(this.contentEl),
"DIALOG"===d.type&&"BAR"===d.dialogViewType)?(p="bottom",V=0,"TOP"===d.barPosition&&(p="top",V=d.barOffset||0),P=Qa.positionElement(this.contentEl,a,"center",p,V,d.positionLeftDelta),"BOTTOM"===d.barPosition&&(this.contentEl.style.bottom=(d.barOffset||0)+"px",this.contentEl.style.left="0px")):d&&d.positionHorizontal&&d.positionVertical&&(P=Qa.positionElement(this.contentEl,a,d.positionHorizontal,d.positionVertical,d.positionTopDelta,d.positionLeftDelta,!1,!(0,z.getConfig)("tooltipDynamicReposition")&&
(db||g.preview)));if(null===P&&(P=a||"DIALOG"!==d.type?Pb(this.contentEl,a,d.positionTopDelta,d.positionLeftDelta):Qa.positionElement(this.contentEl,a,"center","center",d.positionTopDelta,d.positionLeftDelta,!1,S())),"TOOLTIP"===d.type)null===P?db&&q.logger.logInternalError(Error("Could not find linked element after attempting to position it, element might be not visible.\nLinked element css selector:"+d.elementSelector)):(this.contentEl.classList.add("apt-guide-tooltip"),ra(P,this.contentEl,d&&d.backgroundColor?
d.backgroundColor:"#ffffff"),a&&a.isDom&&(U=Nb.getFollowScrollHandler(a.element,this.contentEl),Nb.handleScrollEvent(L,U)),p=Qa.getElementDataPosition(a),Cb=hb(d,p,this.contentEl,a,this.rootEl,g));if(ib(this.rootEl,g,d,a),(0,E.removeCicularTabsWrapperListener)(Q),ba(g,d)&&(db||g.preview))p=function(){var a=f.contentEl.querySelector("[tabindex]");a&&(0,y.focusElement)(a)},Q="TOOLTIP"===d.type?(0,E.addCircularTabListenerForTooltips)(p,a&&a.element,l.id):(0,E.addCircularTabListener)(p,null,l.id);d&&
ea(d.id,d.sequenceNumber);p=(0,E.isSingleStepWithSnooze)(ia.length,g.activationType,g.snoozeButton,g.activationTypes);ia&&!p&&(D||1===ia.length)&&ma(N.COMPLETED_TRACKED);(0,E.listenToLinksClicks)(this.rootEl,g,{stepId:l.id});db&&D&&u.internalEventListener.dispatchEvent("engagementCompleted",(0,E.toExternalEventGuide)(pa,"Completed"))},beforeClose:function(){var b;if(b=!nb){b=ia[va];var c=!1;b=(b&&"HOTSPOT"!==b.type&&(c=b.overlay&&b.overlay.modal?0<b.overlayFill:g&&g.modal&&0<g.overlayFill),c)}b||
(oa.classList.remove("apt-vex"),oa.classList.remove("apt-non-scroll"),document.documentElement.classList.remove("apt-non-scroll"));ya();za();Nb.clearScrollEventListenerFromParents(L);(0,h.removeEventListener)(document,"keydown",m);sa(a);(0,E.removeCicularTabsWrapperListener)(Q);Fb&&Fb();nb&&!g.preview&&Oa&&Oa()}};f=function(){var a=V.open(R);Ba.push(a);tb&&tb(P)};b?setTimeout(f,800):f()}function Pb(a,b,c,e,f){function d(g,h){return Qa.positionElement(a,b,g,h,c,e,f,S())}return d("right","top")||d("center",
"top")||d("right","center")||d("right","bottom")||d("center","bottom")||d("left","bottom")||d("left","center")||d("left","top")}function Bb(){ya();za();Zb();fa();Ba=[];Db&&qb(Db);Db=void 0}function Xb(a,b){a&&(a.style.backgroundPosition="center",a.style.backgroundRepeat="no-repeat",a.style.backgroundSize="cover",a.style.backgroundImage="url("+b+")")}function Zb(){for(var a=0;a<Ba.length;a++)Ba[a].close();a=document.querySelectorAll(".vex-closing");0<a.length&&a.forEach(function(a){return T().removeChild(a)})}
function $b(a,b,c,e){ac(a,b,c,e);0<b.timeout&&(Jb=setTimeout(function(){lb()},b.timeout*h.MILLISEC))}var Wa=this,pb=m,Qa=a||new n["default"],db=!(l||B["default"].isEditorMode()),dc=l||!!B["default"].isEditorMode(),ic=!B["default"].isEditorMode()&&l,eb=15*h.MILLISEC,Nb=new r.ScrollEventBinder,Ea=b||void 0,zb=N.TAB_INDEX_START+1,jb={},Ua={},Ba=[],G=-1,Ga=0,va=0,ia=null,pa=null,Oa=null,Fb=null,tb=null,Va=null,Cb=void 0,Db=void 0,$a=null,Mb=null,Yb=null,Ab=null,ga=null,Vb=null,Wb=null,sb=void 0,Lb=void 0,
Kb=void 0,Tb=void 0,Ub=void 0,Ob=!1,nb=!0,Ka=void 0,La=void 0,Ma=void 0,Na=void 0,Eb=void 0,Gb=null,Ib=null,Jb=null;(0,w.addDOMReadyListener)(function(){document.querySelector(".apt-guide-overlay-top")?Ka=document.querySelector(".apt-guide-overlay-top"):(Ka=document.createElement("div"),Ka.className="apt-guide-overlay-top",Ka.style.display="none",Ka.style.visibility="hidden");document.querySelector(".apt-guide-overlay-bottom")?La=document.querySelector(".apt-guide-overlay-bottom"):(La=document.createElement("div"),
La.className="apt-guide-overlay-bottom",La.style.display="none",La.style.visibility="hidden");document.querySelector(".apt-guide-overlay-left")?Ma=document.querySelector(".apt-guide-overlay-left"):(Ma=document.createElement("div"),Ma.className="apt-guide-overlay-left",Ma.style.display="none",Ma.style.visibility="hidden");document.querySelector(".apt-guide-overlay-right")?Na=document.querySelector(".apt-guide-overlay-right"):(Na=document.createElement("div"),Na.className="apt-guide-overlay-right",
Na.style.display="none",Na.style.visibility="hidden");var a=T();a.appendChild(Ka);a.appendChild(La);a.appendChild(Ma);a.appendChild(Na)});this.hideOverlay=za;this.showOverlay=ua;this.showOverlayForStep=ib;this.showStepById=function(a){ia.forEach(function(b,c){b.id===a&&(Ga=c)});na()};this.findElementInPage=Ia;var ob=function(a){a.stopImmediatePropagation()};this.checkHasOverlayForCurrentStep=function(){if(ia){var a=ia[va];return!!a&&ba(pa,a)}return!1};this.getStepSettings=function(){return ia[va]};
var Rb=function(a,b,e){var f=!0;if(e)history.back();else{e=JSON.parse(c.windowRef.sessionStorage.getItem("apt.prevStepMap"));var g=null;if(e&&(g=e[a.id]),g)if(ya(),Ja(),c.windowRef.sessionStorage.setItem("apt.stepId",g.id),a=g.url,d(),a!==c.windowRef.location.href)f=!1,v((0,z.getConfig)("supportAutoHashChangeDetection")&&(0,h.isOnlyHashChanged)(c.windowRef.location.href,a)?a:(0,h.addParameterToUrl)(a,b.preview?"aptShowGuide":"aptGuideId",b.preview?"1":b.engagementId),Fa,k(),!1)}f&&Fa()};this.setHotspotStyle=
function(a){Za(a)};this.setDialogStyle=function(a,b){if(ga&&(a&&(ga.style.borderRadius=a.borderRadius+"px"),b)){if(b.backgroundImage)Xb(ga,b.backgroundImage);else{var c=ga;c&&(c.style.removeProperty("background-position"),c.style.removeProperty("background-repeat"),c.style.removeProperty("background-size"),c.style.removeProperty("background-image"))}b.backgroundColor&&(b.backgroundFill?(ga.style.backgroundColor=(0,h.hexToRgba)(b.backgroundColor,b.backgroundFill/100),(0,h.checkDarkColor)(b.backgroundColor)&&
ga.querySelector(".aptr-engagement-close-btn").classList.add("apt-engagement-close-btn-bright")):ga.style.backgroundColor=b.backgroundColor);!b.autoHeight&&b.height?(ga.style.height=b.height+"px",ga.querySelector(".apt-step-content").style.height=b.height+"px"):(ga.style.height="unset",ga.querySelector(".apt-step-content").style.height="unset");b.width&&(ga.style.width=b.width+"px");b.shadow&&b.shadow.enable?(0,E.setShadow)(ga,b.shadow):(ga.style.removeProperty("filter"),ga.style.removeProperty("-webkit-filter"));
c=b.zIndex;Vb.style.zIndex=c;ga.style.zIndex=c;Wb.style.zIndex=c}};this.editSkipButton=function(a,b){b&&b.remove();var c=Object.assign({},a.navigation.skipButton,{enabled:a.navigation.skipButton.visible});Wa.toggleSkip(a.navigation.skipButton.visible,c,a.navigation.skipButton.text)};this.editSnoozeButton=function(a,b,c){b&&b.remove();b=Object.assign({},a,{enabled:a.visible});Wa.toggleSnooze(a.visible,b,a.text,c)};this.setEngNavigationStyle=function(a){var b=a.guideSettings;a=a.stepStyle;if(a.navigation){var c=
b.steps[a.navigation.currentStepIndex],e=c.nextButton,f=c.backButton,d=1===a.navigation.stepLength,g=0===a.navigation.currentStepIndex&&!d,h=(0,H.isLastStep)(b.steps,c,a.navigation.currentStepIndex+1),p=!g&&!h&&!d,n=0<ga.querySelectorAll("#px-editor-v2-content").length,q=ga.querySelector((0,J.getSelectorByVersion)(ga,"apt-step-footer")),r=F["default"].getNavigationButtons(ga),k=ga.querySelector((0,J.getSelectorByVersion)(ga,"apt-step-footer-button")),l=ga.querySelector((0,J.getSelectorByVersion)(ga,
"apt-step-footer-next")),k=-1<k.className.indexOf("snooze")?ga.querySelectorAll((0,J.getSelectorByVersion)(ga,"apt-step-footer-button"))[1]:k,u=q.querySelector(".px-step-navigation-skip");Wa.editSkipButton(a,u);(u=q.querySelector(".px-step-navigation-skip"))&&(a.navigation.isFirstStepNonHotspot?u.style.display="block":u.style.display="none");var w=q.querySelector(".px-step-navigation-snooze");if(Wa.editSnoozeButton(a.navigation.snoozeButton,w,n),w=q.querySelector(".px-step-navigation-snooze"),w&&
(w.style.display=a.navigation.isFirstStepNonHotspot?"block":"none"),g&&!h?(l&&(l.innerText=a.navigation.startButton.text,e=b.guideSettings.startButton),k.style.display=g||!a.navigation.showPreviousButton?"none":"block"):p?(k.style.display=a.navigation.showPreviousButton?"block":"none",k.innerText=f.text,l.innerText=e.text,f=c.backButton):d?l&&(l.innerText=a.navigation.endButton.text,e=b.guideSettings.endButton):h&&(l.innerText=a.navigation.endButton.text,e=b.guideSettings.endButton,k.style.display=
a.navigation.showPreviousButton?"block":"none",k.innerText=a.navigation.restartButton.text,f=b.guideSettings.restartButton),q&&k&&l&&a&&a.navigation)d=bb(a.navigation.type),h=!a.showStepCounter&&!c.navigation.showNavigation,g=!c.navigation.showNavigation||d,h=d&&!(b.guideSettings.showStepCounter&&a.showStepCounter)||h,l.style.display=d?"none":"block",q.style.display=h?"none":"flex",r.style.display=g?"none":"",F["default"].setStepNavigationV2Style({guideSettings:b.guideSettings,stepSettings:c,nextButton:l,
prevButton:k,skipButtonDom:u,snoozeButtonDom:w,footerElement:q,stepPrevButtonStyleSettings:f,stepNextButtonStyleSettings:e,navigation:a.navigation})}};this.setEngStyleTag=function(a,b,c){if(ga){var e=ga.querySelectorAll("style");e&&e.forEach(function(a){a.remove()});a&&((0,y.addStyleTag)(ga,a.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os"),(0,y.addStyleTag)(ga,a.engagementCoreStyling,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"),(0,y.addStyleTag)(ga,a.overrideStyling,
"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"));b&&Sb(b,b,ga);(0,E.addGlobalSettings)(ga,a.engagementCoreStyling,void 0,c)}};this.positionDialogAndTooltipInCenter=function(){var a=this.getTargetContainer().getBoundingClientRect();Qa.positionElement(ga,{isDom:!1,elementRect:{left:0,top:0,height:a.height,width:a.width}},"center","center",0,0)};this.updateDialogViewPosition=function(a,b){"DIALOG"===a.type&&(ga.classList.toggle("px-dialog-bar","BAR"===a.position.dialogViewType),"BAR"===a.position.dialogViewType?
(ga.style.position="fixed",ga.style.width="100%",ga.style.left="0px","BOTTOM"===a.position.barPosition?(ga.style.bottom=(a.position.barOffset||0)+"px",ga.style.top="unset"):(ga.style.top=(a.position.barOffset||0)+10+"px",ga.style.bottom="unset")):(ga.style.bottom="unset",ga.style.right="unset",b?Wa.positionDialogAndTooltipInCenter():(ga.style.position="",ga.style.width=a.width+"px")))};this.updateTargetContainer=function(a){pb=a;pb.appendChild(Ka);pb.appendChild(La);pb.appendChild(Ma);pb.appendChild(Na)};
this.getTargetContainer=T;this.setStepNavigationVisibility=function(a){F["default"].setButtonsVisibility(ga,a)};this.setStepCounterVisibility=function(a,b){F["default"].setCounterVisibility(ga,a,b)};this.updateDialogStyle=function(a){var b=a.guideSettings,c=a.stepSettings,e=a.engStyle,f=a.elementData;a=a.dontReposition;ga&&ga.parentElement&&(Wa.setEngStyleTag(e&&e.styleTags,c.styleTag,c.padding),Wa.setDialogStyle(e,c),Wa.setEngNavigationStyle({guideSettings:b,stepStyle:c}),Wa.updateDialogViewPosition(c,
a),"TOOLTIP"===c.type&&f?ib(ga.parentElement,b.guideSettings,c,f,a):ib(ga.parentElement,b.guideSettings,c),!c.overlay||!c.overlay.blockElement)&&(b=ga.parentElement.querySelector(".apt-guide-target-block"))&&ga.parentElement.removeChild(b)};this.changePositionWithFallback=function(a){var b=a.elementData,c=a.stepSettings;a=a.callback;var e=parseInt(c.position.positionTopDelta)||0,f=parseInt(c.position.positionLeftDelta)||0,d=Wa.changePosition(b,c.position.positionHorizontal,c.position.positionVertical,
e,f),c=!d;if(ga&&b&&!d)var g=b.element,d=ga.getBoundingClientRect(),h=g.getBoundingClientRect(),g=Math.abs(d.left-h.left),d=Math.abs(d.right-h.right),d=g>d?"left":g===d?"center":"right",h=b.element,g=ga.getBoundingClientRect(),p=h.getBoundingClientRect(),h=Math.abs(g.top-p.top),g=Math.abs(g.bottom-p.bottom),d=Wa.changePosition(b,d,h>g?"top":h===g?"center":"bottom",e,f);a&&a(d,c)};this.updateStepStyleForDialog=function(a){var b=a.stepSettings,c=a.callback,e=a.skipReposition;Wa.updateDialogStyle({guideSettings:a.guideSettings,
stepSettings:b,engStyle:a.engStyle,elementData:null,dontReposition:a.dontReposition});e||Wa.changePositionWithFallback({elementData:null,stepSettings:b,callback:c})};this.updateStepStyle=function(a,b,c,e,f,d,g,h){var p=g||"BAR"===b.position.dialogViewType,n=function(e){R.updateTooltipAndHotspotStyle.apply(Wa,[{guideDrawerLocalVariables:{dialog:Ba,currentStepSettings:Va,setTooltipArrowPosition:ra,setHotspotStyle:Za},elementData:e,guideSettings:a,stepSettings:b,engStyle:c,callback:d,skipReposition:p,
dontReposition:g}])};b?("DIALOG"===b.type?Wa.updateStepStyleForDialog({guideSettings:a,stepSettings:b,engStyle:c,callback:d,dontReposition:g,skipReposition:p}):h?(f=(0,R.getDummyElementCenter)(pb),n(f)):Ia(f,b.type,n,void 0,!0),ga&&F["default"].setCounterVisibility(ga,e,a.guideSettings.showStepCounter&&b.showStepCounter)):d&&d()};this.showStep=function(a,b,c,e,f,d,g,h,p,n,q){Oa=d;g&&(Fb=g);q&&(tb=q);ia=p;p.sort(function(a,b){return a.sequenceNumber-b.sequenceNumber});d=yb(p);p=F["default"].populateNavigationFlags(p,
d);p.forEach(function(a){a.sequenceNumber===f.sequenceNumber&&(f.showStepCounter=a.showStepCounter,f.isFirstStepNonHotspot=a.isFirstStepNonHotspot)});d=-1;g=!1;for(q=0;q<p.length;q++)p[q].id===f.id&&(d=q),"BADGE"===p[q].type&&(g=!0);return g&&(--d,--f.total),oa(a,b,c,e,f,h,d,n)};this.changePosition=function(a,b,c,e,f){var d=null;if(Ba[0]){if((d=Qa.positionElement(Ba[0].contentEl,a,b,c,e,f,!1,S()))&&0<d.length)return a&&ra([b,c],Ba[0].contentEl,Va.backgroundColor),d}else{var g=document.querySelector(".apt-hotspot-element");
if(g&&(d=Qa.positionElement(g,a,b,c,e,f,!0,S),0<d.length))return d}return null};this.changeBarPosition=function(a,b){var c="bottom",e=0;"TOP"===a&&(c="top",e=b);Qa.positionElement(Ba[0].contentEl,null,"center",c,e,0);"BOTTOM"===a&&(Ba[0].contentEl.style.bottom=b+"px")};var ac=function(a,b,e,f){Ob=!0;f&&(Gb=f);a.sort(function(a,b){return a.sequenceNumber-b.sequenceNumber});f=yb(a);a=F["default"].populateNavigationFlags(a,f);Zb();fa();Ba=[];G=-1;Ga=0;tb=Fb=void 0;Oa=function(a){e(a);Ob=!1};ia=a;pa=
b;va=0;ya();(0,E.addTabbableEnterListener)();var d=c.windowRef.sessionStorage.getItem("apt.stepId")||b.startStepId;d&&(Ga=a=a.findIndex(function(a){return a.id===d}),G=a-1);c.windowRef.sessionStorage.removeItem("apt.stepId");c.windowRef.sessionStorage.removeItem("apt.guideId");ha();!d&&sessionStorage.setItem("aptCurrentGuideUrl",c.windowRef.location.href);na(d?1E3:0)};this.playGuide=function(a,b,c,e){b.activationType===N.ACTIVATION_TYPE_AUTOMATIC||b.activationTypes&&-1<b.activationTypes.indexOf(N.EDITOR_ACTIVATION_TYPE_AUTOMATIC)?
0<b.delay?Ib=setTimeout(function(){$b(a,b,c,e)},b.delay*h.MILLISEC):$b(a,b,c,e):ac(a,b,c,e)};this.toggleSkip=function(a,b,c){if(0<Ba.length){var e=Ba[0].contentEl,e=e.querySelector((0,J.getSelectorByVersion)(e,"apt-step-footer"));F["default"].toggle(e,a,b,c,y.disableFocusOnClick,Lb)}};this.toggleSnooze=function(a,b,c,e){if(0<Ba.length){var f=Ba[0].contentEl,f=f.querySelector((0,J.getSelectorByVersion)(f,"apt-step-footer"));F["default"].toggleSnooze(f,a,b,c,y.disableFocusOnClick,e,Kb)}};this.showAll=
function(a,b){a.sort(function(a,b){return a.sequenceNumber-b.sequenceNumber});ia=a;for(var c=0;c<a.length;c++)!function(c){wa(a[c])&&(0,x.findInAll)(a[c].elementSelector,(0,p.getRegisteredIframes)(),function(e){if(e){var f={};e.element?(f.isDom=!0,f.element=e.element,oa(f,b.footer,a[c].content,b,a[c],!0,c,!0)):e.iframeData&&(f.isDom=!1,A["default"].getElementLocation(e.iframeData,a[c].elementSelector,function(e){e&&1===e.length&&(f.elementRect=e[0],oa(f,b.footer,a[c].content,b,a[c],!0,c,!0))}))}})}(c)};
this.isRunning=function(){return Ob};this.hideAll=function(){Bb()};this.setDefaultPaddingTop=function(b){a.setDefaultTopOffset((0,z.getConfig)("dockMapper")?0:b)};this.clearStepRedirectData=function(){Ja()};this.close=function(a){lb(void 0,void 0,a)}};a.GuideDrawerIframe=b;a.getSelectorByVersion=J.getSelectorByVersion},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.initKnowledgeCenterWrapper=a.aptReady=a.aptNotReady=a.aptExternal=void 0;var l=b(1),d=b(4),t=(m=b(100))&&m.__esModule?
m:{"default":m},k=b(68),v=b(49),h=b(30),n=b(28),f=b(0),c=[],g=function(){t["default"].call([arguments])};g.validateEngagementSecurity=function(a,b,c,d){if(!(0,f.isFunction)(d))throw"cannot run validation without callback function";if((0,f.isEmptyArr)(c))throw"cannot run validation for empty engagement array";(0,n.validateEngagements)(a,b,c,d)};a.aptExternal=g;a.aptNotReady=function(){(0,l.getConfig)("enableTag")&&c.push(arguments)};a.aptReady=function(){for(;c&&0<c.length;)t["default"].callCommand(c.shift());
d.windowRef[d.aptrinsicGlobalObjName]=g};a.initKnowledgeCenterWrapper=function(a,b,c){"API"===(0,l.getConfig)("fetchKcType")||(0,h.setIsNewAPI)(!0);if((0,h.getIsNewAPI)()){if(!(0,l.isIframe)()){var f="API"===(0,l.getConfig)("fetchKcType");(!f||f&&(0,h.getKcIsShownViaAPI)())&&(0,v.initKnowledgeCenter)(a,b,null,!1,c)}}else if(!(0,l.isIframe)()){var f="automatic"===(0,l.getConfig)("fetchKcType"),d=null;f||h.KcSessionStorage.getIsDefaultKc()||(d=h.KcSessionStorage.getKcId());(f||!f&&d)&&(0,k.initKnowledgeCenter)(a,
b,d,!1,c)}}},function(m,a,b){function l(a){return-1<["TOOLTIP","HOTSPOT"].indexOf(a)}function d(a){return l(a.type)&&a.elementSelector||"DIALOG"===a.type&&("BAR"===a.dialogViewType&&a.barPosition||a.positionHorizontal&&a.positionVertical)}function t(a,b){var c=void 0,f=a.guideBranching;if(f){var d=f.branchConditionList;d&&0<d.length&&(c=f.branchConditionList.find(b).nextStepId)}return c}Object.defineProperty(a,"__esModule",{value:!0});a.isMappedStepType=l;a.isStepLinked=d;a.getLinkedStepFromIndex=
function(a,b){for(var c=b,f=a[c];c<a.length&&!d(f);)f=a[++c];return{step:f,index:c}};a.getPrevLinkedStepFromIndex=function(a,b){for(var c=b,f=a[c];-1<c&&!d(f);)f=a[--c];return{step:f,index:c}};a.getNextStepIdByCondition=t;a.getBranchNextStepIdForCustomButton=function(a,b,c){return t(a[b],function(a){return a.elementId===c&&"CUSTOM_BUTTON"===a.type})};a.getNextStepForNavigation=function(a,b,c){c=(c=a[c])?c.id:"";return t(a[b],function(a){return"STANDARD_NAVIGATION"===a.type})||c};a.getBranchingSkipToStepId=
function(a,b){return t(a[b],function(a){return"TOOLTIP_NOT_FOUND"===a.type})};a.hasGuideBranching=function(a){return a.guideBranching&&a.guideBranching.branchConditionList&&0<a.guideBranching.branchConditionList.length};a.isLastStep=function(a,b,c){if(a){a=c>=a.length||1===a.length;c=b.navigation.nextButtonAction===k.END_GUIDE;var f=!1,d=!1;b.customAction&&0<b.customAction.length&&b.customAction.forEach(function(a){a.actionConfigs?a.actionConfigs.forEach(function(a){a.actionType===k.NAVIGATION&&(a.navigationType!==
k.GO_TO_STEP&&a.navigationType!==k.NEXT||(d=!0),a.navigationType===k.END&&(f=!0))}):d=!0});b=b.navigation.showNavigation||void 0===b.navigation.showNavigation;return a||c||f||!b&&!d}return!1};a.addClickListener=function(a,b,c){(0,v.getConfig)("elementClickToPointer")?((0,h.addEventListener)(a,"pointerdown",c),(0,h.addEventListener)(a,"pointerup",b)):(0,h.addEventListener)(a,"click",b)};a.removeClickListener=function(a,b,c){(0,v.getConfig)("elementClickToPointer")?((0,h.removeEventListener)(a,"pointerdown",
c),(0,h.removeEventListener)(a,"pointerup",b)):(0,h.removeEventListener)(a,"click",b)};a.buildHotspotStyle=function(a){var b=a.hotspotSettings,c=n.eventTrackData[f.cacheGet](n.productIdParameter)&&n.eventTrackData[f.cacheGet](n.productIdParameter).startsWith("AP-WVMZ1DVKRDJD"),d=".apt-hotspot-dynamic {",h=".apt-hotspot-dynamic:before {";a=a.zIndex||a.zindex;return c&&(a=9E3),a=isNaN(a)||null===a?2147483647:a,d+="z-index: "+a+";",h+="z-index: "+a+";",d+="background-color: "+b.spotColor+";",h+="box-shadow: 0px 0px 2px 2px "+
b.animationColor+";",d+="height: "+b.spotSize+"px; width: "+b.spotSize+"px;",h+="height: "+b.spotSize+"px; width: "+b.spotSize+"px;",h+="animation:apt-hotspot-active "+b.animationDuration+"ms "+(b.animationCount?b.animationCount:"infinite")+" linear; animation-delay: "+(b.animationDelay?b.animationDelay:"0")+"ms;",d+="}",h+="}",d+" "+h};a.removeStyleAttributesFromHTML=function(a){return a.replace(/style\s*=\s*"[^"]*"/gi,"")};a.replaceStepIdPlaceholder=function(a,b){try{var f=document.createElement("div");
f.innerHTML=b;var d=f.querySelector(".px-step-style-tag-csp");return d.textContent=d.textContent.replace(/PX_STEP_ID_PLACEHOLDER/g,a),f.innerHTML}catch(h){return c.logger.log("replaceStepIdPlaceholder - Error while replacing step id placeholder in html",h),b}};var k=b(73),v=b(1),h=b(0),n=b(4),f=b(5),c=b(3)},function(m,a,b){function l(){throw Error("setTimeout has not been defined");}function d(){throw Error("clearTimeout has not been defined");}function t(a){if(c===setTimeout)return setTimeout(a,
0);if((c===l||!c)&&setTimeout)return c=setTimeout,setTimeout(a,0);try{return c(a,0)}catch(b){try{return c.call(null,a,0)}catch(f){return c.call(this,a,0)}}}function k(a){if(g===clearTimeout)return clearTimeout(a);if((g===d||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(a);try{return g(a)}catch(b){try{return g.call(null,a)}catch(c){return g.call(this,a)}}}function v(){r&&q&&(r=!1,q.length?w=q.concat(w):u=-1,w.length&&h())}function h(){if(!r){var a=t(v);r=!0;for(var b=w.length;b;){q=w;for(w=
[];++u<b;)q&&q[u].run();u=-1;b=w.length}q=null;r=!1;k(a)}}function n(a,b){this.fun=a;this.array=b}function f(){}var c,g;m=m.exports={};try{c="function"==typeof setTimeout?setTimeout:l}catch(p){c=l}try{g="function"==typeof clearTimeout?clearTimeout:d}catch(p){g=d}!0;var q,w=[],r=!1,u=-1;m.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];w.push(new n(a,b));1!==w.length||r||t(h)};n.prototype.run=function(){this.fun.apply(null,
this.array)};m.title="browser";m.browser=!0;m.env={};m.argv=[];m.version="";m.versions={};m.on=f;m.addListener=f;m.once=f;m.off=f;m.removeListener=f;m.removeAllListeners=f;m.emit=f;m.prependListener=f;m.prependOnceListener=f;m.listeners=function(a){return[]};m.binding=function(a){throw Error("process.binding is not supported");};m.cwd=function(){return"/"};m.chdir=function(a){throw Error("process.chdir is not supported");};m.umask=function(){return 0}},function(m,a,b){(function(l){function d(){var a=
(0,h.a)();return a.className=h.B,(0,h.s)([a],"hidden"),a}function t(a,b){var d=b?a.offsetWidth:a.offsetHeight;return{size:d,x:b?d:0,y:b?0:d}}function k(a,b,d){if(2>d.length||null===a)return b;switch(a){case "top":case "bottom":b=d[0];var h=d[d.length-1],n="top"===a;d=b.top;var r=h.bottom,k=n?b.left:h.left;b=n?b.right:h.right;return{top:d,bottom:r,left:k,right:b,width:b-k,height:r-d};case "left":case "right":var p=Math.min.apply(Math,d.map(function(a){return a.left})),l=Math.max.apply(Math,d.map(function(a){return a.right}));
d=d.filter(function(b){return"left"===a?b.left===p:b.right===l});b=d[0].top;d=d[d.length-1].bottom;return{top:b,bottom:d,left:p,right:l,width:l-p,height:d-b};default:return b}}function m(a,b){return!a||!b||a.top!==b.top||a.right!==b.right||a.bottom!==b.bottom||a.left!==b.left}Object.defineProperty(a,"__esModule",{value:!0});a.sticky=a.inlinePositioning=a.followCursor=a.delegate=a.createSingleton=a.animateFill=a.roundArrow=a.hideAll=a["default"]=a.createTippyWithPlugins=void 0;var h=b(108);Object.defineProperty(a,
"createTippyWithPlugins",{enumerable:!0,get:function(){return h.m}});Object.defineProperty(a,"default",{enumerable:!0,get:function(){return h.t}});Object.defineProperty(a,"hideAll",{enumerable:!0,get:function(){return h.l}});Object.defineProperty(a,"roundArrow",{enumerable:!0,get:function(){return h.R}});b(53);var n={mouseover:"mouseenter",focusin:"focus",click:"click"};a.animateFill={name:"animateFill",defaultValue:!1,fn:function(a){var b=a.popperChildren,g=b.tooltip,n=b.content,k=a.props.animateFill&&
!h.b?d():null;return{onCreate:function(){k&&(a.popperChildren.backdrop=k,g.insertBefore(k,g.firstElementChild),g.setAttribute("data-animatefill",""),g.style.overflow="hidden",a.setProps({animation:"shift-away",arrow:!1}))},onMount:function(){if(k){var a=g.style.transitionDuration,b=Number(a.replace("ms",""));n.style.transitionDelay=Math.round(b/10)+"ms";k.style.transitionDuration=a;(0,h.s)([k],"visible");"production"!==l.env.NODE_ENV&&((0,h.w)("absolute"!==getComputedStyle(k).position,"The `tippy.js/dist/backdrop.css` stylesheet has not been\n              imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."),
(0,h.w)("none"===getComputedStyle(g).transform,"The `tippy.js/animations/shift-away.css` stylesheet has not\n              been imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."))}},onShow:function(){k&&(k.style.transitionDuration="0ms")},onHide:function(){k&&(0,h.s)([k],"hidden")},onAfterUpdate:function(){a.popperChildren.backdrop=k}}}};a.createSingleton=function(a,b,d){void 0===b&&(b={});void 0===d&&(d=[]);"production"!==l.env.NODE_ENV&&(0,h.e)(!Array.isArray(a),
["The first argument passed to createSingleton() must be an array of tippy instances. The passed value was",String(a)].join(" "));d=b.plugins||d;a.forEach(function(a){a.disable()});var n,k,r=(0,h._)({},h.d,{},b).aria,u=!1,p=a.map(function(a){return a.reference});return(0,h.t)((0,h.a)(),(0,h._)({},b,{plugins:[{fn:function(b){function c(a){if(n){var f="aria-"+n;a&&!b.props.interactive?k.setAttribute(f,b.popperChildren.tooltip.id):k.removeAttribute(f)}}return{onAfterUpdate:function(a,c){var e=c.aria;
void 0!==e&&e!==r&&(u?(u=!0,b.setProps({aria:null}),u=!1):r=e)},onDestroy:function(){a.forEach(function(a){a.enable()})},onMount:function(){c(!0)},onUntrigger:function(){c(!1)},onTrigger:function(d,g){var e=g.currentTarget,h=p.indexOf(e);e!==k&&(k=e,n=r,b.state.isVisible&&c(!0),b.popperInstance.reference=e,b.setContent(a[h].props.content))}}}}].concat(d),aria:null,triggerTarget:p}))};a.delegate=function(a,b,d){function q(a){if(a.target){var f=a.target.closest(m);if(f){var d=f.getAttribute("data-tippy-trigger")||
b.trigger||h.d.trigger;(0,h.i)(d,n[a.type])&&(a=(0,h.t)(f,e))&&(t=t.concat(a))}}}function k(a,b,c,e){void 0===e&&(e=!1);a.addEventListener(b,c,e);p.push({node:a,eventType:b,handler:c,options:e})}function r(a){a=a.reference;k(a,"mouseover",q);k(a,"focusin",q);k(a,"click",q)}function u(){p.forEach(function(a){a.node.removeEventListener(a.eventType,a.handler,a.options)});p=[]}void 0===d&&(d=[]);"production"!==l.env.NODE_ENV&&(0,h.e)(!(b&&b.target),"You must specity a `target` prop indicating a CSS selector string matching the target elements that should receive a tippy.");
d=b.plugins||d;var p=[],t=[],m=b.target,v=(0,h.r)(b,["target"]),y=(0,h._)({},v,{plugins:d,trigger:"manual"}),e=(0,h._)({},v,{plugins:d,showOnCreate:!0});a=(0,h.t)(a,y);return(0,h.n)(a).forEach(function(a){var b=a.destroy;a.destroy=function(a){void 0===a&&(a=!0);a&&t.forEach(function(a){a.destroy()});t=[];u();b()};r(a)}),a};a.followCursor={name:"followCursor",defaultValue:!1,fn:function(a){function b(a){Object.keys(a).forEach(function(b){I[b]=(0,h.u)(a[b],I[b])})}function d(){var b="manual"===a.props.trigger.trim()||
null!==J&&!(0===J.clientX&&0===J.clientY);return a.props.followCursor&&b}function n(){return h.f.isTouch||"initial"===a.props.followCursor&&a.state.isVisible}function k(){a.popperInstance&&D&&(a.popperInstance.reference=D)}function r(){if(d()||a.props.placement!==I.placement){var b=I.placement,c=b.split("-")[1];F=!0;a.setProps({placement:d()&&c?b.replace(c,"start"===c?"end":"start"):b});F=!1}}function l(){a.popperInstance&&d()&&(n()||!0!==a.props.followCursor)&&a.popperInstance.disableEventListeners()}
function p(){d()&&v(B)}function m(){z.removeEventListener("mousemove",v)}function v(b){var c=B=b,d=c.clientX,g=c.clientY;if(a.popperInstance&&a.state.currentPlacement){b=(0,h.h)(b.target,function(a){return a===y});var p=y.getBoundingClientRect(),c=a.props.followCursor,k="horizontal"===c,r="vertical"===c,l=(0,h.i)(["top","bottom"],(0,h.j)(a.state.currentPlacement)),c=t(e,l),u=c.size,w=c.x,z=c.y;!b&&a.props.interactive||(null===D&&(D=a.popperInstance.reference),a.popperInstance.reference={referenceNode:y,
clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:l?u:0,height:l?0:u,top:(k?p.top:g)-z,bottom:(k?p.bottom:g)+z,left:(r?p.left:d)-w,right:(r?p.right:d)+w}}},a.popperInstance.update());n()&&m()}}var B,y=a.reference,e=a.popper,D=null,z=(0,h.g)(a.props.triggerTarget||y),J=null,F=!1,I=a.props;return{onAfterUpdate:function(a,e){F||(b(e),e.placement&&r());e.placement&&l();requestAnimationFrame(p)},onMount:function(){p();l()},onShow:function(){"manual"===a.props.trigger.trim()&&(B=
J={clientX:0,clientY:0},r(),d()?z.addEventListener("mousemove",v):k())},onTrigger:function(a,b){J||((0,h.c)(b)&&(J={clientX:b.clientX,clientY:b.clientY},B=b),r(),d()?z.addEventListener("mousemove",v):k())},onUntrigger:function(){a.state.isVisible||(m(),J=null)},onHidden:function(){m();k();J=null}}}};a.inlinePositioning={name:"inlinePositioning",defaultValue:!1,fn:function(a){var b=a.reference;return{onHidden:function(){a.props.inlinePositioning&&(a.popperInstance.reference=b)},onShow:function(){a.props.inlinePositioning&&
(a.popperInstance.reference={referenceNode:b,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return k(a.state.currentPlacement&&(0,h.j)(a.state.currentPlacement),b.getBoundingClientRect(),(0,h.k)(b.getClientRects()))}})}}}};a.sticky={name:"sticky",defaultValue:!1,fn:function(a){function b(){var l=!0===a.props.sticky||"reference"===a.props.sticky?(a.popperInstance?a.popperInstance.reference:d).getBoundingClientRect():null,p=!0===a.props.sticky||"popper"===a.props.sticky?h.getBoundingClientRect():
null;(l&&m(n,l)||p&&m(k,p))&&a.popperInstance.update();n=l;k=p;a.state.isMounted&&requestAnimationFrame(b)}var d=a.reference,h=a.popper,n=null,k=null;return{onMount:function(){a.props.sticky&&b()}}}}}).call(a,b(66))},function(m,a,b){function l(a){var b=(0,e.getKcConfig)();if(b){var c=b.kcId;R=c;t(function(){U=!1;L.botEventEmmiter.dispatchEvent("WIDGET_LOADED",a,{kcId:c})},function(b){U=!1;L.botEventEmmiter.dispatchEvent("WIDGET_FAILED",a,{kcId:c,code:500,message:b})})}}function d(a,b,c,d,f){c=!1;
var g=V!==b.kcId;((d||V)&&g&&(z.KnowledgeCenterManager.clearWidgetLoadQueue(),(0,e.setKcConfig)({})),V=b.kcId,(0,e.setKcConfig)(b),a||g)?(z.KnowledgeCenterManager.initWidget({apiKey:B.eventTrackData.data[B.productIdParameter],aptId:B.eventTrackData.data[B.aptrinsicIdParam],initialConfig:b},!1,Q,f),R?(c=!0,l(f)):R!==V?(c=!1,z.KnowledgeCenterManager.registerAfterWidgetLoad(function(){return l(f)})):U=!1):g?(c=!0,U=!1):(c=!0,t(function(){U=!1;L.botEventEmmiter.dispatchEvent("WIDGET_LOADED",f,{kcId:V})},
function(a){U=!1;L.botEventEmmiter.dispatchEvent("WIDGET_FAILED",f,{kcId:V,code:500,message:a})}));c&&z.KnowledgeCenterManager.updateWidgetConfig()}function t(a,b){z.KnowledgeCenterManager.fetchEntriesAndSendToWidget(B.eventTrackData.data[B.productIdParameter],B.eventTrackData.data[B.aptrinsicIdParam],a,b)}function k(){R="";z.KnowledgeCenterManager.removeWidget(V);(0,P.removeEmbeddedListeners)();V="";(0,e.setKcConfig)({});U=!1}function v(a,b,c,d){var f=d.shouldRemoveWidget,g=d.shouldJustClean,h=d.shouldDispatchEvent;
d.shouldRemoveHandlers&&ca.removeAllHandler();f?k():g&&(V="",(0,e.setKcConfig)({}),z.KnowledgeCenterManager.cleanWidget());U=!1;h&&L.botEventEmmiter.dispatchEvent("WIDGET_FAILED",c,{kcId:a,code:b,message:"Could not fetch knowledge center with provided id"})}function h(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]&&arguments[3],f=arguments[4],g=y.UserData.isUser(),h=M.UUIDGenerator.generateV4Id();(d&&Y&&Z&&(L.botEventEmmiter.addListener("WIDGET_LOADED",Y,h),L.botEventEmmiter.addListener("WIDGET_FAILED",
Z,h)),U&&(F.logger.log(c+" is in progress"),v(V,500,h,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!1,shouldRemoveHandlers:!1})),!(0,e.getConfig)("widgetEnabled")||!g||D["default"].isPreview()&&D["default"].getAdditionalDetails().kcId||U)||(U=!0,g=B.eventTrackData.data[B.productIdParameter],(0,z.fetchKnowledgeCenterConfig)(g,c,function(e){if(e){if(S=e.kcId,!0===e.invalidate)return void k();var g=Object.assign({},e);if(!(0,K.validateConfigChecksum)(S,g))return void v(c,500,h,{shouldRemoveWidget:!0,
shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});x(e,a,d,h)}else b?U=!1:v(c,500,h,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});f&&f(e)},function(a){v(c,404,h,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0})}))}function n(a,b,c){var d=c.onDone,f=c.onError;c="API"===(0,e.getConfig)("fetchKcType");U&&F.logger.log(a+" is in progress");c&&(Y=function(a){a=a.kcId;b&&z.KnowledgeCenterManager.open();
U=!1;d&&"function"==typeof d&&d({id:a})},Z=function(a){var b=a.kcId,c=a.code;a=a.message;U=!1;f&&"function"==typeof f&&f({id:b,code:c,message:a});ca.removeAllHandler()},h(!0,!0,a,!0))}function f(a,b,c,d){var f=(0,e.getKcConfig)()||{},g=f.kcId;0<Object.keys(f).length&&g?(a?z.KnowledgeCenterManager.open():z.KnowledgeCenterManager.close(d),"function"==typeof b&&b({kcId:g})):"function"==typeof c&&c({kcId:g,code:404,message:"Not bot was found with id provided"})}function c(){var a=document.querySelector("#apt-widget");
return a?a&&!a.classList.contains("apt-hidden"):null}function g(a){try{var b=document.querySelector("#apt-widget"),e=c();b&&a!==e&&(a?b.classList.remove("apt-hidden"):b.classList.add("apt-hidden"))}catch(d){F.logger.log("error in togglerBotContainer "+d)}}function q(){var a=document.querySelector("#apt-widget");return a?!a.querySelector(".apt-widget.apt-widget-window"):!1}function w(){clearInterval(T);T=null;clearTimeout(X);X=null}function r(a,b){try{w(),q()?(b(),w()):(T=setInterval(function(){q()&&
(b(),w())},200),X=setTimeout(function(){w();v(V,500,a,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});F.logger.logInternalError(Error("onWidgetClosed - error - could not close the widget in less than 3 seconds"))},3E3))}catch(c){w(),v(V,500,a,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,shouldRemoveHandlers:!0}),F.logger.log("onWidgetClosed - error"+c)}}function u(a){return"apt-widget"===a.id||1===a.nodeType&&a.querySelector("#apt-widget")}function p(a){var b=!1,c=!1;return a.some(function(a){return a.addedNodes.forEach(function(a){var b=
3===a.nodeType;c||b||(c=u(a))}),c||a.removedNodes.forEach(function(a){var c=3===a.nodeType;b||c||(b=u(a))}),!c&&b})}function x(a,b,c,f){function g(){d(b,a,null,c,f)}var h=a.windowSettings.embedKCSettings.elementSelector,n=function(e,d){var g=p(e);g&&k();(g||d)&&W(b,a,h,c,f)};if("embedded"===(0,e.getConfig)("kcDisplayType")){var q="injection"===(0,e.getConfig)("kcPositionType");V!==a.kcId&&(U=!1,z.KnowledgeCenterManager.cleanWidget(),q&&(R="",z.KnowledgeCenterManager.removeWidget()));q=z.KnowledgeCenterManager.checkIsInitialized();
z.KnowledgeCenterManager.checkIsInitialized()||z.KnowledgeCenterManager.checkIsInProgress()?q&&c&&(ca.removeAllHandler(),(0,P.removeEmbeddedListeners)(),A(h,g,function(){ca.addHandlers(n,f)})):((0,P.removeEmbeddedListeners)(),ca.removeAllHandler(),A(h,g,function(){ca.addHandlers(n,f)}))}else g()}function A(a,b,c){(0,O.addDOMReadyListener)(function(){(0,E.findInAll)(a,(0,N.getRegisteredIframes)(),function(a){a&&b(a);c&&c(a)})})}Object.defineProperty(a,"__esModule",{value:!0});a.removeWidget=k;a.initKnowledgeCenter=
h;a.fetchKcByApi=function(a,b){if((0,I.isObject)(a)){var c=function(){Q=!1;n(null,b,{onDone:f,onError:d})},e=a.id,d=a.onError,f=a.onDone,g=a.fetchDefault;e?(Q=!0,n(e,b,{onDone:f,onError:function(a){!0===g?c():"function"==typeof d&&d(a)}})):!0===g&&c()}};a.toggleKcBot=f;var B=b(4),y=b(24),e=b(1),D=(m=b(14))&&m.__esModule?m:{"default":m},z=b(30),J=b(11),F=b(3),I=b(0),C=(m=b(31))&&m.__esModule?m:{"default":m},E=b(19),N=b(7),P=b(55),L=b(84),O=b(9),M=b(13),K=b(56),H=b(17),R=void 0,V=void 0,U=!1,Q=!1,S=
"",T=void 0,X=void 0,Y=void 0,Z=void 0,ca=new function(){var a=void 0,b=void 0;this.removeAllHandler=function(){b&&(C["default"].removeObserver(b),b=null);a&&J.internalEventListener.removeListener("pageview",a)};this.addHandlers=function(c,d){a=function(){if("injection"===(0,e.getConfig)("kcPositionType")){var a=(z.KnowledgeCenterManager.getEmbeddedMappedElement()||{element:null}).element;try{!a||a&&!(0,H.elementContainsChild)((0,e.getBody)(),a)?k():g(!1)}catch(b){k()}}else f(!1),g(!1);c([],!0)};
J.internalEventListener.addListener("pageview",a);b=C["default"].addObserver(function(){return!0},c,function(a,b){return p(a)||b})}},W=(0,I.debounce)(function(a,b,h,p,n){try{var q=(0,e.getConfig)("kcPositionType");(0,P.findWidgetContainer)(h.cssSelector,n,{isNewAPI:!1,positionType:q,fetchKcType:(0,e.getConfig)("fetchKcType"),kcId:b.kcId},{onClick:z.KnowledgeCenterManager.toggleBot,onDone:function(e){S===b.kcId&&(z.KnowledgeCenterManager.updateEmbeddedMappedElement(e),z.KnowledgeCenterManager.checkIsInitialized()||
z.KnowledgeCenterManager.checkIsInProgress()||p?z.KnowledgeCenterManager.checkIsInitialized()&&!1===c()&&(f(!1),r(n,function(){g(!0)})):d(a,b,e,p,n))},onFailed:function(){S===b.kcId&&(p?k():(f(!1),g(!1)))}})}catch(l){clearInterval(T),T=null,F.logger.log("error in updateWidget "+l)}},500)},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function a(b,d){for(var f=0;f<d.length;f++){var c=d[f];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);
Object.defineProperty(b,c.key,c)}}return function(b,d,f){return d&&a(b.prototype,d),f&&a(b,f),b}}();m=b(5);var d=b(1),t=window.localStorage,k=new m.LocalCache;b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return l(a,null,[{key:"storeBadges",value:function(a,b,d){var c=JSON.parse(t.getItem("px.badge"))||{};c.sid!==a&&(c={bgl:[]});c.sid=a;c.bgl=d?b:c.bgl.concat(b);t.setItem("px.badge",JSON.stringify(c))}},{key:"fetchBadges",value:function(a){if(!(0,
d.isIframe)()){var b=JSON.parse(t.getItem("px.badge"))||{};return b.sid===a?b.bgl:[]}}},{key:"storeBadge",value:function(a,b){var d=this.fetchBadges(a),c=b.badgeSettings.id,d=d.filter(function(a){return a.badgeSettings.id!==c});d.push(b);this.storeBadges(a,d,!0)}},{key:"clearAll",value:function(){t.removeItem("px.badge")}},{key:"getBadgesOfIframe",value:function(a){var b=k.getKey("iframeBadges");return b?b[a]?b[a]:[]:(k.setdata("iframeBadges",{}),[])}},{key:"addBadgeToIframe",value:function(b,d){-1<
a.getAllBadgesInIframes().indexOf(d)&&a.removeBadgeFromIframe(d);var f=k.getKey("iframeBadges");if(f||k.setdata("iframeBadges",{}),f=k.getKey("iframeBadges"),f[b]){var c=f[b];-1===c.indexOf(d)&&c.push(d);f[b]=c}else f[b]=[d];k.setdata("iframeBadges",f)}},{key:"getIframeIdOfBadge",value:function(a){var b=k.getKey("iframeBadges"),d=void 0;if(b)for(var c=Object.keys(b),g=0;g<c.length;g+=1){var q=c[g],l=b[q];if(0<l.length&&-1<l.indexOf(a)){d=q;break}}return d}},{key:"removeBadgeFromIframe",value:function(a){var b=
k.getKey("iframeBadges");b||k.setdata("iframeBadges",{});b=k.getKey("iframeBadges");Object.keys(b).forEach(function(d){var c=b[d],g=c.indexOf(a);-1<g&&c.splice(g,1);b[d]=c});k.setdata("iframeBadges",b)}},{key:"getAllBadgesInIframes",value:function(){var a=k.getKey("iframeBadges");return(a?Object.values(a):[]).reduce(function(a,b){return a.concat(b)},[])}},{key:"setIsPreview",value:function(a){k.setdata("isPreview",a)}},{key:"getIsPreview",value:function(){return k.getKey("isPreview")}}]),a}();a["default"]=
b},function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function t(a){var b=document.createElement("div");return b.innerHTML=a,1===b.children.length}function k(){var a=document.querySelector(".apt-hotspot-element"),b=document.querySelector(".apt-guide-popup");return!!a||!!b}function v(a){var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=a.positionTopDelta,
e=a.positionLeftDelta,d=a.positionVertical,f=a.positionHorizontal,d=d.toLowerCase(),f=f.toLowerCase();"middle"===d&&(d="center");b="center"===d?f:"center"===f?d:d+"-"+(f===(b?"left":"right")?"end":"start");f=("center"===d&&"left"===f?e=0-e:"top"===d&&(c=0-c),"center"===d?c+", "+e:e+", "+c);return{position:b,offset:f}}function h(a,b){return Element.prototype.matches?a.matches(b):Element.prototype.msMatchesSelector?a.msMatchesSelector(b):(y.logger.log("returning true since matches functionality is missing"),
!0)}function n(a,b,c){var d=a.elementSelector,f=a.id,g=d.matchCssSelector,p=d.selector;a=d.cssSelector;var n=d.matchTextRule,q=d.textRule,q=d.htmlTextRule||JSON.parse(q)||{},g={matchCssSelector:g,cssSelector:p||a,matchTextRule:n,textRuleOperator:q.operator,textRuleValues:q.values},p=void 0;try{(p=(0,E.elementContainsChild)(document,b))&&a&&(p=h(b,a))}catch(k){p=!1}p?c(b):(0,e.findInAll)(g,(0,z.getRegisteredIframes)(),function(a){var b=void 0,e=C["default"].getIframeIdOfBadge(f);a&&a.iframeData?(e&&
e!==a.iframeData.iframeId&&D["default"].removeBadgeFromIframe((0,z.getIframeData)(e),f),D["default"].sendBadgeToIframe(a.iframeData,{id:f,elementSelector:d})):a&&a.element?(b=a.element,e&&D["default"].removeBadgeFromIframe(e)):(y.logger.log("Could not find target element for badge with selector "+d.cssSelector),b=void 0);c(b)})}function f(a){try{var b=a?a.trim():a;if(t(a))return b;var c=document.createElement("div");return c.innerHTML=b,c}catch(e){return y.logger.logInternalError(Error("Badge Tooltip createElementFromHTML "+
e)),""}}Object.defineProperty(a,"__esModule",{value:!0});a.ICON_MAP=void 0;var c,g,q=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],e=!0,d=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);e=!0);}catch(p){d=!0,f=p}finally{try{!e&&h["return"]&&h["return"]()}finally{if(d)throw f;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.checkStringHasWrapper=
t;a.findTarget=n;a.formatContentForTooltip=f;a.Badge=function(a,b,c){function e(a){try{if(aa){var b=aa.state.isVisible;a&&!b?aa.show():!a&&b&&(aa.setProps({duration:[0,0]}),aa.hide(),aa.setProps({duration:[300,250]}))}}catch(c){y.logger.logInternalError(Error("Error in change visibility of tooltip"+c))}}function d(a,b,c){!aa&&b?h(a,b,!1,c):aa&&b!==aa.state.isVisible&&b&&e(!0)}function g(a){try{if(a){var b=a.backgroundColor,c=a.height,e=a.autoHeight,d=a.width,f=a.showTooltipArrow;if(aa){var h=aa.popper;
h.classList.add("apt-badge-tippy");h.setAttribute("aria-live","polite");var p=h.firstChild,n=p.querySelector(".tippy-content");if(e?n.style.height="":c&&(n.style.height=c+"px"),d&&(n.style.width=d+"px"),f)p.querySelector(".tippy-arrow").style.color=b;a.shadow?a.shadowSettings&&(0,P.setShadow)(p,a.shadowSettings):Ha&&(p.style.removeProperty("filter"),p.style.removeProperty("-webkit-filter"));p.style.backgroundColor=b}}}catch(q){y.logger.logInternalError(Error("Error in update tooltip: "+q))}}function h(a,
b){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],d=arguments[3],p=a.positionSettings,n=a.text,q=a.textColor,k=a.showTooltipArrow;aa&&aa.state&&!aa.state.isDestroyed&&aa.destroy();var l=v(p,!0),p=l.position,l=l.offset,t=n,m="#06f263"!==q,w=document.createElement("div");!(w.innerHTML=n,0<w.children.length)&&m&&(t="\x3cdiv style\x3d'color: "+q+"'\x3e"+n+"\x3c/div\x3e");n=f(t);if(b=b||Ha,n)c={trigger:b?"manual":c?"click":"mouseenter focus",zIndex:(0,u.getNumberWithFallback)(d,L),showOnCreate:b,
hideOnClick:!b,arrow:!!(0,u.isNullOrUndefined)(k)||k,theme:"badge",placement:p,offset:l,content:n,interactive:!0,allowHTML:!0,flip:!1,maxWidth:"none",sticky:!0,plugins:[r.sticky]},(0,N.useComputeStyleModifierForTooltip)(c),aa=(0,J.addTooltipToElement)(ka,c);aa&&(g(a),b&&e(!0))}function l(a){var b=this,c=v(a,!1),e=c.offset,c={placement:c.position,removeOnDestroy:!1,positionFixed:(0,B.getConfig)("badgesUseFixedPosition"),modifiers:{offset:{offset:e},flip:{enabled:!1}}};((0,N.useComputeStyleModifier)(c),
this.targetData)?(c.modifiers.applyStyle={fn:function(c){if((0,u.isObject)(c.styles)&&(Object.keys(c.styles).forEach(function(a){var b=c.styles[a];"transform"!==a&&c.instance.popper.style.setProperty(a,b)}),b.targetData.rect)){var e=new I["default"],d=a.positionVertical.toLowerCase();"middle"===d&&(d="center");e.positionElement(c.instance.popper,{isDom:!1,elementRect:b.targetData.rect},a.positionHorizontal.toLowerCase(),d,a.positionTopDelta,a.positionLeftDelta,!1,!1,!0,b.targetData.pageYOffset)}return c}},
c.onUpdate=function(){z(b.targetData.isVisible);ka.style.removeProperty("visibility")}):c.onUpdate=C.bind(this);return new w["default"](this.target||(0,B.getBody)(),ka,c)}function t(a){var b=a.altSettings,b=b&&b.enabled,c=a.engagementTrigger===K;return(a.standalone||c)&&b}function m(){if(this.target||this.targetData){var a=this.badgeAttr,b=a.altSettings,c=a.standalone,e=a.engagementTrigger,d=a.customZIndex;(fa=l.apply(this,[a.positionSettings]),fa.scheduleUpdate(),t(this.badgeAttr))&&h(b,!1,c&&e===
K,d)}}function x(a,b){V(a,function(a){ka||(ka=document.querySelector("#"+xa));ka.innerHTML=a;Object.assign(ka.firstChild.style,{height:"100%",width:"100%",padding:"7%",stroke:b,boxSizing:"border-box"})})}function z(a){try{ka&&(a?(ka.classList.remove(O),M||fa&&fa.scheduleUpdate()):(e(!1),ka.classList.add(O))),M=a}catch(b){y.logger.log("toggleVisibility - "+b)}}function C(){var a=this;ka.style.removeProperty("visibility");Ha||n(this.badgeAttr,this.target,function(b){(a.target=b,b)?(b=(0,u.isElementVisible)(a.target,
!0,!0),fa.reference=a.target,a.isRendered?z.call(a,b):a.render()):a.destroy()})}function E(b,c){var d=H[b];if(d){var f=function(){var e=k();a.standalone||e||(a.isPreview?a.clickCallback&&a.clickCallback(a.id):((0,A["default"])(c,"b",function(a){a.content.contentType===F.IN_APP_GUIDE&&a.content.steps&&Array.isArray(a.content.steps)&&(a=q(a.content.steps,1)[0])&&"TOOLTIP"===a.type&&0===a.sequenceNumber&&a.stickToBadge&&(a.matchCssSelector=!0,a.cssSelector="#"+ka.id)}),"ONCE"===a.qualificationScopeType&&
b===K&&a.clickCallback&&a.clickCallback(a.id)))};a.standalone&&(0,u.addEnterKeyDownListener)(ka,function(){e(!aa.state.isVisible)});(0,u.addEnterKeyDownListener)(ka,f);(0,u.addEventListener)(ka,d,f)}}function D(a){var b=a.engagementTrigger,c=a.badgeIcon,e=a.badgeIconColor,d=a.backgroundColor,f=a.backgroundFill,g=a.useImage,h=a.imageUrl,p=a.onClick,n=a.engagementId,q;q=a.customZIndex;var k=a.borderColor,r=a.borderWidth;a=a.badgeHotspotSettings.spotSize+"px";q={zIndex:(0,u.getNumberWithFallback)(q,
L),height:a,width:a,borderColor:k,borderWidth:r+"px"};g&&h?(c=(0,u.createElement)("img"),c.src=h,q.backgroundColor="transparent",0<ka.children.length?ka.replaceChild(c,ka.children[0]):ka.appendChild(c)):c?(q.backgroundColor=(0,u.hexToRgba)(d,"number"==typeof f?f/100:1),x(c,e)):y.logger.log("No image nor icon were found for badge");Object.assign(ka.style,q);ka.id=xa;E(b,n,p);M=U}var R=this,M=Q,fa=void 0,ka=void 0,aa=void 0,xa="apt-"+a.id,na={},Ha=!1;(function(){var e=this;this.badgeAttr=a;this.isRendered=
!1;c?(this.targetData=c,this.target=b):b?this.target=b:n(a,null,function(a){e.target=a})}).apply(this);this.saveChanges=function(){this.badgeAttr=Object.assign(this.badgeAttr,na)};this.createTooltip=function(){var a=this.badgeAttr,b=a.engagementTrigger;h(a.altSettings,!1,a.standalone&&b===K,a.customZIndex)};this.getTooltip=function(){return aa};this.setEditMode=function(a){Ha=a};this.clear=function(){d(this.badgeAttr.altSettings,!0,this.badgeAttr.customZIndex)};this.toggleTooltip=function(a){var b=
this.badgeAttr,c=b.altSettings,b=b.customZIndex;(t(this.badgeAttr)&&a||!a)&&d(c,a,b)};this.repositionTooltip=function(){aa&&aa.popperInstance&&aa.popperInstance.scheduleUpdate()};this.updateTooltipContent=function(a){this.badgeAttr.altSettings.text=f(a)};this.update=function(a,b){var c=-1<b.indexOf("all"),f=-1<b.indexOf("altSettings"),h=a.altSettings;if(!aa&&h.enabled&&this.createTooltip(),aa&&(c||h&&f)){na=Object.assign(na,a);var p=na.altSettings,n;n=aa?aa.state.isVisible!==h.enabled:!0;var q;if(aa){q=
v(h.positionSettings,!0);var k=q.offset,r=aa.props,u=r.offset;q=q.position!==r.placement||k!==u}else q=!0;k=aa?aa.props.arrow!==h.showTooltipArrow:!0;q?(h=v(h.positionSettings,!0),aa.setProps({placement:h.position,offset:h.offset}),aa.popperInstance.scheduleUpdate()):k?(aa.setProps({arrow:h.showTooltipArrow}),h.showTooltipArrow&&g(p)):n?e(h.enabled):0<Object.keys(h).length&&g(p)}if(c||!f)na=Object.assign(na,a),aa&&aa.popperInstance&&aa.popperInstance.scheduleUpdate(),(aa&&aa.setProps({zIndex:na.customZIndex}),
-1<b.indexOf("positionSettings"))?l.apply(this,[na.positionSettings]):-1<b.indexOf("engagementTrigger")?(f=na,c=f.altSettings,f=f.customZIndex,h=t(na),d(c,h,f),h||aa&&aa.setProps({trigger:""})):D.apply(this,[na])};this.scheduleUpdatePopper=function(){var a=this;n(this.badgeAttr,this.target,function(b){(a.target=b)&&(fa.reference=a.target);fa&&fa.scheduleUpdate()})};this.changePosition=function(a){this.target&&(a=Object.assign(this.badgeAttr.positionSettings,a),l.apply(this,[a]))};this.getDomElement=
function(){return ka};this.destroy=function(){try{aa&&aa.state&&!aa.state.isDestroyed&&aa.destroy(),ka=document.querySelector("#"+xa),(0,N.logBadgeForAppian)("Looking for badge "+xa),ka&&((0,N.logBadgeForAppian)("found badge "+xa),ka.parentNode.removeChild(ka)),(0,N.logBadgeForAppian)("Trying to destroy popper for "+xa),fa&&fa.reference&&((0,N.logBadgeForAppian)("Popper destoryed for "+xa),fa.destroy()),this.isRendered=!1,ka=null}catch(a){(0,N.logBadgeForAppian)("Error in destroy badge "+xa,a),y.logger.logInternalError(Error("Could not destroy badge: "+
a))}};this.updateTargetData=function(a,b){R.targetData=b;R.target=a};this.render=function(a){if(this.target||this.targetData){a=a||(0,B.getBody)();ka&&this.destroy();ka=(0,u.createElement)("div","apt-badge",{});Ha||(ka.style.visibility="hidden");D.apply(this,[this.badgeAttr]);a.appendChild(ka);m.apply(this);this.isRendered=!0;this.badgeAttr.isViewed||(this.badgeAttr.isViewed=!0);ka.setAttribute("tabindex",F.TAB_INDEX_START-1);var b=this.badgeAttr;a=b.altSettings;var b=b.alternateText,c=a&&a.enabled;
b?ka.setAttribute("aria-label",b):c?ka.setAttribute("aria-label",(0,p.stripHtml)(a.text)):ka.setAttribute("aria-label","Badge");(0,p.disableFocusOnClick)(ka)}}};m=b(53);var w=l(m),r=b(67),u=b(0),p=b(6),x=b(12);m=b(121);var A=l(m),B=b(1),y=b(3),e=b(19),D=l(e),z=b(7),J=b(44),F=b(8);m=b(33);var I=l(m);m=b(69);var C=l(m),E=b(17),N=b(71),P=b(16),L="99998",O="apt-badge--hidden";b=function(a){return"BADGE_ICON_"+a};m=function(a){return B.staticContentHost+"/images/badge/types/"+a+".svg"};var M=a.ICON_MAP=
(c={},d(c,b(1),m("announce")),d(c,b(2),m("bulb")),d(c,b(3),m("cap")),d(c,b(4),m("exclam")),d(c,b(5),m("question")),d(c,b(6),m("flag")),d(c,b(7),m("guide")),d(c,b(8),m("arrow")),d(c,b(9),m("badge")),d(c,b(10),m("check")),d(c,b(11),m("cross")),d(c,b(12),m("dash")),d(c,b(13),m("feedback")),d(c,b(14),m("info")),d(c,b(15),m("nps")),d(c,b(16),m("star")),d(c,b(17),m("tooltip")),c),K="ON_CLICK",H=(g={},d(g,K,"click"),d(g,"ON_HOVER","mouseover"),g),R={},V=function(a,b){var c=R[a];if(c)return b(c);x.AjaxUtil.getData(M[a],
function(c){return R[a]=c,b(c)})},U=!0,Q=!1},function(m,a,b){function l(a){var b=(0,t.getBody)().getBoundingClientRect().top,d=a.offsets.popper,c=d.left,d=d.top;return 0<b&&(d-=b),a.styles.top="0px",a.styles.left="0px",a.styles.transform="translate("+c+"px, "+d+"px)",a.styles.willChange="transform",a}function d(a){(0,t.getConfig)("enableModalBodyScroll")||(a.modifiers.computeStyle={fn:l})}Object.defineProperty(a,"__esModule",{value:!0});a.useComputeStyleModifier=d;a.useComputeStyleModifierForTooltip=
function(a){(0,t.getConfig)("enableModalBodyScroll")||(a.popperOptions={modifiers:{}},d(a.popperOptions))};a.logBadgeForAppian=function(a,b){var d=(0,v.getProduct)((0,v.getCurrentProductId)());(d=-1<["WFP8KQRSLUDB","FR6WJFXU3UWQ","ZNOUUZAVEFVY","VFU6ONL15QEY","524OZQKRGHKN"].indexOf(d))&&(b?k.logger.logInternalError(b,"BADGE_APP_35294_ERROR "+a,d):k.logger.logInternalError(Error(a),"BADGE_APP_35294_MESSAGE",d))};var t=b(1),k=b(3),v=b(18)},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});
a["default"]=function(a){var b=a.radioOptions,k=a.name,m=a.selectCallback,h=null;this.getSelectedValue=function(){return h};this.render=function(){var n=[];return b&&b.forEach(function(b){var c=(0,l.createInput)("radio","",b.value,"",!1,b.selected,null,{name:k,tabIndex:b.tabIndex||-1});if(b.selected&&(h=b.value),b&&b.value||0===b.value){var g=b.children,q=b.text;b={};var t=[c];q&&(b.text=q);g&&t.push(g);g=a.childrenClassName.split(" ");g=(0,l.createElement)("label",g,b,t);(0,l.addEventListener)(g,
"click",function(){h=c.value;m&&m(c.value)});n.push(g)}}),(0,l.createElement)("div",a.className,null,n)}};var l=b(0)},function(m,a,b){function l(a,b){var c=(0,q.resolveUrlWithPlaceholders)(window.location.href,a);window.open(c,b?"_blank":"_self")}function d(a,b,d){if(a=a[0])switch(a.actionType){case r:a.closeEngagement&&b.closeCallback();l(a.url,a.openNewTab);break;case u:a.articleId?(0,v.dispatchCustomEvent)(f.GAINSIGHT_PX_OPEN_ARTICLE,{articleId:a.articleId}):(0,v.dispatchCustomEvent)(f.GAINSIGHT_PX_OPEN_BOT);
a.closeEngagement&&b.closeCallback();break;case p:var g=b.customButtonNextCallback,h=b.closeCallback,n=b.showPreviousStepCallback,q=b.startOverGuideCallback;b=b.customButtonGoToStepCallback;switch(a.navigationType){case A:g(a,d);break;case z:b(d);break;case D:h();break;case y:a.onNavigationNextAction===r?l(a.url,a.openNewTab):h();break;case B:n(a.useBrowsingHistory);break;case e:q(a.useBrowsingHistory);break;default:throw Error("Navigation type not found");}break;case x:d=(0,v.dispatchCustomEvent);
g=c.SET_USER_ATTRIBUTE_EVENT_NAME;h={};n=a.attributeName;q=a.attributeValue;h=(n in h?Object.defineProperty(h,n,{value:q,enumerable:!0,configurable:!0,writable:!0}):h[n]=q,h);d(g,{userAttr:h});a.closeEngagement&&b.closeCallback();break;default:throw Error("Action type not found");}}function t(a){switch(a.actionType){case r:return a.url;case u:return a.articleId?a.articleId:J;case p:return a.navigationType;case x:return a.attributeValue;default:throw Error("Action type not found");}}function k(a,b,
c,e){var d=c.actionConfigs[0],f={actionIndex:d.sequenceNumber,actionValue:t(d)},p=a.steps.find(function(a){return a.id===b});a=(0,g.getEngagementTrackPayload)(a,"ENGAGEMENT_CLICK",b,p.sequenceNumber);var p=(0,v.paramToObject)(a,{}),q=p.gcx;c=Object.assign({},p,{cei:c.elementId,actionEventTrack:[f],ru:d.actionType===r?d.url:"",gcx:q?decodeURIComponent(q):{}});d=h.engagementTrackEndpoint+"?"+(0,v.convert2Parameters)(a);n.AjaxUtil.postData(d,c,null,e,e,!0)}Object.defineProperty(a,"__esModule",{value:!0});
a.setCustomButtonEventListener=a.END_GUIDE=a.GO_TO_STEP=a.END=a.NEXT=a.NAVIGATION=a.URL_REDIRECTION=a.CUSTOM_BUTTON_PREFIX_END_INDEX=void 0;var v=b(0),h=b(1),n=b(12),f=b(86),c=b(8),g=b(16),q=b(29),w=a.CUSTOM_BUTTON_PREFIX_END_INDEX=15,r=a.URL_REDIRECTION="URL_REDIRECTION",u="KC_BOT",p=a.NAVIGATION="NAVIGATION",x="USER_ATTRIBUTE",A=a.NEXT="NEXT",B="PREVIOUS",y=a.END="END",e="START_OVER",D="SKIP",z=a.GO_TO_STEP="GO_TO_STEP",J=(a.END_GUIDE="END_GUIDE","OPEN_BOT");a.setCustomButtonEventListener=function(a,
b,c,e,f){b&&a.querySelectorAll('button[id^\x3d"pxCustomButton"]').forEach(function(a){var g=a.id.slice(w),h=b.find(function(a){return a.elementId===g});h&&h.actionConfigs&&h.actionConfigs.length&&(0,v.addEventListener)(a,"click",function(){var a=h.actionConfigs,b=a[0],n=b.actionType,b=b.onNavigationNextAction,n=n===r||n===p&&b===r;e.preview?d(a,c,g):n?k(e,f,h,function(){d(a,c,g)}):(k(e,f,h),d(a,c,g))})})}},function(m,a,b){function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");
}function d(a,b,c,d){var f=e[a];f||(f={},e[a]=f);f[b]=new J(b,d,c)}function t(a,b){var c;return(c=(c=e[a])?c[b]:null)?c.handlerFunc:null}function k(a){var b=e[a];b&&Object.values(b).forEach(function(a){switch(a.type){case "CLICK":(0,r.removeEventListener)(document,"click",a.handlerFunc);break;case "PAGE":p.internalEventListener.removeListener("pageview",a.handlerFunc)}});delete e[a];try{y["default"].removeObserver(D[a])}catch(c){}delete D[a]}function v(a,b,c,e){try{(0,x.findInAll)(b.elementSelector,
(0,B.getRegisteredIframes)(),function(a){a&&(a.element||a.iframeData)&&!1!==a.isVisible||(y["default"].removeObserver(D[b.id]),k(b.id),e(b,c))})}catch(d){u.logger.logInternalError(d,"failure in mutation observer handler for guide tooltip on redirect"),e(b),y["default"].removeObserver(D[b.id]),k(b.id)}}function h(a,b){var c=b.modal&&0<b.overlayFill;return a.overlay&&a.overlay.modal?0<a.overlay.fill:c}function n(a,b,c,e,d,f,g){try{if(!h(f,g))if("STEP"!==c||(0,r.hasParentClass)(a.target,"px-engagement-wrapper-guide")||
(0,r.hasParentClass)(a.target,"apt-guide-target-block"))"ELEMENT"!==c||(0,r.hasParentClass)(a.target,"px-engagement-wrapper-guide")||(e.isDom?e.element&&!(0,r.hasElement)(e.element,a.target)&&(d(f,g),(0,r.removeEventListener)(document,"click",t(f.id,b)),k(f.id)):(z[e.iframeSource.iframeId]={handlerId:b,stepSettings:f,guideSettings:g,errorHandler:d},A["default"].addOutsideEventHandler(e.iframeSource,f.elementSelector)));else{if(e.isDom&&e.element&&(0,r.hasElement)(e.element,a.target))return void setTimeout(function(){(0,
r.isElementVisibleProxy)(e.element,!1,null)||(d(f,g),(0,r.removeEventListener)(document,"click",t(f.id,b)),k(f.id))},1500);d(f,g)}}catch(p){u.logger.logInternalError(p,"failed to handle tooltip action for show hide"),(0,r.removeEventListener)(document,"click",t(f.id,b)),k(f.id)}}function f(a,b,c,e){try{(0,x.findInAll)(b.elementSelector,(0,B.getRegisteredIframes)(),function(a){a&&(a.element||a.iframeData)&&!1!==a.isVisible||e(b)}),p.internalEventListener.removeListener("pageview",t(b.id,a)),k(b.id)}catch(d){u.logger.logInternalError(d,
"failure in page change handler for guide tooltip on redirect"),e(b),p.internalEventListener.removeListener("pageview",t(b.id,a)),k(b.id)}}function c(a,b,c){b=(0,r.getHandler)(!1,f,a,b,c);b=w(b,2);c=b[1];d(a.id,b[0],c);p.internalEventListener.addListener("pageview",c,"PAGE")}function g(a,b,c,e,f){a=(0,r.getHandler)(!0,n,a,b,f,c,e);b=w(a,2);a=b[0];b=b[1];(0,r.addEventListener)(document,"click",b);d(c.id,a,b,"CLICK")}Object.defineProperty(a,"__esModule",{value:!0});var q=function(){function a(b,c){for(var e=
0;e<c.length;e++){var d=c[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,c,e){return c&&a(b.prototype,c),e&&a(b,e),b}}(),w=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],e=!0,d=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);e=!0);}catch(p){d=!0,f=p}finally{try{!e&&h["return"]&&h["return"]()}finally{if(d)throw f;
}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),r=b(0),u=b(3),p=b(11),x=b(19),A=x&&x.__esModule?x:{"default":x},B=b(7),y=(m=b(31))&&m.__esModule?m:{"default":m},e={},D={},z={},J=function I(a,b,c){l(this,I);this.handlerId=a;this.type=b;this.handlerFunc=c};m=new (function(){function a(){l(this,a)}return q(a,[{key:"addNavigationHandler",value:function(a,b,e,d){if("TOOLTIP"===b.type){var f=(0,r.getHandler)(!1,v,b,e,d),f=w(f,2)[1],f=y["default"].addObserver(function(){return!0},
f);D[b.id]=f;var f=b.navigation,h=f.nextButtonAction;switch(f.nextStepTrigger){case "NAVIGATION_CLICK":"REDIRECT"===h?(c(b,e,d),g("STEP",a,b,e,d)):"SHOW_NEXT"===h&&g("STEP",a,b,e,d);break;case "ELEMENT_CLICK":"SHOW_NEXT"===h?g("ELEMENT",a,b,e,d):"REDIRECT"===h?(g("ELEMENT",a,b,e,d),c(b,e,d)):"SHOW_ON_NEXT_PAGE"===h&&(g("ELEMENT",a,b,e,d),c(b,e,d));break;case "ELEMENT_HOVER":case "INPUT_TEXT_COMPLETION":g("ELEMENT",a,b,e,d)}}}},{key:"handleIframeExternalClick",value:function(a){(a=z[a])&&((0,r.removeEventListener)(document,
"click",t(a.stepSettings.id,a.handlerId)),k(a.stepSettings.id))}},{key:"removeAllHandlers",value:function(){try{Object.keys(e).forEach(function(a){k(a)})}catch(a){u.logger.logInternalError(a,"failed to remove all handlers")}}}]),a}());a["default"]=m},function(m,a,b){function l(a,b,l){function r(){return(0,t.validateComment)(a,e,D)}function u(){M.classList.remove("apt-hidden");O.classList.remove("apt-hidden");H.classList.add("apt-hidden");K.classList.add("apt-hidden")}function p(a,b,c){var e=!0,d=
!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done);e=!0){var p=g.value;if(b===p.from)return void(c.innerHTML=p.comment)}}catch(n){d=!0,f=n}finally{try{!e&&h["return"]&&h["return"]()}finally{if(d)throw f;}}}function m(a){a=N.getLabelElements(a);for(var b=document.createDocumentFragment(),c=0;c<a.length;++c)b.appendChild(a[c]);(0,n.arrayFrom)(I.childNodes).forEach(function(a){return I.removeChild(a)});I.appendChild(b);I.classList.contains("labelWrapperElement.classList")||I.classList.add("px-labels-show")}
function A(b){u();b?(O.classList.add("apt-hidden"),K.classList.remove("apt-hidden")):(M.classList.add("apt-hidden"),H.classList.remove("apt-hidden"));B=b;a.showDynamicComment&&p(a.dynamicComments,B,J);a.labelSetting&&a.labelSetting.enabled&&m(b);C.forEach(function(a){a.style.display="none"});E.forEach(function(a){return!a.classList.contains("apt-survey-show")&&a.classList.add("apt-survey-show")});a.mergeFirstSteps&&F.classList.remove("apt-survey-submit-disabled");!a.mergeFirstSteps&&(0,c.isSnoozeButtonEnabled)(a.activationType,
a.snoozeButton,a.activationTypes)&&(0,f.hideSnooze)()}var B=null,y=void 0,e=void 0,D=void 0,z=void 0,J=void 0,F=void 0,I=void 0,C=[],E=[],N=void 0,P=v.TAB_INDEX_START+1,L=P,O=(0,d.createElementFromString)("\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'30' height\x3d'30' viewBox\x3d'0 0 30 30' \x3e\n        \x3cg fill\x3d'none'  fillRule\x3d'evenodd'\x3e\n        \x3cg stroke\x3d"+a.positiveButtonBorderColor+" fill\x3d"+a.positiveButtonBackgroundColor+" stroke-linecap\x3d'round' stroke-linejoin\x3d'round' strokeWidth\x3d"+
a.positiveButtonBorderWidth+" \x3e\n            \x3cpath d\x3d'M13.5 9H18V18.5H13.5z' transform\x3d'translate(6 5) matrix(-1 0 0 1 31.5 0)' /\x3e\n              \x3cpath d\x3d'M12 9.928c-.15-.56-2.496-3.571-3.321-5.309-.3-.63-.58-1.276-.833-1.907-.158-.393-.269-.685-.352-.914.088-.596.058-1.257-.113-1.553C7.29.091 7.125-.003 6.947 0 6.372.011 5.79.218 5.399.764c-.535.745-.516 1.938-.02 3.457.42 1.278.532 2.378.34 3.3l-1.202-.224c-1.878-.413-2.827-.38-3.661.385-.422.389-.568.88-.495 1.39.044.304.15.557.276.761.015.023.011.053-.036.097-.103.104-.186.2-.294.37-.179.28-.293.59-.305.923-.024.52.207 1.02.65 1.483.009.062-.01.105-.046.181-.03.063-.058.133-.085.21-.066.189-.11.392-.12.606-.039.72.302 1.353.964 1.853.025.02.034.05.025.077-.015.041-.024.084-.027.127.006-.068-.004-.025-.02.063-.07.375-.05.781.135 1.177l.056.11c.357.644 1.091 1.07 2.142 1.294.794.173 4.475.079 5.737-.023.752-.06 1.465-.137 1.708-.171l.42-.05' transform\x3d'translate(6 5)' /\x3e\n        \x3c/g\x3e\n        \x3c/g\x3e\n    \x3c/svg\x3e");
O.setAttribute("aria-label","positive");O.setAttribute("role","button");O.style.width="250px";O.style.height="70px";var M=(0,d.createElementFromString)("\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'30' height\x3d'30' viewBox\x3d'0 0 30 30'\x3e\n        \x3cg fill\x3d'none'  fillRule\x3d'evenodd'\x3e\n            \x3cg stroke\x3d"+a.negativeButtonBorderColor+" fill\x3d"+a.negativeButtonBackgroundColor+" stroke-linecap\x3d'round' stroke-linejoin\x3d'round' strokeWidth\x3d"+a.negativeButtonBorderWidth+
" \x3e\n                \x3cpath d\x3d'M0 0.5H4.5V10H0z' transform\x3d'translate(6 5) matrix(1 0 0 -1 0 10.5)' /\x3e\n              \x3cpath d\x3d'M6 9.072c.15.56 2.496 3.571 3.321 5.309.3.63.58 1.276.833 1.907.158.393.269.685.352.914-.088.596-.058 1.257.113 1.553.09.154.256.248.434.245.575-.011 1.156-.218 1.548-.764.535-.745.516-1.938.02-3.457-.42-1.278-.532-2.378-.34-3.3l1.202.224c1.878.413 2.827.38 3.661-.385.422-.389.568-.88.495-1.39-.044-.304-.15-.557-.276-.761-.015-.023-.011-.053.036-.097.103-.104.186-.2.294-.37.179-.28.293-.59.305-.923.024-.52-.207-1.02-.65-1.483-.009-.062.01-.105.046-.181.03-.063.058-.133.085-.21.066-.189.11-.392.12-.606.039-.72-.302-1.353-.964-1.853-.025-.02-.034-.05-.025-.077.015-.041.024-.084.027-.127-.006.068.004.025.02-.063.07-.375.05-.781-.135-1.177l-.056-.11c-.357-.644-1.091-1.07-2.142-1.294C13.53.423 9.849.517 8.587.619c-.752.06-1.465.137-1.708.171l-.42.05' transform\x3d'translate(6 5)' /\x3e\n            \x3c/g\x3e\n        \x3c/g\x3e\n    \x3c/svg\x3e");
M.setAttribute("aria-label","negative");M.setAttribute("role","button");M.style.width="250px";M.style.height="70px";var K=(0,d.createElementFromString)("\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'30' height\x3d'30' viewBox\x3d'0 0 30 30' \x3e\n        \x3cg fill\x3d'none'  fillRule\x3d'evenodd'\x3e\n            \x3cg stroke\x3d"+a.selectedButtonsBorderColor+" fill\x3d"+a.selectedButtonsBackgroundColor+" stroke-linecap\x3d'round' stroke-linejoin\x3d'round' strokeWidth\x3d"+a.selectedButtonsBorderWidth+
" \x3e\n              \x3cpath d\x3d'M13.5 9H18V18.5H13.5z' transform\x3d'translate(6 5) matrix(-1 0 0 1 31.5 0)' /\x3e\n              \x3cpath d\x3d'M12 9.928c-.15-.56-2.496-3.571-3.321-5.309-.3-.63-.58-1.276-.833-1.907-.158-.393-.269-.685-.352-.914.088-.596.058-1.257-.113-1.553C7.29.091 7.125-.003 6.947 0 6.372.011 5.79.218 5.399.764c-.535.745-.516 1.938-.02 3.457.42 1.278.532 2.378.34 3.3l-1.202-.224c-1.878-.413-2.827-.38-3.661.385-.422.389-.568.88-.495 1.39.044.304.15.557.276.761.015.023.011.053-.036.097-.103.104-.186.2-.294.37-.179.28-.293.59-.305.923-.024.52.207 1.02.65 1.483.009.062-.01.105-.046.181-.03.063-.058.133-.085.21-.066.189-.11.392-.12.606-.039.72.302 1.353.964 1.853.025.02.034.05.025.077-.015.041-.024.084-.027.127.006-.068-.004-.025-.02.063-.07.375-.05.781.135 1.177l.056.11c.357.644 1.091 1.07 2.142 1.294.794.173 4.475.079 5.737-.023.752-.06 1.465-.137 1.708-.171l.42-.05' transform\x3d'translate(6 5)' /\x3e\n            \x3c/g\x3e\n        \x3c/g\x3e\n    \x3c/svg\x3e");
K.setAttribute("aria-label","positive selected");K.setAttribute("role","button");K.style.width="250px";K.style.height="70px";var H=(0,d.createElementFromString)("\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'30' height\x3d'30' viewBox\x3d'0 0 30 30'\x3e\n            \x3cg fill\x3d'none'  fillRule\x3d'evenodd'\x3e\n                \x3cg stroke\x3d"+a.selectedButtonsBorderColor+" fill\x3d"+a.selectedButtonsBackgroundColor+" stroke-linecap\x3d'round' stroke-linejoin\x3d'round' strokeWidth\x3d"+
a.selectedButtonsBorderWidth+" \x3e\n                \x3cpath d\x3d'M0 0.5H4.5V10H0z' transform\x3d'translate(6 5) matrix(1 0 0 -1 0 10.5)' /\x3e\n              \x3cpath d\x3d'M6 9.072c.15.56 2.496 3.571 3.321 5.309.3.63.58 1.276.833 1.907.158.393.269.685.352.914-.088.596-.058 1.257.113 1.553.09.154.256.248.434.245.575-.011 1.156-.218 1.548-.764.535-.745.516-1.938.02-3.457-.42-1.278-.532-2.378-.34-3.3l1.202.224c1.878.413 2.827.38 3.661-.385.422-.389.568-.88.495-1.39-.044-.304-.15-.557-.276-.761-.015-.023-.011-.053.036-.097.103-.104.186-.2.294-.37.179-.28.293-.59.305-.923.024-.52-.207-1.02-.65-1.483-.009-.062.01-.105.046-.181.03-.063.058-.133.085-.21.066-.189.11-.392.12-.606.039-.72-.302-1.353-.964-1.853-.025-.02-.034-.05-.025-.077.015-.041.024-.084.027-.127-.006.068.004.025.02-.063.07-.375.05-.781-.135-1.177l-.056-.11c-.357-.644-1.091-1.07-2.142-1.294C13.53.423 9.849.517 8.587.619c-.752.06-1.465.137-1.708.171l-.42.05' transform\x3d'translate(6 5)' /\x3e\n                \x3c/g\x3e\n            \x3c/g\x3e\n        \x3c/svg\x3e");
H.setAttribute("aria-label","negative selected");H.setAttribute("role","button");H.style.width="250px";H.style.height="70px";this.getData=function(){return{selected:B,comment:e.value,contactMeAllowed:a.showContactMeMessage?z.checked:null,labels:a.labelSetting&&a.labelSetting.enabled?N.getSelectedLabels():[]}};this.hide=function(){y.style.display="none"};this.focus=function(){var a=null!=B&&M?M:y.querySelector('[tabindex\x3d"'+P+'"]');a&&(0,k.focusElement)(a)};this.render=function(p){var n=(0,k.toDom)(a.titleHtml,
!1),t=a.contactMeMessage||"It's okay to contact me about my feedback";(0,c.addTabbableEnterListener)();e=(0,d.createElement)("textArea");z=(0,d.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":t});D=(0,d.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"});D.setAttribute("role","alert");u();var m=(0,d.createElement)("div",["apt-contact-wrapper"],void 0,[z,(0,d.createElement)("div","apt-contact-me-text",{text:t,dataAtt:[{name:"aria-hidden",
value:"true"}]})]);!a.showContactMeMessage&&(m.style.display="none");J=a.showDynamicComment?(0,d.createElement)("div"):(0,k.toDom)(a.defaultComment);var x=(0,d.createElement)("div",["apt-survey-choices-wrapper"],null,[(0,d.createElement)("div","apt-survey-choices",null,[M,H,O,K]),(0,d.createElement)("div","apt-survey-choices-legend",null,[(0,d.createElement)("div",null,null,[(0,k.toDom)(a.notSatisfiedHtml)]),(0,d.createElement)("div",null,null,[(0,k.toDom)(a.satisfiedHtml)])])]),B=(0,d.createElement)("div",
["apt-survey-comment"],null,[J]),X=(0,d.createElement)("div","apt-survey-submit-text",{text:(0,d.isBlank)(a.buttonText)?"Submit":a.buttonText});F=(0,d.createElement)("div","apt-survey-submit",null,[X]);var t=(0,d.createElement)("div","px-submit-container",null,[F]),Y=a.labelSetting;Y&&Y.enabled&&(N=new h["default"](Y.ranges,Y));X.setAttribute("aria-hidden","true");F.setAttribute("role","button");F.setAttribute("aria-label",X.textContent);I=(0,d.createElement)("div",["px-survey-labels"]);X=(0,d.createElement)("div",
"bottom-feedback-container",null,[e,D,"DIALOG"===a.viewType&&m,t]);m=(0,d.createElement)("div","apt-feedback-text-wrapper",null,[X,"BAR"===a.viewType&&(0,d.createElement)("div","",null,[m])]);B=(0,d.createElement)("div","apt-survey-feedback",null,[B,I,m]);B.setAttribute("aria-live","polite");"BAR"===a.viewType&&(X.classList.add("bottom-feedback-container-bar"),F.classList.add("apt-survey-submit-bar"));F.style.color=a.submitButtonTextColor;F.style.backgroundColor=a.submitButtonBackgroundColor;F.style.borderWidth=
a.submitButtonBorderWidth+"px";F.style.borderRadius=a.submitButtonBorderRadius+"px";F.style.borderColor=a.submitButtonBorderColor;e.placeholder=a.placeholderText||"Share your thoughts about your choice...";(0,d.addEventListener)(e,"keyup",r);x=[(0,d.createElement)("div","apt-survey-title",null,[n]),x,B];L=(0,f.addSnoozeForScoreSurvey)(a,p,t,x,L);a.showFooter&&x.push((0,k.toDom)(a.footer,!1,"apt-survey-footer"));y=(0,d.createElement)("div","apt-survey-step",null,x);y.setAttribute("id","step-"+a.id);
L=P;L=(0,c.setTabIndexes)(n,L);M.setAttribute("tabindex",L);H.setAttribute("tabindex",L);L+=1;O.setAttribute("tabindex",L);K.setAttribute("tabindex",L);L+=1;L=(0,c.setTabIndexes)(J,L);N&&(L=N.setTabIndexes(L));e.setAttribute("tabindex",L);L+=1;z.setAttribute("tabindex",L);L+=1;F.setAttribute("tabindex",a.mergeFirstSteps?v.NO_TAB_INDEX:L);L+=1;p=function(){r()&&b()};(0,d.addEventListener)(F,"click",p);(0,d.addEnterKeyDownListener)(F,p);l(F);p=function(){A(0)};l(z);(0,d.addEventListener)(M,"click",
p);(0,d.addEnterKeyDownListener)(M,p);l(M);l(H);p=function(){A(1)};return(0,d.addEventListener)(O,"click",p),(0,d.addEnterKeyDownListener)(O,p),l(O),l(K),!a.mergeFirstSteps&&C.push(n),!a.mergeFirstSteps&&E.push(B),a.mergeFirstSteps&&B.classList.add("apt-survey-show"),a.mergeFirstSteps&&F.classList.add("apt-survey-submit-disabled"),y};this.getSettings=function(){return a};this.getHtml=function(){return a.titleHtml+a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment}}Object.defineProperty(a,"__esModule",
{value:!0});var d=b(0),t=b(38),k=b(6),v=b(8),h=(m=b(52))&&m.__esModule?m:{"default":m},n=b(10),f=b(26),c=b(16);l.getHtml=function(a){return a.titleHtml+a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment};a["default"]=l},function(m,a,b){function l(a,b,f,c){var g=(0,d.isBlank)(b.buttonText)?b.isLast?"Close":"Next":b.buttonText,q=(0,t.toDom)(a,!1,"apt-survey-title"),l=k.TAB_INDEX_START+1,r=l,r=(0,v.setTabIndexes)(q,r),u=(0,d.createElement)("div","apt-survey-close-button",null,[(0,d.createElement)("div",
"apt-survey-close-text",{text:g})]);u.setAttribute("tabindex",r);u.setAttribute("role","button");u.setAttribute("aria-label",g);u.style.color=b.closeButtonTextColor;u.style.backgroundColor=b.closeButtonBackgroundColor;u.style.borderRadius=b.closeButtonBorderRadius+"px";u.style.borderWidth=b.closeButtonBorderWidth+"px";u.style.borderColor=b.closeButtonBorderColor;(0,d.addEventListener)(u,"click",f);(0,d.addEnterKeyDownListener)(u,f);c(u);var p=(0,d.createElement)("div","apt-survey-step",null,[q,u]);
p.setAttribute("id","step-"+b.id);this.render=function(){var a=p.querySelector(".apt-survey-close-button");return c(a),p};this.focus=function(){var a=p.querySelector('[tabindex\x3d"'+l+'"]');(0,t.focusElement)(a)};this.hide=function(){p.style.display="none"};this.getSettings=function(){return b};this.getHtml=function(){return a};this.isValid=function(){return!0};this.getNextTabIndex=function(){return r}}Object.defineProperty(a,"__esModule",{value:!0});var d=b(0),t=b(6),k=b(8),v=b(16);l.getHtml=function(a){return a.html};
a["default"]=l},function(m,a,b){function l(a,b){function q(b){b.style.borderWidth=a.buttonsBorderWidth+"px";b.style.borderRadius=a.buttonsBorderRadius+"px";b.style.borderColor=a.buttonsBorderColor;b.style.color=a.buttonsTextColor;b.style.backgroundColor=a.buttonsBackgroundColor}function l(b){return(new h["default"]({name:"apt-trigger-radio-"+a.id,className:"apt-survey-dynamic-rating-radio-answers",childrenClassName:"apt-survey-dynamic-rating-radio px-survey-rating-button",selectCallback:function(b){m&&
q(m);var e=document.querySelector('input[name\x3d"apt-trigger-radio-'+a.id+'"]:checked');e&&(m=e.parentElement,m.style.backgroundColor=a.selectedButtonsBackgroundColor,m.style.color=a.selectedButtonsTextColor,m.style.borderWidth=a.selectedButtonsBorderWidth+"px",m.style.borderColor=a.selectedButtonsBorderColor);p=b},radioOptions:b})).render()}var r=d.TAB_INDEX_START,u=void 0,p=void 0,m=void 0,A=b,B=a.minAnswer,y=a.maxAnswer;return this.isValid=function(){return!0},this.setTabIndex=function(a){r=a},
this.render=function(){var b=(0,k.renderSurveyTitle)(a,a.titleHtml,["apt-survey-dynamic-rating-wrapper"],["apt-survey-dynamic-rating-title"],A);r=(0,f.setTabIndexes)(b,r);for(var d=[],g=B;g<=y;g+=1){var h=(0,v.createElement)("span",["apt-survey-dynamic-rating-radio-label"],{text:g});h.style.borderRadius=a.buttonsBorderRadius+"px";d.push({children:h,value:g,tabIndex:r,selected:p===g});r+=1}d=l(d);(0,n.arrayFrom)(d.childNodes).forEach(q);g=(0,v.createElement)("div","apt-survey-dynamic-rating-labels-wrapper",
null,[(0,t.toDom)(a.notSatisfiedHtml,!0),(0,t.toDom)(a.satisfiedHtml,!0)]);"PORTRAIT"===a.orientation&&(g.style.maxWidth="100%",g.style.width=39*(y-B+1)-8+"px");d=(0,v.createElement)("div",["apt-survey-dynamic-rating-answers-wrapper","apt-survey-answer-wrapper","px-survey-answer-wrapper","px-survey-rating-answer-wrapper"],null,[d,g]);return u=(0,v.createElement)("div","apt-survey-dynamic-rating-step",null,[b,d]),u.setAttribute("id","step-"+a.id),u},this.focus=function(){},this.hide=function(){u.style.display=
"none"},this.getData=function(){return{selected:p}},this.getNextTabIndex=function(){return r},this.getSettings=function(){return a},this.getHtml=function(){return a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment},this.updateStepNumber=function(a){(0,k.updateStepNumber)(u,a);A=a},this.getStepNumber=function(){return A},this}Object.defineProperty(a,"__esModule",{value:!0});var d=b(8),t=b(6),k=b(26),v=b(0),h=(m=b(72))&&m.__esModule?m:{"default":m},n=b(10),f=b(16);l.getHtml=function(a){return a.notSatisfiedHtml+
a.satisfiedHtml+a.defaultComment};a["default"]=l},function(m,a,b){function l(a){return a.answers.map(function(a){return a.text}).join("")+a.question}function d(a,b,d,m){function r(a,b,c){c&&a.checked&&D.length>=c?(a.checked=!1,J.style.display="inline-block"):(J.style.display="none",F.style.display="none");a.checked?-1===D.indexOf(b)&&D.push(b):D=D.filter(function(a){return a!==b})}function u(b){var e=(new h["default"]({name:"apt-trigger-radio-"+a.id,className:"apt-survey-multi-choice-radio-answers",
childrenClassName:"apt-survey-multi-choice-radio",selectCallback:function(a){D[0]=a},radioOptions:b.map(function(a){var b=(0,t.createElement)("div",["apt-survey-multi-choice-radio-label"]);b.innerHTML=a.text;E=(0,f.setTabIndexes)(b,E);a={children:b,tabIndex:E,value:a.id,selected:a.id===D[0]};return E+=1,a})})).render();return E+=b.length,e}function p(a,b){var c=(0,t.createElement)("div",["apt-survey-multi-choice-label"],{dataAtt:[{name:"for",value:a.id},{name:"aria-hidden",value:"true"}]},(0,k.toDom)(a.text,
!1,-1<a.text.indexOf("px-multi-survey-answer")?void 0:"apt-multi-survey-answer")),e=(0,t.createElement)("input","apt-survey-multi-choice-checkbox",{dataAtt:[{name:"type",value:"checkbox"},{name:"aria-label",value:c.textContent},{name:"id",value:a.id},{name:"name",value:"multi-choices-radio"}]});return(0,t.addEventListener)(e,"change",function(c){r(c.target,a.id,b)}),m(e),e.setAttribute("tabindex",E),E+=1,E=(0,f.setTabIndexes)(c,E),(0,t.createElement)("div","apt-survey-multi-choices-radio",null,[(0,
t.createElement)("div","apt-survey-multi-choice-input-wrapper",null,[e]),c])}function x(a){var b=a.answers,c=a.maxSelectionNumber;a=a.minSelectionNumber;a=1===c&&1===a;b.sort(function(a,b){return a.sequenceNumber-b.sequenceNumber});a=a?u(b):b.map(function(a){return p(a,c)});return(0,t.createElement)("div",["apt-survey-multi-choices-wrapper","apt-survey-multi-choices-wrapper-"+b.length,"apt-survey-answer-wrapper","px-survey-answer-wrapper","px-survey-multi-answer-wrapper"],null,a)}function A(a){var b=
a.maxAnswersValidationText?a.maxAnswersValidationText.replace("%maxSelectionNumber%",a.maxSelectionNumber):"You can only select a maximum of "+a.maxSelectionNumber+" answer(s)";a=a.minAnswersValidationText?a.minAnswersValidationText.replace("%minSelectionNumber%",a.minSelectionNumber):"Please select at least "+a.minSelectionNumber+" answer(s)";return J=(0,t.createElement)("div","apt-error-message apt-max-choices",{text:b}),F=(0,t.createElement)("div","apt-error-message apt-min-choices",{text:a}),
(0,t.createElement)("div","apt-error-message-wrapper",null,[J,F])}function B(b){var e=(0,t.createElement)("div","apt-survey-submit",{text:(0,t.isBlank)(a.buttonText)?a.isLast?"Done":"Next":a.buttonText});return e.style.color=b.submitButtonTextColor,e.style.backgroundColor=b.submitButtonBackgroundColor,e.style.borderWidth=b.submitButtonBorderWidth+"px",e.style.borderRadius=b.submitButtonBorderRadius+"px",e.style.borderColor=b.submitButtonBorderColor,e.setAttribute("tabindex",E),E+=1,e.setAttribute("role",
"button"),e}function y(a,b){b&&D.length<b?F.style.display="inline-block":(F.style.display="none",a())}function e(a){if(a.showQuestionNumber){var b=(0,t.createElement)("div","apt-question-sequence",{text:C+"."});return b.style.fontFamily=a.numberFontFamily,b.style.fontSize=a.numberSize+"px",b.style.color=a.numberColor,b}return null}var D=[],z=void 0,J=void 0,F=void 0,I=void 0,C=d,E=v.TAB_INDEX_START,N=E;this.isValid=function(){var b=a.minSelectionNumber,b=b&&D.length<b;return F.style.display=b?"inline-block":
"none",!b};this.setTabIndex=function(a){E=a};this.render=function(d){var h=(0,k.toDom)(a.question,!1),p=a.contactMeMessage||"It's okay to contact me about my feedback";h.classList.add("apt-survey-multi-title");h.classList.add("apt-survey-title");h=(0,t.createElement)("div",["apt-survey-multi-choices-title-wrapper","apt-survey-title-wrapper"],null,[e(a),h]);E=(0,f.setTabIndexes)(h,E);var q=x(a),r=A(a),l=[];E=(0,n.addSnoozeForMCQSurvey)(a,d,l,E);d=B(a);l.push(d);l=(0,t.createElement)("div","px-survey-page-footer",
null,l);I=(0,t.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":p});p=(0,t.createElement)("div",["apt-contact-wrapper"],void 0,[I,(0,t.createElement)("div","apt-contact-me-text",{text:p,dataAtt:[{name:"aria-hidden",value:"true"}]})]);!a.showContactMeMessage&&(p.style.display="none");z=(0,t.createElement)("div","apt-survey-multi-choices-step",null,[h,q,r,p,l]);z.setAttribute("id","step-"+a.id);p=function(){y(b,a.minSelectionNumber)};return(0,t.addEnterKeyDownListener)(d,p),(0,
t.addEventListener)(d,"click",p),m(d),z};this.focus=function(){var a=z.querySelector('[tabindex\x3d"'+N+'"]');(0,k.focusElement)(a)};this.hide=function(){z.style.display="none"};this.getData=function(){return{choices:D,contactMeAllowed:a.showContactMeMessage?I.checked:null}};this.getSettings=function(){return a};this.getHtml=function(){return l(a)};this.getNextTabIndex=function(){return E};this.updateStepNumber=function(a){(0,n.updateStepNumber)(z,a);C=a};this.getStepNumber=function(){return C};r=
r.bind(this);y=y.bind(this)}Object.defineProperty(a,"__esModule",{value:!0});var t=b(0),k=b(6),v=b(8),h=(m=b(72))&&m.__esModule?m:{"default":m},n=b(26),f=b(16);d.getHtml=function(a){return l(a)};a["default"]=d},function(m,a,b){function l(a,b,g,q){function l(){return(0,k.validateComment)(a,m,A)}function r(b){var c=(0,d.createElement)("div","apt-survey-submit",{text:(0,d.isBlank)(a.buttonText)?a.isLast?"Done":"Next":a.buttonText});return c.style.color=b.submitButtonTextColor,c.style.backgroundColor=
b.submitButtonBackgroundColor,c.style.borderWidth=b.submitButtonBorderWidth+"px",c.style.borderRadius=b.submitButtonBorderRadius+"px",c.style.borderColor=b.submitButtonBorderColor,c.setAttribute("tabindex",e),e+=1,c.setAttribute("role","button"),c}function u(a){if(a.showQuestionNumber){var b=(0,d.createElement)("div","apt-question-sequence",{text:z+"."});return b.style.fontFamily=a.numberFontFamily,b.style.fontSize=a.numberSize+"px",b.style.color=a.numberColor,b}return null}var p=void 0,m=void 0,
A=void 0,B=void 0,y=void 0,e=v.TAB_INDEX_START,D=e,z=g;this.isValid=function(){return l()};this.setTabIndex=function(a){e=a};this.render=function(g){var k=(0,t.toDom)(a.question,!1),v=a.contactMeMessage||"It's okay to contact me about my feedback";k.classList.add("apt-survey-open-text-title");k.classList.add("apt-survey-title");k=(0,d.createElement)("div",["apt-survey-open-text-title-wrapper","apt-survey-title-wrapper"],null,[u(a),k]);e=(0,n.setTabIndexes)(k,e);var z=(m=(0,d.createElement)("textArea"),
m.setAttribute("tabindex",e),e+=1,m.placeholder=a.placeholderText||"Share your thoughts about your choice...",(0,d.addEventListener)(m,"keyup",l),A=(0,d.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"}),(0,d.createElement)("div","bottom-feedback-container",null,[m,A]));B=(0,d.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":v,tabindex:e});e+=1;var D=[];e=(0,h.addSnoozeForMCQSurvey)(a,g,D,e);y=r(a);D.push(y);g=(0,d.createElement)("div",
["apt-contact-wrapper"],void 0,[B,(0,d.createElement)("div","apt-contact-me-text",{text:v,dataAtt:[{name:"aria-hidden",value:"true"}]})]);!a.showContactMeMessage&&(g.style.display="none");"BAR"===a.viewType&&(z.classList.add("bottom-feedback-container-bar"),y.classList.add("apt-survey-submit-bar"));"DIALOG"===a.viewType&&z.appendChild(g);g=(0,d.createElement)("div",["apt-feedback-text-wrapper","apt-survey-answer-wrapper","px-survey-answer-wrapper","px-survey-feedback-answer-wrapper"],null,[z,"BAR"===
a.viewType&&(0,d.createElement)("div","",null,[g])]);D=(0,d.createElement)("div","px-survey-page-footer",null,D);p=(0,d.createElement)("div","apt-survey-open-text-step",null,[k,g,D]);p.setAttribute("id","step-"+a.id);k=function(){l()&&b()};return(0,d.addEventListener)(y,"click",k),(0,d.addEnterKeyDownListener)(y,k),q(y),q(B),p};this.focus=function(){var a=p.querySelector('[tabindex\x3d"'+D+'"]');(0,t.focusElement)(a)};this.hide=function(){p.style.display="none"};this.getData=function(){return{comment:m.value,
contactMeAllowed:a.showContactMeMessage?B.checked:null}};this.getSettings=function(){return a};this.getHtml=function(){return a.question};this.getNextTabIndex=function(){return e};this.updateStepNumber=function(a){(0,h.updateStepNumber)(p,a);z=a};this.getStepNumber=function(){return z}}Object.defineProperty(a,"__esModule",{value:!0});var d=b(0),t=b(6),k=b(38),v=b(8),h=b(26),n=b(16);l.getHtml=function(a){return a.question};a["default"]=l},function(m,a,b){function l(a,b,l){function m(a){switch(a){case 0:return"unsatisfied";
case 1:return"neutral";case 2:return"satisfied";default:return""}}function y(a){return(a+=1)+" "+(1===a?"star":"stars")}function e(a,b,c){var e=a.getElementsByTagName("svg")[0];if(K){b={0:{buttonsBackgroundColor:b.negativeButtonBackgroundColor,buttonsBorderColor:b.negativeButtonBorderColor,buttonsBorderWidth:b.negativeButtonBorderWidth},1:{buttonsBackgroundColor:b.neutralButtonBackgroundColor,buttonsBorderColor:b.neutralButtonBorderColor,buttonsBorderWidth:b.neutralButtonBorderWidth},2:{buttonsBackgroundColor:b.positiveButtonBackgroundColor,
buttonsBorderColor:b.positiveButtonBorderColor,buttonsBorderWidth:b.positiveButtonBorderWidth}}[c];var d=e.querySelector("#Oval");d.style.fill=b.buttonsBackgroundColor;d.setAttribute("stroke-width",b.buttonsBorderWidth);d.setAttribute("stroke",b.buttonsBorderColor);a.setAttribute("aria-label",c+1+" "+m(c));a=e.querySelectorAll("[data-border-color]");for(c=0;c<a.length;c++)a[c].setAttribute("stroke",b.buttonsBorderColor),a[c].setAttribute("fill",b.buttonsBorderColor)}else e.getElementsByTagName("polygon")[0].style.fill=
b.buttonsBackgroundColor,e.getElementsByTagName("path")[0].setAttribute("stroke-width",b.buttonsBorderWidth),e.getElementsByTagName("path")[0].setAttribute("stroke",b.buttonsBorderColor),e.getElementsByTagName("g")[0].style.fill=b.buttonsBorderColor,e.getElementsByTagName("g")[0].setAttribute("stroke-width",b.buttonsBorderWidth),a.setAttribute("aria-label",y(c))}function D(){if(!K)return O;switch(O){case 1:return 1;case 2:return 3;case 3:return 5}return O}function z(){for(var a=Z.getLabelElements(D()),
b=document.createDocumentFragment(),c=0;c<a.length;++c)b.appendChild(a[c]);(0,f.arrayFrom)(T.childNodes).forEach(function(a){return T.removeChild(a)});T.appendChild(b);!T.classList.contains("labelWrapperElement.classList")&&T.classList.add("px-labels-show")}function J(a,b,c){var e=!0,d=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done);e=!0){var p=g.value;if(b>=p.from&&b<=p.to)return void(c.innerHTML=p.comment)}}catch(n){d=!0,f=n}finally{try{!e&&h["return"]&&h["return"]()}finally{if(d)throw f;
}}}function F(a){L.forEach(function(b,c){if(c===a-1){b.setAttribute("data-selected","true");var e=y(c);b.setAttribute("aria-label",e+" "+(0===c?"is":"are")+" selected")}else b.setAttribute("data-selected","false"),b.setAttribute("aria-label",y(c))})}function I(b){if(K)for(var d=1;d<L.length+1;d++)d!==b&&e(L[d-1],a,d-1);else if(null!==O&&O>b)for(d=0;d<L.length;d++)e(L[d],a,d);O=b;d=b-a.initialButtonIndex;if(F(b),K){var f=L[d].getElementsByTagName("svg")[0],h=f.querySelector("#Oval");h.style.fill=a.selectedButtonsBackgroundColor;
h.setAttribute("stroke-width",a.selectedButtonsBorderWidth);h.setAttribute("stroke",a.selectedButtonsBorderColor);f=f.querySelectorAll("[data-border-color]");for(h=0;h<f.length;h++)f[h].setAttribute("stroke",a.selectedButtonsBorderColor),f[h].setAttribute("fill",a.selectedButtonsBorderColor)}else for(f=0;f<d+1;f++)h=L[f].getElementsByTagName("svg")[0],h.getElementsByTagName("polygon")[0].style.fill=a.selectedButtonsBackgroundColor,h.getElementsByTagName("path")[0].setAttribute("stroke-width",a.selectedButtonsBorderWidth),
h.getElementsByTagName("path")[0].setAttribute("stroke",a.selectedButtonsBorderColor),h.getElementsByTagName("g")[0].style.fill=a.selectedButtonsBorderColor,h.getElementsByTagName("g")[0].setAttribute("stroke-width",a.selectedButtonsBorderWidth);if(a.showDynamicComment){f=a.dynamicComments;if(K)a:{switch(d){case 0:d=1;break a;case 1:d=3;break a;case 2:d=5;break a}d=void 0}else d+=1;J(f,d,Q)}a.labelSetting&&a.labelSetting.enabled&&z(b);X.forEach(function(a){a.style.display="none"});Y.forEach(function(a){return!a.classList.contains("apt-survey-show")&&
a.classList.add("apt-survey-show")});a.mergeFirstSteps&&(S.classList.remove("apt-survey-submit-disabled"),S.setAttribute("tabindex",M));!a.mergeFirstSteps&&(0,g.isSnoozeButtonEnabled)(a.activationType,a.snoozeButton,a.activationTypes)&&(0,c.hideSnooze)()}function C(){return(0,t.validateComment)(a,R,V)}function E(a,b,c){return function(d){a.appendChild(d);e(a,b,c)}}function N(a,b,c,f){var g=(0,d.createElement)("div"),p;if(K){p=(0,h.getImage);var n;a:{switch(c){case 0:n="unsatisfied";break a;case 1:n=
"neutral";break a;case 2:n="satisfied";break a}n=void 0}p=p(n,E(g,b,c))}else p=(0,d.createElementFromString)(w);g.setAttribute("tabindex",f);g.setAttribute("role","button");g.setAttribute("aria-label",c);K||(p.style.width=r,p.style.height=u,g.appendChild(p),e(g,b,c));a=function(a){return function(){I(a)}}(a);return(0,d.addEnterKeyDownListener)(g,a),(0,d.addEventListener)(g,"click",a),l(g),g}var P=k.TAB_INDEX_START+1,L=[],O=null,M=P,K=a.surveyScoreType===q,H=void 0,R=void 0,V=void 0,U=void 0,Q=void 0,
S=void 0,T=void 0,X=[],Y=[],Z=null;this.focus=function(){var a=null!=O&&L.length?L[0]:H.querySelector('[tabindex\x3d"'+P+'"]');a&&(0,v.focusElement)(a)};this.render=function(e){var f=(0,v.toDom)(a.titleHtml,!1);M=(0,g.setTabIndexes)(f,M);(0,g.addTabbableEnterListener)();for(var h=a.contactMeMessage||"It's okay to contact me about my feedback",q=a.initialButtonIndex;q<a.numberOfButtons+a.initialButtonIndex;q++)L.push(N(q,a,q-a.initialButtonIndex,M)),M+=1;Q=a.showDynamicComment?(0,d.createElement)("div"):
(0,v.toDom)(a.defaultComment);M=(0,g.setTabIndexes)(Q,M);(q=a.labelSetting)&&q.enabled&&(Z=new n["default"](q.ranges,q),M=Z.setTabIndexes(M));R=(0,d.createElement)("textArea");R.setAttribute("tabindex",M);M+=1;U=(0,d.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":h});U.setAttribute("tabindex",M);M+=1;V=(0,d.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"});var r=(0,d.createElement)("div",["apt-contact-wrapper",a.showContactMeMessage?
"":"apt-hidden"],void 0,[U,(0,d.createElement)("div","apt-contact-me-text",{text:h,dataAtt:[{name:"aria-hidden",value:"true"}]})]),q=(0,d.createElement)("div",["apt-survey-choices-wrapper","apt-survey-choices-wrapper-"+a.numberOfButtons],null,[(0,d.createElement)("div","apt-survey-choices",null,L),(0,d.createElement)("div","apt-survey-choices-legend",null,[(0,d.createElement)("div",null,null,[(0,v.toDom)(a.notSatisfiedHtml)]),(0,d.createElement)("div",null,null,[(0,v.toDom)(a.satisfiedHtml)])])]),
u=(0,d.createElement)("div",["apt-survey-comment"],null,[Q]),t=(0,d.createElement)("div","apt-survey-submit-text",{text:(0,d.isBlank)(a.buttonText)?"Submit":a.buttonText});S=(0,d.createElement)("div","apt-survey-submit",null,[t]);h=(0,d.createElement)("div","px-submit-container",null,[S]);t.setAttribute("aria-hidden","true");S.setAttribute("role","button");S.setAttribute("aria-label",t.textContent);t=(0,d.createElement)("div","bottom-feedback-container",null,[R,V,a.showContactMeMessage?"DIALOG"===
a.viewType&&r:void 0,h]);r=(0,d.createElement)("div","apt-feedback-text-wrapper",null,[t,a.showContactMeMessage?"BAR"===a.viewType&&(0,d.createElement)("div","",null,[r]):void 0]);T=(0,d.createElement)("div",["px-survey-labels"]);u=[u,T,r];u=(0,d.createElement)("div","apt-survey-feedback",null,u);u.setAttribute("aria-live","polite");"BAR"===a.viewType&&(t.classList.add("bottom-feedback-container-bar"),S.classList.add("apt-survey-submit-bar"));S.style.color=a.submitButtonTextColor;S.style.backgroundColor=
a.submitButtonBackgroundColor;S.style.borderWidth=a.submitButtonBorderWidth+"px";S.style.borderRadius=a.submitButtonBorderRadius+"px";S.style.borderColor=a.submitButtonBorderColor;S.setAttribute("tabindex",a.mergeFirstSteps?k.NO_TAB_INDEX:M);R.placeholder=a.placeholderText||"Share your thoughts about your choice...";(0,d.addEventListener)(R,"keyup",C);q=[(0,d.createElement)("div","apt-survey-title",null,[f]),q,u];M=(0,c.addSnoozeForScoreSurvey)(a,e,h,q,M);a.showFooter&&q.push((0,v.toDom)(a.footer,
!1,"apt-survey-footer"));H=(0,d.createElement)("div","apt-survey-step",null,q);H.setAttribute("id","step-"+a.id);e=function(){C()&&b()};return(0,d.addEventListener)(S,"click",e),(0,d.addEnterKeyDownListener)(S,e),l(S),l(U),!a.mergeFirstSteps&&X.push(f),!a.mergeFirstSteps&&Y.push(u),a.mergeFirstSteps&&u.classList.add("apt-survey-show"),a.mergeFirstSteps&&S.classList.add("apt-survey-submit-disabled"),H};this.hide=function(){H.style.display="none"};this.getData=function(){return{selected:D(),comment:R.value,
contactMeAllowed:a.showContactMeMessage?U.checked:null,labels:a.labelSetting&&a.labelSetting.enabled?Z.getSelectedLabels():[]}};this.getSettings=function(){return a};this.getHtml=function(){return a.titleHtml+a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment}}Object.defineProperty(a,"__esModule",{value:!0});var d=b(0),t=b(38),k=b(8),v=b(6),h=b(148),n=(m=b(52))&&m.__esModule?m:{"default":m},f=b(10),c=b(26),g=b(16),q="SMILEY",w='\x3csvg version\x3d"1.1" id\x3d"Layer_1" x\x3d"0px" y\x3d"0px" viewBox\x3d"0 0 64 64" enable-background\x3d"new 0 0 64 64" xml:space\x3d"preserve" \x3e\x3cg id\x3d"XMLID_31_" fill\x3d"#cfd8dc" stroke-width\x3d"0.5"\x3e\x3cg\x3e\x3cg stroke-width\x3d"0.5"\x3e\x3cpolygon calss\x3d"apt-star-polygon" fill\x3d"#ffffff" points\x3d"61.5,25 45.1,39.6 50.2,61.5 32,49.6 13.8,61.5 18.9,39.6 2.5,25 23.9,23.4 32,2.5 40.1,23.4"\x3e\x3c/polygon\x3e\x3c/g\x3e\x3c/g\x3e\x3cg\x3e\x3cg\x3e\x3cpath stroke\x3d"#cfd8dc" stroke-width\x3d"0.5" d\x3d"M51.8,63.7L32,50.8L12.2,63.7l5.6-23.8L0.1,24.2l23.1-1.8L32-0.3l8.8,22.7l23.1,1.8L46.2,39.9L51.8,63.7zM32, 48.4l16.7,10.9L44,39.2l15.1-13.4l-19.7-1.5L32,5.3l-7.4,19.1L4.9,25.9L20,39.2l-4.7,20.1L32,48.4z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e',
r="40px",u="40px";l.getHtml=function(a){return a.titleHtml+a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment};a["default"]=l},function(m,a,b){function l(a,b,l){function r(a,b,c){a.style.color=b.buttonsTextColor;a.style.backgroundColor=b.buttonsBackgroundColor;a.style.borderWidth=b.buttonsBorderWidth+"px";a.style.borderRadius=b.buttonsBorderRadius+"px";a.style.borderColor=b.buttonsBorderColor;a.setAttribute("aria-label",c)}function u(a,b,c){var e=!0,d=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(e=
(g=h.next()).done);e=!0){var p=g.value;if(b>=p.from&&b<=p.to)return void(c.innerHTML=p.comment)}}catch(n){d=!0,f=n}finally{try{!e&&h["return"]&&h["return"]()}finally{if(d)throw f;}}}function p(a){a=O.getLabelElements(a);for(var b=document.createDocumentFragment(),c=0;c<a.length;++c)b.appendChild(a[c]);(0,n.arrayFrom)(N.childNodes).forEach(function(a){return N.removeChild(a)});N.appendChild(b);!N.classList.contains("labelWrapperElement.classList")&&N.classList.add("px-labels-show")}function m(b){if(null!==
e){var d=e-a.initialButtonIndex;r(y[d],a,d)}e=b;var d=b-a.initialButtonIndex,h="IN_APP_CES_SURVEY"===a.surveyType;a.showDynamicComment&&u(a.dynamicComments,h?d+1:d,I);d=y[d];d.style.color=a.selectedButtonsTextColor;d.style.backgroundColor=a.selectedButtonsBackgroundColor;d.style.borderWidth=a.selectedButtonsBorderWidth+"px";d.style.borderRadius=a.buttonsBorderRadius+"px";d.style.borderColor=a.selectedButtonsBorderColor;d.setAttribute("aria-label",b+" selected");a.labelSetting&&a.labelSetting.enabled&&
p(b);P.forEach(function(a){a.style.display="none"});L.forEach(function(a){return!a.classList.contains("apt-survey-show")&&a.classList.add("apt-survey-show")});a.mergeFirstSteps&&(C.classList.remove("apt-survey-submit-disabled"),C.setAttribute("tabindex",E));!a.mergeFirstSteps&&(0,c.isSnoozeButtonEnabled)(a.activationType,a.snoozeButton,a.activationTypes)&&(0,f.hideSnooze)()}function A(){return(0,v.validateComment)(a,z,J)}function B(a,b,c,e){var f=(0,d.createElement)("div","apt-survey-choice",{text:a});
r(f,b,c);f.setAttribute("tabindex",e);f.setAttribute("role","button");f.setAttribute("aria-label",a);a=function(a){return function(){m(a)}}(a);return(0,d.addEventListener)(f,"click",a),(0,d.addEnterKeyDownListener)(f,a),l(f),f}var y=[],e=null,D=void 0,z=void 0,J=void 0,F=void 0,I=void 0,C=void 0,E=void 0,N=void 0,P=[],L=[],O=void 0,M=k.TAB_INDEX_START+1,K=M;this.focus=function(){var a=null!=e&&y.length?y[0]:D.querySelector('[tabindex\x3d"'+M+'"]');a&&(0,t.focusElement)(a)};this.render=function(e){var p=
(0,t.toDom)(a.titleHtml);K=(0,c.setTabIndexes)(p,K);(0,c.addTabbableEnterListener)();for(var n=a.initialButtonIndex;n<a.numberOfButtons+a.initialButtonIndex;n++)y.push(B(n,a,n-a.initialButtonIndex,K)),K+=1;z=(0,d.createElement)("textArea");n=a.contactMeMessage||"It's okay to contact me about my feedback";F=(0,d.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":n});J=(0,d.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"});var r=(0,d.createElement)("div",
["apt-contact-wrapper"],void 0,[F,(0,d.createElement)("div","apt-contact-me-text",{text:n,dataAtt:[{name:"aria-hidden",value:"true"}]})]);!a.showContactMeMessage&&(r.style.display="none");I=a.showDynamicComment?(0,d.createElement)("div"):(0,t.toDom)(a.defaultComment);K=(0,c.setTabIndexes)(I,K);var u=(0,d.createElement)("div",["apt-survey-choices-wrapper","apt-survey-choices-wrapper-"+a.numberOfButtons],null,[(0,d.createElement)("div","apt-survey-choices",null,y),(0,d.createElement)("div",["apt-survey-choices-legend"],
null,[(0,d.createElement)("div",null,null,[(0,t.toDom)(a.notSatisfiedHtml)]),(0,d.createElement)("div",null,null,[(0,t.toDom)(a.satisfiedHtml)])])]),m=(0,d.createElement)("div",["apt-survey-comment"],null,[I]),v=(0,d.createElement)("div","apt-survey-submit-text",{text:(0,d.isBlank)(a.buttonText)?"Submit":a.buttonText});C=(0,d.createElement)("div","apt-survey-submit",null,[v]);n=(0,d.createElement)("div","px-submit-container",null,[C]);v.setAttribute("aria-hidden","true");C.setAttribute("role","button");
C.setAttribute("aria-label",v.textContent);v=(0,d.createElement)("div","bottom-feedback-container",null,[z,J,"DIALOG"===a.viewType&&r,n]);r=(0,d.createElement)("div","apt-feedback-text-wrapper",null,[v,"BAR"===a.viewType&&(0,d.createElement)("div","",null,[r])]);N=(0,d.createElement)("div",["px-survey-labels"]);m=[m,N,r];(r=a.labelSetting)&&r.enabled&&(O=new h["default"](r.ranges,r),K=O.setTabIndexes(K));m=(0,d.createElement)("div","apt-survey-feedback",null,m);m.setAttribute("aria-live","polite");
"BAR"===a.viewType&&(v.classList.add("bottom-feedback-container-bar"),C.classList.add("apt-survey-submit-bar"));C.style.color=a.submitButtonTextColor;C.style.backgroundColor=a.submitButtonBackgroundColor;C.style.borderWidth=a.submitButtonBorderWidth+"px";C.style.borderRadius=a.submitButtonBorderRadius+"px";C.style.borderColor=a.submitButtonBorderColor;C.setAttribute("tabindex",a.mergeFirstSteps?k.NO_TAB_INDEX:E);z.placeholder=a.placeholderText||"Share your thoughts about your choice...";z.setAttribute("tabindex",
K);K+=1;F.setAttribute("tabindex",K);K+=1;C.setAttribute("tabindex",a.mergeFirstSteps?k.NO_TAB_INDEX:K);E=K;K+=1;(0,d.addEventListener)(z,"keyup",A);u=[(0,d.createElement)("div","apt-survey-title",null,[(0,d.createElement)("div",null,null,[p])]),u,m];K=(0,f.addSnoozeForScoreSurvey)(a,e,n,u,K);a.showFooter&&u.push((0,t.toDom)(a.footer,!1,"apt-survey-footer"));D=(0,d.createElement)("div",["apt-survey-step"],null,u);D.setAttribute("id","step-"+a.id);e=function(){A()&&b()};return(0,d.addEventListener)(C,
"click",e),(0,d.addEnterKeyDownListener)(C,e),l(C),l(F),!a.mergeFirstSteps&&P.push(p),!a.mergeFirstSteps&&L.push(m),a.mergeFirstSteps&&m.classList.add("apt-survey-show"),a.mergeFirstSteps&&C.classList.add("apt-survey-submit-disabled"),D};this.hide=function(){D.style.display="none"};this.getData=function(){return{selected:e,comment:z.value,contactMeAllowed:a.showContactMeMessage?F.checked:null,labels:a.labelSetting&&a.labelSetting.enabled?O.getSelectedLabels():[]}};this.getSettings=function(){return a};
this.getHtml=function(){return a.titleHtml+a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment}}Object.defineProperty(a,"__esModule",{value:!0});var d=b(0),t=b(6),k=b(8),v=b(38),h=(m=b(52))&&m.__esModule?m:{"default":m},n=b(10),f=b(26),c=b(16);l.getHtml=function(a){return a.titleHtml+a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment};a["default"]=l},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=b(3),d=b(1),t=b(0),k=b(10);m=new function(){function a(b,c,d,f){b.push(c);d.push(f);
l.logger.log(c)}var b={A:!0,ABBR:!0,AUDIO:!0,B:!0,BIG:!0,BLOCKQUOTE:!0,BODY:!0,BR:!0,CAPTION:!0,CENTER:!0,CODE:!0,COL:!0,COLGROUP:!0,DEL:!0,DIV:!0,EM:!0,FONT:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HR:!0,I:!0,IFRAME:!0,IMG:!0,INS:!0,LABEL:!0,LI:!0,O:!0,OL:!0,P:!0,PRE:!0,S:!0,SCRIPT:!0,SMALL:!0,SOURCE:!0,SPAN:!0,STRIKE:!0,STRONG:!0,SUB:!0,SUP:!0,TABLE:!0,TBODY:!0,TD:!0,TFOOT:!0,TH:!0,THEAD:!0,TR:!0,TT:!0,U:!0,UL:!0,VIDEO:!0,META:!0,SECTION:!0,BUTTON:!0},n={FORM:!0},f={accept:!0,"accept-charset":!0,
accesskey:!0,action:!0,align:!0,alt:!0,allowfullscreen:!0,async:!0,autocomplete:!0,autofocus:!0,autoplay:!0,bgcolor:!0,border:!0,charset:!0,checked:!0,cite:!0,"class":!0,color:!0,cols:!0,colspan:!0,content:!0,contenteditable:!0,controls:!0,coords:!0,data:!0,"data-aptr":!0,"data-apt-element":!0,datetime:!0,"default":!0,defer:!0,dir:!0,dirname:!0,disabled:!0,download:!0,draggable:!0,enctype:!0,form:!0,formaction:!0,frameborder:!0,headers:!0,height:!0,hidden:!0,high:!0,href:!0,hreflang:!0,"http-equiv":!0,
id:!0,ismap:!0,kind:!0,label:!0,lang:!0,list:!0,loop:!0,low:!0,max:!0,maxlength:!0,media:!0,method:!0,min:!0,multiple:!0,muted:!0,name:!0,novalidate:!0,open:!0,optimum:!0,pattern:!0,placeholder:!0,poster:!0,preload:!0,readonly:!0,rel:!0,required:!0,reversed:!0,rows:!0,rowspan:!0,sandbox:!0,scope:!0,selected:!0,shape:!0,size:!0,sizes:!0,span:!0,spellcheck:!0,src:!0,srcdoc:!0,srclang:!0,srcset:!0,start:!0,step:!0,style:!0,tabindex:!0,target:!0,title:!0,translate:!0,type:!0,usemap:!0,value:!0,width:!0,
wrap:!0},c=["http:","https:","data:"],g={href:!0,action:!0,src:!0},q=["https://storage.googleapis.com/aptrinsic-cloud-public-assets/*","https://storage.googleapis.com/froala-upload-default/*","https://storage.googleapis.com/froala-upload-prod/*","https://storage.googleapis.com/froala-upload-dev/*","https://storage.googleapis.com/app-demo-public-bucket/*"];this.SanitizeHtml=function(m){function r(c){var k=void 0;if(c.nodeType===Node.TEXT_NODE)k=c.cloneNode(!0);else if(c.nodeType===Node.ELEMENT_NODE&&
(b[c.tagName]||n[c.tagName])){for(var k=x.createElement(c.tagName),l=0;l<c.attributes.length;l++){var u=c.attributes[l];if(!f[u.name]||"META"===c.tagName&&"charset"!==u.name)a(A,"Not allowed attribute '"+u.name+"' in tag \x3c"+c.tagName+"\x3e",B,"DISALLOWED_HTML_TAG_OR_ATTRIBUTE");else if(g[u.name]){var m=(p||(0,d.getConfig)("htmlSanitizationAllowedDomains")||[]).concat(q),w;if(w=-1<u.value.indexOf(":")){a:{w=u.value;for(var y=e,N=0;N<y.length;N++)if(0===w.indexOf(y[N])){w=!0;break a}w=!1}w=!w}w?
a(A,"Not allowed attribute '"+u.name+"' with value '"+u.value+"' in tag '"+c.tagName+"' - schema is not allowed",B,"DISALLOWED_HTML_TAG_OR_ATTRIBUTE"):(0,t.matchEither)(m,u.value)||a(A,"Not allowed attribute '"+u.name+"' with value '"+u.value+"' in tag '"+c.tagName+"' - domain is not allowed",B,"DISALLOWED_DOMAINS")}}for(l=0;l<c.childNodes.length;l++)r(c.childNodes[l])}else a(A,"tag \x3c"+c.tagName+"\x3e is not allowed",B,"DISALLOWED_HTML_TAG_OR_ATTRIBUTE"),k=document.createDocumentFragment();return k}
var u=1<arguments.length&&void 0!==arguments[1]&&arguments[1],p=arguments[2];if(!(0,d.getConfig)("htmlSanitization")&&!u||(0,t.isBlank)(m)||"\x3cbr\x3e"===m)return{isValid:!0};u=document.createElement("iframe");if(void 0===u.sandbox)return l.logger.logInternalError(Error("Browser not supporting iframe sandbox")),{isValid:!1,errors:["Browser not supporting iframe sandbox, cannot perform sanitization"]};u.sandbox="allow-same-origin";u.style.display="none";(0,d.getBody)().appendChild(u);var x=u.contentDocument||
u.contentWindow.document;null==x.body&&x.documentElement.appendChild(x.createElement("body"));x.body.innerHTML=m;var A=[],B=[],y=(0,d.getConfig)("htmlSanitizationAllowedSchemes"),e=Array.isArray(y)?y.filter(function(a){return!!a}).map(function(a){return a.endsWith(":")?a:a+":"}):c;return r(x.body),(0,d.getBody)().removeChild(u),{isValid:0===A.length,errors:A===[]?null:A,errorTypes:(0,k.arrayFrom)(B)}}};a["default"]=m},function(m,a,b){(function(a){var d,m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(){function k(a,b){b?(x[0]=x[16]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=x[10]=x[11]=x[12]=x[13]=x[14]=x[15]=0,this.blocks=x):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];a?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,
this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225);this.block=this.start=this.bytes=this.hBytes=0;this.finalized=this.hashed=!1;this.first=!0;this.is224=a}function v(a,b,c){var e;e=void 0===a?"undefined":m(a);if("string"===e){var d,f=[],p=a.length,n=0;for(e=0;e<p;++e)d=a.charCodeAt(e),128>d?f[n++]=d:2048>d?(f[n++]=192|d>>6,f[n++]=128|63&d):55296>d||57344<=d?(f[n++]=224|d>>12,f[n++]=128|d>>6&63,f[n++]=128|63&d):(d=65536+
((1023&d)<<10|1023&a.charCodeAt(++e)),f[n++]=240|d>>18,f[n++]=128|d>>12&63,f[n++]=128|d>>6&63,f[n++]=128|63&d);a=f}else{if("object"!==e)throw Error(h);if(null===a)throw Error(h);if(g&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!(Array.isArray(a)||g&&ArrayBuffer.isView(a)))throw Error(h);}64<a.length&&(a=(new k(b,!0)).update(a).array());d=[];f=[];for(e=0;64>e;++e)p=a[e]||0,d[e]=92^p,f[e]=54^p;k.call(this,b,c);this.update(f);this.oKeyPad=d;this.inner=!0;this.sharedMemory=c}var h="input is invalid type",
n="object"===("undefined"==typeof window?"undefined":m(window)),f=n?window:{};f.JS_SHA256_NO_WINDOW&&(n=!1);!n&&"object"===("undefined"==typeof self?"undefined":m(self))&&(f=self);var n=!f.JS_SHA256_NO_COMMON_JS&&"object"===m(a)&&a.exports,c=b(180),g=!f.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,q="0123456789abcdef".split(""),w=[-2147483648,8388608,32768,128],r=[24,16,8,0],u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,
607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,
2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=["hex","array","digest","arrayBuffer"],x=[];!f.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});!g||!f.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(a){return"object"===(void 0===a?"undefined":m(a))&&a.buffer&&a.buffer.constructor===ArrayBuffer});var A=function(a,b){return function(c){return(new k(b,!0)).update(c)[a]()}},
B=function(a){var b=A("hex",a);b.create=function(){return new k(a)};b.update=function(a){return b.create().update(a)};for(var c=0;c<p.length;++c){var e=p[c];b[e]=A(e,a)}return b},y=function(a,b){return function(c,e){return(new v(c,b,!0)).update(e)[a]()}},e=function(a){var b=y("hex",a);b.create=function(b){return new v(b,a)};b.update=function(a,c){return b.create(a).update(c)};for(var c=0;c<p.length;++c){var e=p[c];b[e]=y(e,a)}return b};k.prototype.update=function(a){if(!this.finalized){var b,c=void 0===
a?"undefined":m(a);if("string"!==c){if("object"!==c)throw Error(h);if(null===a)throw Error(h);if(g&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!(Array.isArray(a)||g&&ArrayBuffer.isView(a)))throw Error(h);b=!0}for(var e,d=0,f=a.length,p=this.blocks;d<f;){if(this.hashed&&(this.hashed=!1,p[0]=this.block,p[16]=p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=p[10]=p[11]=p[12]=p[13]=p[14]=p[15]=0),b)for(e=this.start;d<f&&64>e;++d)p[e>>2]|=a[d]<<r[3&e++];else for(e=this.start;d<f&&64>e;++d)c=a.charCodeAt(d),
128>c?p[e>>2]|=c<<r[3&e++]:2048>c?(p[e>>2]|=(192|c>>6)<<r[3&e++],p[e>>2]|=(128|63&c)<<r[3&e++]):55296>c||57344<=c?(p[e>>2]|=(224|c>>12)<<r[3&e++],p[e>>2]|=(128|c>>6&63)<<r[3&e++],p[e>>2]|=(128|63&c)<<r[3&e++]):(c=65536+((1023&c)<<10|1023&a.charCodeAt(++d)),p[e>>2]|=(240|c>>18)<<r[3&e++],p[e>>2]|=(128|c>>12&63)<<r[3&e++],p[e>>2]|=(128|c>>6&63)<<r[3&e++],p[e>>2]|=(128|63&c)<<r[3&e++]);this.lastByteIndex=e;this.bytes+=e-this.start;64<=e?(this.block=p[16],this.start=e-64,this.hash(),this.hashed=!0):this.start=
e}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes%=4294967296),this}};k.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,b=this.lastByteIndex;a[16]=this.block;a[b>>2]|=w[3&b];this.block=a[16];56<=b&&(this.hashed||this.hash(),a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0);a[14]=this.hBytes<<3|this.bytes>>>29;a[15]=this.bytes<<3;this.hash()}};k.prototype.hash=function(){var a,
b,c,e,d,f,g,h,p,n,q=this.h0,k=this.h1,r=this.h2,l=this.h3,m=this.h4,t=this.h5,w=this.h6,v=this.h7,x=this.blocks;for(a=16;64>a;++a)d=x[a-15],b=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,d=x[a-2],c=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,x[a]=x[a-16]+b+x[a-7]+c<<0;p=k&r;for(a=0;64>a;a+=4)this.first?(this.is224?(h=300032,d=x[0]-1413257819,v=d-150054599<<0,l=d+24177077<<0):(h=704751109,d=x[0]-210244248,v=d-1521486534<<0,l=d+143694565<<0),this.first=!1):(b=(q>>>2|q<<30)^(q>>>13|q<<19)^(q>>>22|q<<10),c=(m>>>6|m<<
26)^(m>>>11|m<<21)^(m>>>25|m<<7),h=q&k,e=h^q&r^p,g=m&t^~m&w,d=v+c+g+u[a]+x[a],f=b+e,v=l+d<<0,l=d+f<<0),b=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),c=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),p=l&q,e=p^l&k^h,g=v&m^~v&t,d=w+c+g+u[a+1]+x[a+1],f=b+e,w=r+d<<0,r=d+f<<0,b=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),c=(w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7),n=r&l,e=n^r&q^p,g=w&v^~w&m,d=t+c+g+u[a+2]+x[a+2],f=b+e,t=k+d<<0,k=d+f<<0,b=(k>>>2|k<<30)^(k>>>13|k<<19)^(k>>>22|k<<10),c=(t>>>6|t<<26)^(t>>>11|
t<<21)^(t>>>25|t<<7),p=k&r,e=p^k&l^n,g=t&w^~t&v,d=m+c+g+u[a+3]+x[a+3],f=b+e,m=q+d<<0,q=d+f<<0;this.h0=this.h0+q<<0;this.h1=this.h1+k<<0;this.h2=this.h2+r<<0;this.h3=this.h3+l<<0;this.h4=this.h4+m<<0;this.h5=this.h5+t<<0;this.h6=this.h6+w<<0;this.h7=this.h7+v<<0};k.prototype.hex=function(){this.finalize();var a=this.h0,b=this.h1,c=this.h2,e=this.h3,d=this.h4,f=this.h5,g=this.h6,h=this.h7,a=q[a>>28&15]+q[a>>24&15]+q[a>>20&15]+q[a>>16&15]+q[a>>12&15]+q[a>>8&15]+q[a>>4&15]+q[15&a]+q[b>>28&15]+q[b>>24&
15]+q[b>>20&15]+q[b>>16&15]+q[b>>12&15]+q[b>>8&15]+q[b>>4&15]+q[15&b]+q[c>>28&15]+q[c>>24&15]+q[c>>20&15]+q[c>>16&15]+q[c>>12&15]+q[c>>8&15]+q[c>>4&15]+q[15&c]+q[e>>28&15]+q[e>>24&15]+q[e>>20&15]+q[e>>16&15]+q[e>>12&15]+q[e>>8&15]+q[e>>4&15]+q[15&e]+q[d>>28&15]+q[d>>24&15]+q[d>>20&15]+q[d>>16&15]+q[d>>12&15]+q[d>>8&15]+q[d>>4&15]+q[15&d]+q[f>>28&15]+q[f>>24&15]+q[f>>20&15]+q[f>>16&15]+q[f>>12&15]+q[f>>8&15]+q[f>>4&15]+q[15&f]+q[g>>28&15]+q[g>>24&15]+q[g>>20&15]+q[g>>16&15]+q[g>>12&15]+q[g>>8&15]+
q[g>>4&15]+q[15&g];return this.is224||(a+=q[h>>28&15]+q[h>>24&15]+q[h>>20&15]+q[h>>16&15]+q[h>>12&15]+q[h>>8&15]+q[h>>4&15]+q[15&h]),a};k.prototype.toString=k.prototype.hex;k.prototype.digest=function(){this.finalize();var a=this.h0,b=this.h1,c=this.h2,e=this.h3,d=this.h4,f=this.h5,g=this.h6,h=this.h7,a=[a>>24&255,a>>16&255,a>>8&255,255&a,b>>24&255,b>>16&255,b>>8&255,255&b,c>>24&255,c>>16&255,c>>8&255,255&c,e>>24&255,e>>16&255,e>>8&255,255&e,d>>24&255,d>>16&255,d>>8&255,255&d,f>>24&255,f>>16&255,
f>>8&255,255&f,g>>24&255,g>>16&255,g>>8&255,255&g];return this.is224||a.push(h>>24&255,h>>16&255,h>>8&255,255&h),a};k.prototype.array=k.prototype.digest;k.prototype.arrayBuffer=function(){this.finalize();var a=new ArrayBuffer(this.is224?28:32),b=new DataView(a);return b.setUint32(0,this.h0),b.setUint32(4,this.h1),b.setUint32(8,this.h2),b.setUint32(12,this.h3),b.setUint32(16,this.h4),b.setUint32(20,this.h5),b.setUint32(24,this.h6),this.is224||b.setUint32(28,this.h7),a};v.prototype=new k;v.prototype.finalize=
function(){if(k.prototype.finalize.call(this),this.inner){this.inner=!1;var a=this.array();k.call(this,this.is224,this.sharedMemory);this.update(this.oKeyPad);this.update(a);k.prototype.finalize.call(this)}};var D=B();D.sha256=D;D.sha224=B(!0);D.sha256.hmac=e();D.sha224.hmac=e(!0);n?a.exports=D:(f.sha256=D.sha256,f.sha224=D.sha224,c&&void 0!==(d=function(){return D}.call(D,b,D,a))&&(a.exports=d))}()}).call(a,b(91)(m))},function(m,a,b){function l(a,b,d){return function(n){n.listenerId===a&&(d(n),t.removeListener(b))}}
Object.defineProperty(a,"__esModule",{value:!0});a.botEventEmmiter=void 0;var d=b(11),t=a.botEventEmmiter=new function(){var a={},b={};this.dispatchEvent=function(b,n,f){n===a[b]&&d.internalEventListener.dispatchEvent(b,Object.assign({listenerId:n},f))};this.addListener=function(h,n,f){t.removeListener(h);a[h]=f;n=l(f,h,n);b[f]=n;d.internalEventListener.addListener(h,n)};this.removeListener=function(h){d.internalEventListener.removeListener(h,b[a[h]]);a[h]=null;delete a[h]}}},function(m,a,b){function l(a,
b){return a+"?"+(0,h.convert2Parameters)((0,h.addParameters)(b,[]))}function d(){var a={};Object.assign(a,k.eventTrackData[v.cacheGetAll]());(0,h.addCacheBuster)(a);var b=(0,w.getGlobalContext)();b&&Object.assign(a,{gcx:JSON.stringify(b)});var c=(0,h.getWindowLocation)(),b=c.protocol+"//",d=c.host,f=c.pathname,g=c.search,l=k.documentRef.title,c=c.hash,e=k.documentRef.referrer,m=e,e=(0,q.maskUrl)(b,d,f,g,c,e,l),e=t(e,7);return b=e[0],d=e[1],f=e[2],g=e[3],c=e[4],m=e[5],l=e[6],Object.assign(a,{rf:m,
sc:b,ho:d,pa:decodeURIComponent(f),q:decodeURIComponent(g),ha:decodeURIComponent(c),sch:(0,n.getPageHeight)(),scw:(0,n.getPageWidth)(),pt:l,u:""+b+d+f+g+c}),a}Object.defineProperty(a,"__esModule",{value:!0});var t=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,f=!1,g=void 0;try{for(var h,e=a[Symbol.iterator]();!(d=(h=e.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(n){f=!0,g=n}finally{try{!d&&e["return"]&&e["return"]()}finally{if(f)throw g;
}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.getUrl=l;a.trackWebLinkClick=function(a,b,p,n){try{var q=d();q.kcid=b;q.recId=p||null;var l=f.trackKcEndpoint+"/"+k.eventTrackData.data[k.productIdParameter]+"/"+b+"/track/webLink/"+a+"?"+(0,h.convert2Parameters)((0,h.addParameters)(q,[]));c.AjaxUtil.getData(l,n)}catch(m){g.logger.logInternalError(m,"Error during tracking webLink "+a+"for kc id "+b)}};a.trackArticleClick=function(a,b,p,n,q,l){try{var m=d();
m.kcid=n;m.catid=b;m.recId=q||null;var e=f.trackKcEndpoint+"/"+k.eventTrackData.data[k.productIdParameter]+"/"+n+"/track/article/"+a+"?"+(0,h.convert2Parameters)((0,h.addParameters)(m,[]));c.AjaxUtil.getData(e,l)}catch(t){g.logger.logInternalError(t,"Error during tracking article "+a+"for kc id "+n)}};a.getTrackingPayload=d;a.trackToggleWidget=function(a,b){try{var p=d();p.kcid=a;p.kct=b;var n=f.trackKcEndpoint+"/"+k.eventTrackData.data[k.productIdParameter]+"/"+a+"/track/toggle?"+(0,h.convert2Parameters)((0,
h.addParameters)(p,[]));c.AjaxUtil.getData(n)}catch(q){g.logger.logInternalError(q,"Error during tracking toggle widget for kc id "+a)}};a.trackExternalArticleClick=function(a,b,h){b=h.articleId;var n=h.articleUrl,q=h.articleProvider,m=h.articleTitle;h=h.recommendedId;try{var t=k.eventTrackData.data[k.productIdParameter],e=k.eventTrackData.data[k.aptrinsicIdParam],w=d(),v=l(f.trackKcEndpoint+"/"+t+"/"+a+"/"+f.trackWidgetExternalArticleInfix+"/"+b,Object.assign(w,{art:m,ai:e,arpro:q,aru:n,ari:b,recId:h}));
c.AjaxUtil.getData(v)}catch(J){g.logger.logInternalError(J,"Error during tracking article "+b+"for kc id "+a)}};var k=b(4),v=b(5),h=b(0),n=b(9),f=b(1),c=b(12),g=b(3),q=b(20),w=b(21)},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.BROWSER_DEFAULT_FONTS="Arial;Times New Roman;Times;Courier New;Courier;Verdana;Georgia;Palatino;Garamond;Bookman;Tahoma;Trebuchet MS;Arial Black;Impact;Comic Sans MS".split(";");a.FONTS_WEIGHTS=[400,500,600,700];a.FONTS_SUBSETS=["cyrillic-ext","greek",
"cyrillic"];a.GAINSIGHT_PX_OPEN_BOT="GAINSIGHT_PX_OPEN_BOT";a.GAINSIGHT_PX_OPEN_ARTICLE="GAINSIGHT_PX_OPEN_ARTICLE"},function(m,a,b){function l(){var a=sessionStorage.getItem("apt.engagementExecutionTracking")||"{}";return JSON.parse(a)}function d(a){return l()[a]||{}}function t(a,b){var d=l();d[a]=b;sessionStorage.setItem("apt.engagementExecutionTracking",JSON.stringify(d))}Object.defineProperty(a,"__esModule",{value:!0});a["default"]={markStepTracked:function(a,b){var h=d(a);h[b]||(h[b]=!0,t(a,
h))},wasStepTracked:function(a,b){return!!d(a)[b]},markCompletedTracked:function(a){var b=d(a);b.completed=!0;t(a,b)},wasCompletedTracked:function(a){return!!d(a).completed}}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.matchExpression=function(a,b,k){var m=void 0;switch(b){case "is":m=a===k;break;case "isNot":m=a!==k;break;case "isEmpty":m=(0,l.isBlank)(a);break;case "isNotEmpty":m=!(0,l.isBlank)(a);break;case "startsWith":m=0===a.indexOf(k);break;case "notStartsWith":k=a.indexOf(k);
m=(0,l.isBlank)(a)||0>k||0<k;break;case "endsWith":m=a.indexOf(k)===a.length-k.length;break;case "contains":m=-1<a.indexOf(k);break;case "notEndsWith":b=a.indexOf(k);m=(0,l.isBlank)(a)||0>b||b+k.length<a.length;break;case "notContains":m=(0,l.isBlank)(a)||0>a.indexOf(k);break;default:throw Error("unsupported operator type "+b);}return m};var l=b(0)},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.setUser=a.copyUserFields=a.userFields=void 0;var l=b(24),d=b(0),t=b(114),k=b(3),v=
b(1),h=b(25),n=a.userFields="id globalId email gender firstName lastName signUpDate title role subscriptionId phone countryCode countryName stateCode stateName city street continent postalCode regionName timeZone latitude longitude accountId firstVisitDate score userHash sfdcContactId".split(" "),f=a.copyUserFields=function(a,b){var f={};if(a.id&&(f.ide=a.id.toString()),!(0,d.isBlank)(a.email)&&(f.usem=a.email),(0,d.isObject)(a)){var h={},l;for(l in a)a.hasOwnProperty(l)&&(-1===n.indexOf(l)?h[l]=
a[l]:f[l]=a[l]);f.customAttributes=h;(0,t.shouldInjectAccountId)(a,b)&&(f.accountId=b.id)}return delete f.id,delete f.email,f};a.setUser=function(a){if((0,v.getConfig)("enableTag")){var b={},d=l.UserData.getAptrinisId(),n=l.UserData.getUserId();if(!l.UserData.isUser())return void k.logger.log("not doing anything since not a user yet, visitor id: "+n+", user id: "+d);b.usf=f(a,null);(0,h.internalApt)("setAttribute",b)}}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.addFullStoryInfo=
void 0;var l=b(1),d=b(3),t=b(0);a.addFullStoryInfo=function(a){if((0,l.getConfig)("enableFullStory"))try{var b=window._fs_namespace;if(b&&(0,t.isFunction)(window[b].getCurrentSessionURL)){var h=window[b].getCurrentSessionURL(!0);h&&(a.fs=h)}}catch(n){d.logger.logInternalError(n,"Unable to FullStory session")}return a}},function(m,a,b){m.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),
Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},,,function(m,a,b){function l(a,b){b?a.classList.remove("apt-disabled"):a.classList.add("apt-disabled")}Object.defineProperty(a,"__esModule",{value:!0});a.USE_NEW_PRODUCT_MAPPER_KEY=a.HIGHLIGHTED_MAPPED_TYPE=a.domRuleTypes=a.allElementsSelectorRegex=void 0;var d=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var d=[],f=!0,h=!1,n=void 0;try{for(var p,l=a[Symbol.iterator]();!(f=
(p=l.next()).done)&&(d.push(p.value),!b||d.length!==b);f=!0);}catch(k){h=!0,n=k}finally{try{!f&&l["return"]&&l["return"]()}finally{if(h)throw n;}}return d}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.toggleUseNewProductMapper=function(a){"on"===a?window.localStorage.setItem(f,!0):window.localStorage.setItem(f,!1);window.location.reload()};a.enable=l;a.isCurrentPageRule=function(a){if(!n.includes(a.type))return!1;var b=(0,v.getPageUrl)();return"AND"===a.urlScopesCondition?
a.scopes.every(function(a){return(0,v.matchUrl)(a.urlScope,b,"NOT"===a.urlCondition)}):a.scopes.some(function(a){return(0,v.matchUrl)(a.urlScope,b,"NOT"===a.urlCondition)})};a.generateDefaultScope=function(){var a=window.location,a=(0,t.maskUrlEditor)(a.protocol+"//",a.host,a.pathname,a.search,a.hash),b=d(a,5),f=b[0],h=b[1],n=b[2],a=b[3],b=b[4],l=(0,k.getConfig)("maskUrlFunction"),p=(0,k.getConfig)("keepRuleUrlHash"),l=(0,v.isFunction)(l),f=""+f+h+n;return p?(a&&(f+="*"),f+=""+b.replace(/\?.*$/g,
"*")):f+=l?""+a+b:"*",[{urlScope:f,urlCondition:"IS"}]};a.toSearchSelector=function(a){if(!a)return null;var b=a.textElementRules,d=a.cssSelectors;a=a.type;var f=void 0,n=void 0,l=void 0,p=void 0,k=void 0;return(0,v.isNotEmptyArr)(d)&&(f=d[0].selector,p=d[0].matchCssSelector,k=d[0].matchTextRule),(0,v.isNotEmptyArr)(b)&&(f=b[0].value.cssSelector,n=b[0].value.text,l=b[0].operator,a===h.ELEMENT_TYPES.SELECTOR_TEXT_RULE.value&&(p=!0,k=!0)),{matchCssSelector:p,cssSelector:f,matchTextRule:k,textRuleOperator:l,
textRuleValues:n}};a.enableCreateModuleButton=function(a){l(document.querySelector(".apt-create-module-icon"),a)};var t=b(20),k=b(1),v=b(0),h=b(98),n=(a.allElementsSelectorRegex=new RegExp(/^(\*|\s\*|\s>\s\*)+$/),a.domRuleTypes=["EVENT","SELECTOR_TEXT_RULE","TEXT_ONLY"]),f=(a.HIGHLIGHTED_MAPPED_TYPE="mapped",a.USE_NEW_PRODUCT_MAPPER_KEY="px.useNewProductMapperV2")},function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}function d(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<
a.length;b++)c[b]=a[b];return c}return Array.from(a)}function t(a){L=a;var b=(0,e.arrayFrom)(a,function(a){var b=a.mappedElements.filter(function(a){return"TEXT_ELEMENT"===a.type&&(0,q.getConfig)("textMatchEnabled")});if(1>b.length)return null;a=Object.assign({},a);return a.mappedElements=b,a}).filter(function(a){return null!==a}),c=(0,e.arrayFrom)(a,function(a){var b=a.mappedElements.filter(function(a){return-1<O.indexOf(a.type)});if(1>b.length)return null;a=Object.assign({},a);return a.mappedElements=
b,a}).filter(function(a){return null!==a});C.splice.apply(C,[0,C.length].concat(d(b)));E.splice.apply(E,[0,E.length].concat(d(c)));(0,q.isIframe)()||x["default"].syncFeatureRules(a)}function k(){var a=Object.assign({},r.eventTrackData[u.cacheGetAll]());a.wsv=r.applicationVersion;(0,g.addCacheBuster)(a);w.AjaxUtil.getData(q.fetchFeatureRuleEndpoint+"?"+(0,g.convert2Parameters)((0,g.addParameters)(a,[])),t)}function v(){if(N)return JSON.parse(localStorage.getItem(M))}function h(a,b){if(N){var c=v();
c&&c[a]&&c[a][b]&&(delete c[a][b],localStorage.setItem(M,JSON.stringify(c)))}}function n(a){var b=a.scopeRules;a=a.urlLogicalOperator;var c=(0,g.getPageUrl)();return"AND"===a?b.every(function(a){return(0,g.matchUrl)(a.urlScope,c,"NOT"===a.urlCondition)}):b.some(function(a){return(0,g.matchUrl)(a.urlScope,c,"NOT"===a.urlCondition)})}function f(a,b){var c=a.textElementRules;return(0,q.isIframe)()||n(a)?c.reduce(function(c,e){if("SELECTOR_TEXT_RULE"===a.type){var d=(0,z.findInWindow)(e.cssSelector,document,
!0),d=Array.prototype.slice.call(d).filter(function(a){return a===b||a.contains&&a.contains(b)});return!d||1>d.length?c:c||d.some(function(a){return(0,y.matchExpression)((0,z.getText)(a),e.textOperator,(0,g.trimString)(e.text[0]))})}return"TEXT_ONLY_RULE"===a.type?c||(0,y.matchExpression)((0,z.getText)(b),e.textOperator,(0,g.trimString)(e.text[0])):(D.logger.logInternalError(Error("trying to run unsupported rule type "+a.type+", won't match")),!1)},!1):!1}Object.defineProperty(a,"__esModule",{value:!0});
a.getRawFeatureRules=a.loadIframeRules=void 0;var c=function(){function a(b,c){for(var e=0;e<c.length;e++){var d=c[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,c,e){return c&&a(b.prototype,c),e&&a(b,e),b}}(),g=b(0),q=b(1),w=b(12),r=b(4),u=b(5),p=b(25);m=b(102);var x=l(m),A=b(7),B=b(13);m=b(9);var y=b(88),e=b(10),D=b(3),z=b(6),J=b(42),F=l(J);b=b(14);var I=l(b),C=[],E=[],N=(0,m.localStorageEnabled)(),P=[],L=void 0,
O=["SELECTOR_TEXT_RULE","TEXT_ONLY_RULE"],M="apt.fm";b=new (function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return c(a,[{key:"init",value:function(){(0,q.isIframe)()||I["default"].isEditorMode()||(setInterval(k,3E5),k())}},{key:"sendRuleMatchResults",value:function(a){a={featureMatches:a};(0,p.internalApt)("feature",a)}},{key:"matchFeatureRule",value:function(a,b){var c=a.textElementRules,e=a.scopeRules,d=a.urlLogicalOperator,f=B.UUIDGenerator.generateV4Id();
(0,A.subscribe)(f,function(a,b){var c=(0,g.getPageUrl)(),f=("AND"===d?e.every(function(a){return(0,g.matchUrl)(a.urlScope,c,"NOT"===a.urlCondition)}):e.some(function(a){return(0,g.matchUrl)(a.urlScope,c,"NOT"===a.urlCondition)}))&&a.reduce(function(a,b){return a&&b});(0,A.decrementState)(b.callingFutureId,{id:b.rule.id,matched:f})},{rule:a,callingFutureId:b});!(0,q.isIframe)()&&x["default"].getElementText&&c.forEach(function(a){try{x["default"].getElementText(a.cssSelector,f,function(b,c){if(!b||
!(0,g.isNotEmptyArr)(b))return void(0,A.decrementState)(c,!1);for(var e=void 0,d=0;d<b.length;d++)if((0,g.isDefinedStr)(b[d])){e=b[d];break}(0,g.isUndefinedStr)(e)?(0,A.decrementState)(c,!1):(e=(0,y.matchExpression)(e,a.textOperator,a.text[0]),(0,A.decrementState)(c,e))})}catch(b){(0,A.decrementState)(f,!1),D.logger.logInternalError(b)}})}},{key:"handleAllFeatureMatchResult",value:function(a){var b=!1;a=(0,e.arrayFrom)(a,function(a){var c=a.featureId;return(0,e.arrayFrom)(a.rulesResult,function(a){var e=
a.matched;!e&&h(c,a.ruleId);var d;d=a.ruleId;if(N){var f=v();f&&f[c]&&f[c][d]?(f=f[c][d].timestamp,d=18E5<=Date.now()-f&&(h(c,d),!0)):d=!0}else d=!0;d||(e=!1);e&&(d=a.ruleId,N&&(f=v()||{},f[c]=f[c]||{},f[c][d]={timestamp:Date.now()},localStorage.setItem(M,JSON.stringify(f))),b=!0);return{id:c,feme:a.ruleId,femr:e}})});b&&this.sendRuleMatchResults([].concat.apply([],a))}},{key:"matchRules",value:function(){var a=this,b=B.UUIDGenerator.generateV4Id();(0,A.subscribe)(b,this.handleAllFeatureMatchResult.bind(this));
C.forEach(function(){return(0,A.incrementState)(b)});C.forEach(function(c){var d=c.mappedElements;if((0,g.isNotEmptyArr)(d)){var f=B.UUIDGenerator.generateV4Id();(0,A.subscribe)(f,function(a,b){var c=(0,e.arrayFrom)(a,function(a){return{ruleId:a.id,matched:a.matched}});(0,A.decrementState)(b.matchId,{featureId:b.featureId,rulesResult:c})},{matchId:b,featureId:c.featureId});d.forEach(function(){return(0,A.incrementState)(f)});d.forEach(function(b){a.matchFeatureRule(b,f)})}})}},{key:"try2Match",value:function(){var a=
this;if((0,q.getConfig)("textMatchEnabled")){try{P.forEach(function(a){return clearTimeout(a)})}catch(b){}for(var c=0;3>c;c++){var e=setTimeout(function(b){return function(){var b=P.indexOf(void 0);-1<b&&P.splice(b,1);a.matchRules()}}(),(0,q.getConfig)("delayClickEventTime")*(c+1));P.push(e)}}}},{key:"matchElement",value:function(a){var b=E.reduce(function(b,c){var e=c.mappedElements.filter(function(b){return f(b,a)});return 0<e.length&&((0,q.isIframe)()?b.push({id:c.featureId,rules:e}):c.featureId&&
e[0].id&&b.push({id:c.featureId,feme:e[0].id,femr:!0})),b},[]);b&&0<b.length&&((0,q.isIframe)()?F["default"].textFeatureMatch([].concat.apply([],b)):this.sendRuleMatchResults([].concat.apply([],b)))}},{key:"clearAll",value:function(){localStorage.removeItem(M)}},{key:"evaluateIframeMatches",value:function(a){(a=a.reduce(function(a,b){var c=b.rules.filter(function(a){return n(a)});return 0<c.length&&a.push({id:b.id,feme:c[0].id,femr:!0}),a},[]))&&0<a.length&&this.sendRuleMatchResults([].concat.apply([],
a))}}]),a}());a["default"]=b;a.loadIframeRules=function(a){(0,q.isIframe)()&&t(a)};a.getRawFeatureRules=function(){return L}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.ScrollEventBinder=void 0;var l=function(){function a(b,d){for(var c=0;c<d.length;c++){var g=d[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,d,c){return d&&a(b.prototype,d),c&&a(b,c),b}}(),d=b(4),t=b(0),k=b(3),v=b(17);a.ScrollEventBinder=
function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.bindedElementsMap={}}return l(a,[{key:"getFollowScrollHandler",value:function(a,b,c){var d=void 0,h=void 0,l=void 0,r=a.getBoundingClientRect(),m=r.left,p=r.top;return d=a.scrollTop,h=a.scrollLeft,c||(l={}),function(a){a=(0,v.getEventTarget)(a);var c=a.getBoundingClientRect(),n=c.top,c=c.left,r=n!==p||c!==m;if(!(a&&"hidden"===a.style.visibility||r)){if(m=c,p=n,l[a]){if(99999<d||99999<h)return void k.logger.logInternalError(Error("Warning: large values seen for lastSroll in scroll event handler "+
d+"/"+h));for(var n=a.scrollTop-d,c=a.scrollLeft-h,r=Array.isArray(b)?b:[b],e=0;e<r.length;e++)r[e].style.top=parseInt(r[e].style.top)-n+"px",r[e].style.left=parseInt(r[e].style.left)-c+"px"}else l[a]=!0;d=a.scrollTop;h=a.scrollLeft;(99999<d||99999<h)&&k.logger.logInternalError(Error("Warning: large values seen for lastSroll in scroll event handler"+d+"/"+h))}}}},{key:"clearScrollEventListenerFromParents",value:function(a){var b=this;try{this.bindedElementsMap[a]&&this.bindedElementsMap[a].elements.forEach(function(c){(0,
t.removeEventListener)(c,b.bindedElementsMap[a].scrollHandler)})}catch(c){k.logger.logInternalError(c,"Error happened during clearing scroll handler of element "+a)}}},{key:"handleScrollEvent",value:function(b,d){try{for(var c=b.parentNode;c.tagName&&"BODY"!==c.tagName;){if(a.hasScrollbars(c)){var g=c;this.bindedElementsMap[b]||(this.bindedElementsMap[b]={});this.bindedElementsMap[b].elements&&Array.isArray(this.bindedElementsMap[b].elements)||(this.bindedElementsMap[b].elements=[]);this.bindedElementsMap[b].scrollHandler||
(this.bindedElementsMap[b].scrollHandler=d);this.bindedElementsMap[b].elements.push(g);(0,t.addEventListener)(g,"scroll",function(a){d(a)})}c=(0,v.getParentElement)(c)}}catch(q){k.logger.logInternalError(q,"Error during setting scroll event for element "+b)}}}],[{key:"hasScrollbars",value:function(a){a=d.windowRef.getComputedStyle(a);return"auto"===a["overflow-x"]||"scroll"===a["overflow-x"]||"auto"===a["overflow-y"]||"scroll"===a["overflow-y"]}}]),a}()},,function(m,a,b){Object.defineProperty(a,"__esModule",
{value:!0});a.isSelectorRule=function(a){return-1<l.indexOf(a)};var l=(a.ELEMENT_TYPES={EVENT:{value:"EVENT",cssClass:"event"},TITLE:{value:"TITLE",cssClass:"title"},URL:{value:"URL",cssClass:"page-view"},CUSTOM_EVENT:{value:"CUSTOM_EVENT",cssClass:"custom-event"},TEXT_ELEMENT:{value:"TEXT_ELEMENT",cssClass:"text-element"},SELECTOR_TEXT_RULE:{value:"SELECTOR_TEXT_RULE",cssClass:"selector-text-element"},TEXT_ONLY:{value:"TEXT_ONLY",cssClass:"text_only"}},["SELECTOR_TEXT_RULE","EVENT","TEXT_ONLY"])},
function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=b(0),d=b(3),t=b(24),k=b(1),v=b(25),h=(m=b(42))&&m.__esModule?m:{"default":m};m=new function(){function a(b,d){(0,k.getConfig)("enableTag")&&(t.UserData.changeUserType(t.UserData.getLeadType()),(0,v.internalApt)("lead",{fof:d,usf:{usem:b,ls:"FORM"}},function(a){t.UserData.setAptrinsicId(a.ai,!0)}))}var b=this;this.init=function(){(0,k.getConfig)("enableTag")&&(0,k.featureEnabled)("form")&&(0,l.addEventListener)(document,"submit",
function(b){try{if(t.UserData.getUserType()==t.UserData.visitorType()&&!(-1<location.href.toLowerCase().indexOf("unsubscribe"))){var f;a:{var q=b.target;if((0,k.getConfig)("enableTag")){var m=q.querySelectorAll("input[type\x3dpassword]");if(void 0!==m&&null!=m&&0<m.length)f=void d.logger.log("lead tracker does not collect forms with password fields");else{try{var r;b:{var u=q.querySelectorAll("[type\x3dsubmit]").item(0).textContent.toLowerCase();b=["password","unsubscribe"];for(m=0;m<b.length;m++)if(-1<
u.indexOf(b[m])){r=!0;break b}r=!1}if(r){f=void d.logger.log("lead tracker does not collect forms with reserved words");break a}}catch(v){d.logger.logInternalError(v)}r={};var u={},p=m=b=void 0,x=q.querySelectorAll("input");if(void 0!==x&&null!=x){for(q=0;q<x.length;q++)b=x[q],"password"!==(p=b.getAttribute("type"))&&"button"!==p&&"submit"!==p&&(m=b.getAttribute("id")||b.getAttribute("name"))&&(u[m]=b.value)&&(0,l.isEmail)(u[m])&&(r.email=u[m]);r.formFields=u}f=r}}else f=void 0}f&&f.email&&((0,k.isIframe)()?
h["default"].lead("FORM",f.email,void 0,f.formFields):a(f.email,f.formFields))}}catch(v){d.logger.logInternalError(v)}})};this.trackLead=function(a,b){try{if((0,k.getConfig)("enableTag")){var f={};Object.assign(f,b);f.usem=a;f.ls="API";(0,k.isIframe)()?h["default"].lead("API",a,b):(0,v.internalApt)("lead",{usf:f},function(a){t.UserData.setAptrinsicId(a.ai,!0)})}}catch(n){d.logger.logInternalError(n)}};this.track=function(c,g,h,l){if((0,k.getConfig)("enableTag")&&!(0,k.isIframe)())switch(c){case "API":b.trackLead(g,
h);break;case "FORM":a(g,l);break;default:d.logger.logInternalError(Error("got unknown lead source: "+c))}}};a["default"]=m},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function a(b,d){for(var c=0;c<d.length;c++){var g=d[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,d,c){return d&&a(b.prototype,d),c&&a(b,c),b}}(),d=b(1),t=b(4),k=b(41),v=b(3);m=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");}return l(a,null,[{key:"call",value:function(b){for(var d=b.length,c=0;c<d;c++)a.callCommand(b[c])}},{key:"callCommand",value:function(a){try{if(1>a.length)throw Error("Cannot have command with less than one arguments");if((0,d.getConfig)("enableTag")||"config"===a[0]){var b=Array.prototype.slice.call(a),c=b[0];if("reset"!==c&&2>a.length)throw Error("Cannot have command with less than two arguments");-1<t.apiMethods.indexOf(c)&&k.externalApi[c].apply(k.externalApi,
b.slice(1))}}catch(g){v.logger.logInternalError(g)}}}]),a}();a["default"]=m},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.getServerConfiguration=a.tagConfigKeyName=void 0;var l=b(1),d=b(24),t=b(12),k=b(3),v=b(9),h=b(4),n=b(64),f=b(51),c=b(50),g=function(){};a.tagConfigKeyName="tagConfig";a.getServerConfiguration=function(a,b,r,m,p,x){var A=l.getConfigEndpoint+"/"+b,B=d.UserData.getAptrinisId(!0);0<d.UserData.getUserType(!0)&&B&&(A+="?ai\x3d"+B);t.AjaxUtil.getData(A,function(d){d=
d.sdkConfiguration;k.logger.log("Received new configuration: \n"+JSON.stringify(d,null,2));(0,l.overrideConfig)(d,!a);k.logger.log("Applied configuration: \n"+JSON.stringify((0,l.getConfigObj)(),null,2));(d=(0,v.detectIE)())&&10>d&&(k.logger.logInternalError(Error("disabling tag since this is unsupported IE version "+d)),(0,l.disableTag)());(0,l.overrideConfig)(m,!1,!0);a&&(0,l.getConfig)("enableTag")?((0,f.loadChecksumFile)((0,l.getConfig)(c.ENGAGEMENT_CHECKSUM_URL_CONFIG)),p(b,r,a)):(0,l.getConfig)("enableTag")?
(x&&x(),(0,f.loadChecksumFile)((0,l.getConfig)(c.ENGAGEMENT_CHECKSUM_URL_CONFIG))):h.windowRef[h.aptrinsicGlobalObjName]=g;(0,n.initKnowledgeCenterWrapper)(a,!a)},null,function(){a?((0,l.overrideConfig)((0,l.getConfigObj)(),!1),(0,l.overrideConfig)(m,!1,!0),p(b,r,a)):x&&x();k.logger.log("Applied configuration: \n"+JSON.stringify((0,l.getConfigObj)(),null,2))},void 0,void 0,(0,l.getConfig)("requestTimeoutCritical"))}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=b(6),d=b(15),
t=b(7),k=(m=b(14))&&m.__esModule?m:{"default":m},v=b(13),h=b(0),n=b(1);b=new function(){function a(b,c,f){c=t.IframeRequest.getMasterRequst("getElementText",{cssSelector:c},f);(0,d.postRequestDown)(c,b)}function b(){return!((0,n.isIframe)()||k["default"].isEditorMode())}var g=window.top;this.getElementText=function(d,g,n){if(b()){if(!d)return void n(void 0,g);var k=(0,l.getElementText)(d),p=void 0;if((0,h.isDefinedStr)(k))return void n([k],g);k=v.UUIDGenerator.generateV4Id();(0,t.subscribe)(k,function(a,
b){n(a,b)},g);try{var m=(0,t.getRegisteredIframes)();if((0,h.isNotEmptyArr)(m))for(g=0;g<m.length;g++)p=m[g],a(p,d,k),(0,t.incrementState)(k);else n(void 0,g)}catch(A){}}};this.lead=function(a,f,h,n){b()&&(a=t.IframeRequest.getIframeRequest((0,d.getIframeId)(),"lead",{source:a,email:f,userData:h,formFields:n}),(0,d.postRequest)(a,g,!0))};this.syncFeatureRules=function(a){b()&&(a=t.IframeRequest.getMasterRequst("registerFeatureRules",{rules:a}),(0,d.propagateDown)(a,(0,t.getRegisteredIframes)()))}};
a["default"]=b},function(m,a,b){function l(a){null!==sessionStorage.getItem(a)&&localStorage.setItem(a,sessionStorage.getItem(a))}function d(a){null!==localStorage.getItem(a)&&(sessionStorage.setItem(a,localStorage.getItem(a)),localStorage.removeItem(a))}Object.defineProperty(a,"__esModule",{value:!0});a.copySessionStorageToLocalStorage=l;a.copyLocalStorageToSessionStorage=d;a.copySessionStorageToLocalStorageGuideKeys=function(){t.forEach(l)};a.copyLocalStorageToSessionStorageGuideKeys=function(){t.forEach(d)};
var t="apt.stepId apt.prevStepMap apt.guideId aptCurrentGuideUrl apt.localCache apt.engagementExecutionTracking".split(" ")},function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}function d(a){var b=(0,k.findElementInWindow)(a.content.elementSelector,document),e=a.aptrinsicRequestId,d=!0;(0,v.addEventListener)(document,"click",function J(a){d&&((0,v.hasElement)(b,a.target)||(c["default"].guideExternalElementClicked(e),(0,v.removeEventListener)(document,"click",J,!1),d=!1))})}function t(a){if((0,
n.isValidCallingDomain)(a.origin))try{var b=(0,n.parseEvent)(a);if(b&&-1<x.indexOf(b.aptrinsicEventType)){if((0,g.checkHandledRequest)(b.aptrinsicRequestId))return void h.logger.log("ignoring request that was already handled "+b.aptrinsicRequestId);switch((0,g.addHandledRequestId)(b.aptrinsicRequestId),b.aptrinsicEventType){case "redirect":q["default"].getToken()||(window.location.href=(0,v.addParametersToUrl)(window.location.href,JSON.parse(b.content.params)));break;case "register":(0,g.registerIframe)(a.source,
a.origin,b.aptrinsicIframeId);var e=document.getElementsByTagName("iframe");(0,n.associateChildIframes)(e);break;case "elementExist":var l=b.content,m=(0,k.findElementInWindow)(l.elementSelector,document,!0);a=null;var e=0,t=((0,v.isNodeList)(m)||Array.isArray(m))&&0<m.length,w=Node.prototype.isPrototypeOf(m);t?(a=m[0],e=m.length):w&&(a=m,e=1);var I=(0,v.isElementVisibleProxy)(a,l.scrollToElement);a&&!I&&l.scrollToElement&&(0,v.scrollElementToCenter)(a,function(a){return h.logger.logInternalError(a)});
c["default"].sendElementResponse(a,I,e,b.aptrinsicRequestId);break;case "getChildAssociation":c["default"].associateParent(b.aptrinsicRequestId);break;case "associateParent":(0,g.decrementState)(b.aptrinsicRequestId,{iframeId:b.aptrinsicIframeId});break;case "apt-msg-get-element-location":var C=f.GuideDrawerIframe.getElementBoundingRect(b.content.elementSelector);c["default"].broadcastElementRect(C,b.aptrinsicRequestId);break;case "apt_msg_get_badges_locations":var E=r.badgeIframeHelper.getBadgesWithLocations();
c["default"].broadcastUpBadgesLocation(E,b.aptrinsicRequestId);break;case "apt_msg_get_badges_locations_parent_iframe":var N=b.content.badges,P=b.aptrinsicIframeId,L=(0,n.fixBadgesLocations)(P,N);c["default"].broadcastUpBadgesLocation(L,b.aptrinsicRequestId);break;case "apt_msg_remove_badge":var O=b.content.badgeId;O&&r.badgeIframeHelper.removeBadgeFromBadgesList(O);break;case "apt_msg_send_badge":var M=b.content.badge;M&&r.badgeIframeHelper.addBadgeToBadgesList(M);break;case "apt_msg_badge_set_observer":(0,
r.addBadgeObserver)();var K=r.badgeIframeHelper.getBadgesWithLocations();0<K.length&&c["default"].broadcastBadgesStatuses(K);break;case "apt_msg_badge_unset_observer":(0,r.removeBadgeObserver)();break;case "apt-msg-element-rect":var H=b.content.elementRect,R=b.aptrinsicRequestId,V=(0,g.getIframeData)(b.aptrinsicIframeId).domElement.getBoundingClientRect();H.top+=V.top;H.left+=V.left;H.bottom+=V.bottom;H.right+=V.right;c["default"].broadcastElementRect(H,R);break;case "apt-msg-add-handler-show-next-step":switch(A.removeAllHandlers(),
b.content.nextStepTrigger){case "ELEMENT_CLICK":A.addEventListener("click",b);A.addEventListener("contextmenu",b);break;case "ELEMENT_HOVER":A.addEventListener("mouseover",b);break;case "INPUT_TEXT_COMPLETION":A.addEnterKeyDownListener(b)}break;case "aptGuideExternalClick":d(b);break;case "apt-msg-remove-element-handlers":A.removeAllHandlers();break;case p.EVENTS.BOT:(0,u["default"])(b);break;default:h.logger.logInternalError(Error("child iframe script got unsupported event from master, data: "+JSON.stringify(b)))}}}catch(U){h.logger.logInternalError(U)}}
Object.defineProperty(a,"__esModule",{value:!0});a.handleIncomingRequest=void 0;var k=b(6),v=b(0),h=b(3),n=b(15),f=b(63);m=b(40);var c=l(m),g=b(7);m=b(14);var q=l(m),w=b(1),r=b(35);m=b(115);var u=l(m),p=b(23),x=["apt-msg-get-element-location","apt-msg-add-handler-show-next-step","apt-msg-remove-element-handlers","register","getChildAssociation","apt-msg-element-rect","associateParent","elementExist","aptGuideExternalClick","redirect","apt_msg_get_badges_locations","apt_msg_badge_set_observer","apt_msg_badge_unset_observer",
"apt_msg_send_badge","apt_msg_remove_badge","apt_msg_get_badges_locations_parent_iframe",p.EVENTS.BOT],A=new function(){function a(b){g=b.target}var b=this,e={},d=void 0,f=!0,g=null,p=function(a){return function(e){("pointerup"!==e.type||(0,k.checkIfSameElement)(g,e.target))&&f&&(c["default"].guideLinkedElementClicked(a),b.removeAllHandlers(),f=!1)}};this.addEnterKeyDownListener=function(a){var b=a.aptrinsicRequestId;a=a.content.elementSelector;d=(0,k.findElementInWindow)(a,document);(0,v.isEnterAllowedElement)(d)&&
(e.keydown=function(a){-1!==[13,9].indexOf(a.keyCode)&&a.currentTarget===d&&p(b)()},(0,v.addEventListener)(d,"keydown",e.keydown))};this.addEventListener=function(b,c){var f=c.aptrinsicRequestId,g=c.content.elementSelector;switch(d=(0,k.findElementInWindow)(g,document),e[b]=p(f),b){case "contextmenu":case "mouseover":(0,v.addEventListener)(d,b,e[b]);break;case "click":(0,w.getConfig)("elementClickToPointer")?((0,v.addEventListener)(d,"pointerdown",a),(0,v.addEventListener)(d,"pointerup",e[b])):(0,
v.addEventListener)(d,b,e[b]);break;default:h.logger.logInternalError(Error("ElementHandlersManager got unsupported event listener: "+JSON.stringify(c)))}};this.removeEventListener=function(a,b){(0,v.removeEventListener)(a,b,e[b]);e[b]=null};this.removePointerListeners=function(b){(0,v.removeEventListener)(b,"pointerdown",a);(0,v.removeEventListener)(b,"pointerup",e.click);e.click=null};this.removeAllHandlers=function(){d&&((0,w.getConfig)("elementClickToPointer")&&b.removePointerListeners(d),b.removeEventListener(d,
"click"),b.removeEventListener(d,"contextmenu"),b.removeEventListener(d,"mouseover"),b.removeEventListener(d,"keydown"));f=!0}};b=new function(){(0,w.isIframe)()&&!q["default"].isEditorMode()&&(0,v.addEventListener)(window,"message",t)};a["default"]=b;a.handleIncomingRequest=t},function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}function d(a){if((0,n.isValidCallingDomain)(a.origin)){var b=(0,n.parseEvent)(a);try{if(null!==b&&-1<r.indexOf(b.aptrinsicEventType)){var d=b.aptrinsicRequestId+
"_"+b.aptrinsicIframeId;if((0,h.checkHandledRequest)(d))return void v.logger.log("ignoring request that was already handled "+b.aptrinsicRequestId);switch((0,h.addHandledRequestId)(d),b.aptrinsicEventType){case "register":(0,h.registerIframe)(a.source,a.origin,b.aptrinsicIframeId,(0,k.getConfig)("framesetMode"));var l=document.getElementsByTagName("iframe");(0,n.associateChildIframes)(l);if(f["default"].isEditorMode()){var m=f["default"].getQueryParams(),t=b.aptrinsicIframeId,e=JSON.stringify(m);
(0,n.postRequestDown)({origin:window.location.href,aptrinsicEventType:"redirect",content:{params:e}},(0,h.getIframeData)(t))}break;case "associateParent":(0,h.decrementState)(b.aptrinsicRequestId,{iframeId:b.aptrinsicIframeId});break;case "apt-msg-element-rect-parent":var D=b.content.elementRect,z=(0,h.getIframeData)(b.aptrinsicIframeId),J=(0,k.getConfig)("framesetMode")?z.frameOffset:z.domElement.getBoundingClientRect();D.top+=J.top;D.left+=J.left;D.bottom+=J.bottom;D.right+=J.right;(0,h.decrementState)(b.aptrinsicRequestId,
D);break;case "apt-msg-element-clicked":(0,h.decrementState)(b.aptrinsicRequestId,{});break;case "apt_msg_get_badges_locations_response":var F=b.content.badges,I=b.aptrinsicIframeId,C=(0,n.fixBadgesLocations)(I,F);(0,h.decrementState)(b.aptrinsicRequestId,{badges:C,iframeData:(0,h.getIframeData)(I)});break;case "apt_msg_badge_post_status":(0,g.updateBadgesFromIframe)(b.aptrinsicIframeId,b.content.badges);break;case "elementExistResult":var E=b.content.exist,N=0<b.content.count?b.content.count:0;(0,
h.decrementState)(b.aptrinsicRequestId,{exist:E,isVisible:b.content.isVisible,count:N,iframeData:(0,h.getIframeData)(b.aptrinsicIframeId)});break;case "apt-msg-external-element-clicked":(0,h.decrementState)(b.aptrinsicRequestId,{});c["default"].handleIframeExternalClick(b.aptrinsicIframeId);break;case q.EVENTS.BOT:(0,w["default"])(b);break;default:v.logger.logInternalError(Error("master script got unsupported event from iframe, data: "+JSON.stringify(b)))}}}catch(P){v.logger.logInternalError(P)}}}
Object.defineProperty(a,"__esModule",{value:!0});a.handleIncomingRequest=void 0;var t=b(0),k=b(1),v=b(3),h=b(7),n=b(15);m=b(14);var f=l(m);m=b(74);var c=l(m),g=b(35),q=b(23);b=b(116);var w=l(b),r=["register","apt-msg-element-rect-parent","apt-msg-element-clicked","associateParent","elementExistResult","apt-msg-external-element-clicked","apt_msg_badge_post_status","apt_msg_get_badges_locations_response",q.EVENTS.BOT];b=new function(){(0,k.isIframe)()||f["default"].isEditorMode()||(0,t.addEventListener)(window,
"message",d,!1)};a["default"]=b;a.handleIncomingRequest=d},function(m,a,b){function l(a,b){if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var l=Object(a),m=1;m<arguments.length;m++){var h=arguments[m];if(void 0!==h&&null!==h)for(var n=Object.keys(Object(h)),f=0,c=n.length;f<c;f++){var g=n[f],q=Object.getOwnPropertyDescriptor(h,g);void 0!==q&&q.enumerable&&(l[g]=h[g])}}return l}m.exports={assign:l,polyfill:function(){Object.assign||Object.defineProperty(Object,
"assign",{enumerable:!1,configurable:!0,writable:!0,value:l})}}},function(m,a,b){m.exports=function(a,b){for(var m=a.split("."),k=b.split("."),v=0;3>v;v++){var h=Number(m[v]),n=Number(k[v]);if(h>n)return 1;if(n>h)return-1;if(!isNaN(h)&&isNaN(n))return 1;if(isNaN(h)&&!isNaN(n))return-1}return 0}},function(m,a,b){(function(l){function d(){return a._=d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a[e]=c[e])}return a},
d.apply(this,arguments)}function m(a){return h(a)?[a]:v(a,"NodeList")?p(a):Array.isArray(a)?a:p(document.querySelectorAll(a))}function k(a,b,c){return Array.isArray(a)?(a=a[b],null==a?Array.isArray(c)?c[b]:c:a):a}function v(a,b){var c={}.toString.call(a);return 0===c.indexOf("[object")&&-1<c.indexOf(b+"]")}function h(a){return v(a,"Element")}function n(a){return v(a,"MouseEvent")}function f(a,b){return"function"==typeof a?a.apply(void 0,b):a}function c(a,b,c,e){a.filter(function(a){return a.name===
b})[0][c]=e}function g(){return document.createElement("div")}function q(a,b){a.forEach(function(a){a&&(a.style.transitionDuration=b+"ms")})}function w(a,b){a.forEach(function(a){a&&a.setAttribute("data-state",b)})}function r(a,b){if(0===b)return a;var c;return function(e){clearTimeout(c);c=setTimeout(function(){a(e)},b)}}function u(a,b){var c=d({},a);return b.forEach(function(a){delete c[a]}),c}function p(a){return[].slice.call(a)}function x(a,b){for(;a;){if(b(a))return a;a=a.parentElement}return null}
function A(a,b){return-1<a.indexOf(b)}function B(a,b){return void 0!==a?a:b}function y(a){return[].concat(a)}function e(a){return(a=y(a)[0])?a.ownerDocument||document:document}function D(a,b){-1===a.indexOf(b)&&a.push(b)}function z(a){return a.filter(function(b,c){return a.indexOf(b)===c})}function J(a,b,c){void 0===b&&(b=5);var e={top:0,right:0,bottom:0,left:0};return Object.keys(e).reduce(function(e,d){return e[d]="number"==typeof b?b:b[d],a===d&&(e[d]="number"==typeof b?b+c:b[a]+c),e},e)}function F(a){return"\n    "+
a+"() was called on a"+("destroy"===a?"n already-":" ")+"destroyed instance. This is a no-op but\n    indicates a potential memory leak.\n  "}function I(a){return a.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function C(a){return[I("\n  %ctippy.js\n\n  %c"+I(a)+"\n\n  %c\ud83d\udc77‍ This is a development-only message. It will be removed in production.\n  "),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function E(a,b){if(a){var c;(c=console).warn.apply(c,
C(b))}}function N(a,b){if(a){var c;(c=console).error.apply(c,C(b))}}function P(a){var b=!a,c="[object Object]"===Object.prototype.toString.call(a)&&!a.addEventListener;N(b,["tippy() was passed","`"+String(a)+"`","as its targets (first) argument. Valid types are: String, Element, Element[], or NodeList."].join(" "));N(c,"tippy() was passed a plain object which is no longer supported as an argument. See: https://atomiks.github.io/tippyjs/misc/#custom-position")}function L(a){var b=(a.plugins||[]).reduce(function(b,
c){var e=c.name,d=c.defaultValue;return e&&(b[e]=void 0!==a[e]?a[e]:d),b},{});return d({},a,{},b)}function O(a,b){return(b?Object.keys(L(d({},ea,{plugins:b}))):wa).reduce(function(b,c){var e=(a.getAttribute("data-tippy-"+c)||"").trim();if(!e)return b;if("content"===c)b[c]=e;else try{b[c]=JSON.parse(e)}catch(d){b[c]=e}return b},{})}function M(a,b){var c=d({},b,{content:f(b.content,[a])},b.ignoreAttributes?{}:O(a,b.plugins));return c.interactive&&(c.aria=null),c}function K(a,b){void 0===a&&(a={});void 0===
b&&(b=[]);Object.keys(a).forEach(function(c){var e=a[c],d="popperOptions"===c&&null!==e&&"object"===(void 0===e?"undefined":qa(e))&&{}.hasOwnProperty.call(e,"placement"),f=u(ea,["animateFill","followCursor","inlinePositioning","sticky"]),g="a11y arrowType showOnInit size target touchHold".split(" ");(f=!{}.hasOwnProperty.call(f,c)&&!A(g,c))&&(f=0===b.filter(function(a){return a.name===c}).length);E("target"===c,"The `target` prop was removed in v5 and replaced with the delegate() addon in order to conserve bundle size. See: https://atomiks.github.io/tippyjs/addons/#event-delegation");
E("a11y"===c,"The `a11y` prop was removed in v5. Make sure the element you are giving a tippy to is natively focusable, such as \x3cbutton\x3e or \x3cinput\x3e, not \x3cdiv\x3e or \x3cspan\x3e.");E("showOnInit"===c,"The `showOnInit` prop was renamed to `showOnCreate` in v5.");E("arrowType"===c,'The `arrowType` prop was removed in v5 in favor of overloading the `arrow` prop. \n\n "round" string was replaced with importing the string from the package. \n\n * import {roundArrow} from \'tippy.js\'; (ESM version)\n * const {roundArrow} \x3d tippy; (IIFE CDN version) \n\n Before: {arrow: true, arrowType: "round"}\n After: {arrow: roundArrow}`');
E("touchHold"===c,'The `touchHold` prop was removed in v5 in favor of overloading the `touch` prop. \n\n Before: {touchHold: true}\n After: {touch: "hold"}');E("size"===c,"The `size` prop was removed in v5. Instead, use a theme that specifies CSS padding and font-size properties.");E("theme"===c&&"google"===e,'The included theme "google" was renamed to "material" in v5.');E(d,'Specifying placement in `popperOptions` is not supported. Use the base-level `placement` prop instead. \n\n Before: {popperOptions: {placement: "bottom"}}\n After: {placement: "bottom"}');
E(f,["`"+c+"`","is not a valid prop. You may have spelled it incorrectly, or if it's a plugin, forgot to pass it in an array as props.plugins. \n\n In v5, the following props were turned into plugins: \n\n * animateFill\n * followCursor\n * sticky \n\n All props: https://atomiks.github.io/tippyjs/all-props/\n Plugins: https://atomiks.github.io/tippyjs/plugins/"].join(" "))})}function H(){za.isTouch||(za.isTouch=!0,window.performance&&document.addEventListener("mousemove",R))}function R(){var a=performance.now();
20>a-ta&&(za.isTouch=!1,document.removeEventListener("mousemove",R));ta=a}function V(){var a=document.activeElement;if(a&&a._tippy&&a._tippy.reference===a){var b=a._tippy;a.blur&&!b.state.isVisible&&a.blur()}}function U(a){document.body.classList[a&&ua&&za.isTouch?"add":"remove"](ka)}function Q(a){return a.split("-")[0]}function S(a,b){h(b.content)?(a.innerHTML="",a.appendChild(b.content)):"function"!=typeof b.content&&(a[b.allowHTML?"innerHTML":"textContent"]=b.content)}function T(a){return{tooltip:a.querySelector(Ra),
content:a.querySelector(gb),arrow:a.querySelector(Ia)||a.querySelector(ya)}}function X(a){var b=g();!0===a?b.className=Ha:(b.className=Ta,h(a)?b.appendChild(a):b.innerHTML=a);return b}function Y(a,b){var c=g();c.className=aa;c.style.position="absolute";c.style.top="0";c.style.left="0";var e=g();e.className=xa;e.id="tippy-"+a;e.setAttribute("data-state","hidden");e.setAttribute("tabindex","-1");W(e,"add",b.theme);var d=g();d.className=na;d.setAttribute("data-state","hidden");b.interactive&&e.setAttribute("data-interactive",
"");b.arrow&&(e.setAttribute("data-arrow",""),e.appendChild(X(b.arrow)));b.inertia&&e.setAttribute("data-inertia","");return S(d,b),e.appendChild(d),c.appendChild(e),Z(c,b,b),c}function Z(a,b,c){var e=T(a),d=e.tooltip,f=e.content,e=e.arrow;a.style.zIndex=""+c.zIndex;d.setAttribute("data-animation",c.animation);a=c.maxWidth;d.style.maxWidth="number"==typeof a?a+"px":a;c.role?d.setAttribute("role",c.role):d.removeAttribute("role");b.content!==c.content&&S(f,c);!b.arrow&&c.arrow?(d.appendChild(X(c.arrow)),
d.setAttribute("data-arrow","")):b.arrow&&!c.arrow?(d.removeChild(e),d.removeAttribute("data-arrow")):b.arrow!==c.arrow&&(d.removeChild(e),d.appendChild(X(c.arrow)));!b.interactive&&c.interactive?d.setAttribute("data-interactive",""):b.interactive&&!c.interactive&&d.removeAttribute("data-interactive");!b.inertia&&c.inertia?d.setAttribute("data-inertia",""):b.inertia&&!c.inertia&&d.removeAttribute("data-inertia");b.theme!==c.theme&&(W(d,"remove",b.theme),W(d,"add",c.theme))}function ca(a,b,c){a[b+
"EventListener"](ra&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend",c)}function W(a,b,c){c.split(/\s+/).filter(Boolean).forEach(function(c){a.classList[b](c+"-theme")})}function la(a,b){var c=b.clientX,e=b.clientY;return a.every(function(a){var b=a.popperRect,d=a.tooltipRect;a=a.interactiveBorder;var f=e-Math.max(b.bottom,d.bottom)>a,g=Math.min(b.left,d.left)-c>a,h=c-Math.max(b.right,d.right)>a;return Math.min(b.top,d.top)-e>a||f||g||h})}function ja(a,b){function g(){var a=
G.props.touch;return Array.isArray(a)?a:[a,0]}function h(a){return G.state.isMounted&&!G.state.isVisible||za.isTouch||sa&&"focus"===sa.type?0:k(G.props.delay,a?0:1,ea.delay)}function m(a,b,c){if(void 0===c&&(c=!0),Ga.forEach(function(c){({}).hasOwnProperty.call(c,a)&&c[a].apply(c,b)}),c){var e;(e=G.props)[a].apply(e,b)}}function t(){var b=G.props.aria;if(b){var c="aria-"+b,e=Ua.id;y(G.props.triggerTarget||a).forEach(function(a){var b=a.getAttribute(c);G.state.isVisible?a.setAttribute(c,b?b+" "+e:
e):(b=b&&b.replace(e,"").trim())?a.setAttribute(c,b):a.removeAttribute(c)})}}function u(){y(G.props.triggerTarget||a).forEach(function(b){G.props.interactive?b.setAttribute("aria-expanded",G.state.isVisible&&b===(wa||a)?"true":"false"):b.removeAttribute("aria-expanded")})}function v(){eb.body.removeEventListener("mouseleave",da);eb.removeEventListener("mousemove",Ra);Da=Da.filter(function(a){return a!==Ra})}function C(b){G.props.interactive&&Ea.contains(b.target)||(wa||a).contains(b.target)&&(za.isTouch||
G.state.isVisible&&A(G.props.trigger,"click"))||!0===G.props.hideOnClick&&(ya=!1,G.clearDelayTimeouts(),G.hide(),Ta=!0,setTimeout(function(){Ta=!1}),G.state.isMounted||V())}function V(){eb.removeEventListener("mousedown",C,!0)}function I(a,b){P(a,function(){!G.state.isVisible&&Ea.parentNode&&Ea.parentNode.contains(Ea)&&b()})}function N(a,b){P(a,b)}function P(a,b){function c(a){a.target===Ua&&"visibility"===a.propertyName&&(ca(Ua,"remove",c),b())}if(0===a)return b();ca(Ua,"remove",ta);ca(Ua,"add",
c);ta=c}function O(b,c,e){void 0===e&&(e=!1);y(G.props.triggerTarget||a).forEach(function(a){a.addEventListener(b,c,e);Ia.push({node:a,eventType:b,handler:c,options:e})})}function H(){"hold"===g()[0]&&(O("touchstart",ha,fa),O("touchend",xb,fa));G.props.trigger.split(/\s+/).filter(Boolean).forEach(function(a){if("manual"!==a)switch(O(a,ha),a){case "mouseenter":O("mouseleave",xb);break;case "focus":O(Ya?"focusout":"blur",yb)}})}function S(){Ia.forEach(function(a){a.node.removeEventListener(a.eventType,
a.handler,a.options)});Ia=[]}function ha(a){var b=!1;if(G.state.isEnabled&&!X(a)&&!Ta){if(sa=a,wa=a.currentTarget,u(),!G.state.isVisible&&n(a)&&Da.forEach(function(b){return b(a)}),"click"!==a.type||A(G.props.trigger,"mouseenter")&&!ya||!1===G.props.hideOnClick||!G.state.isVisible){var c=g(),e=c[0],c=c[1];za.isTouch&&"hold"===e&&c?ka=setTimeout(function(){qa(a)},c):qa(a)}else b=!0;"click"===a.type&&(ya=!b);b&&da(a)}}function R(b){x(b.target,function(b){return b===a||b===Ea})||la(p(Ea.querySelectorAll(kb)).concat(Ea).map(function(a){var b=
a._tippy,c=b.popperChildren.tooltip,b=b.props.interactiveBorder;return{popperRect:a.getBoundingClientRect(),tooltipRect:c.getBoundingClientRect(),interactiveBorder:b}}),b)&&(v(),da(b))}function xb(a){if(!X(a))return G.props.interactive?(eb.body.addEventListener("mouseleave",da),eb.addEventListener("mousemove",Ra),void D(Da,Ra)):void(A(G.props.trigger,"click")&&ya||da(a))}function yb(b){b.target===(wa||a)&&(G.props.interactive&&b.relatedTarget&&Ea.contains(b.relatedTarget)||da(b))}function X(a){var b=
"ontouchstart"in window;a=A(a.type,"touch");var c="hold"===g()[0];return b&&za.isTouch&&c&&!a||za.isTouch&&!c&&a}function W(){function b(a){var d=G.state.currentPlacement;G.state.currentPlacement=a.placement;G.props.flip&&!G.props.flipOnUpdate&&(a.flipped&&(G.popperInstance.options.placement=a.placement),c(G.popperInstance.modifiers,"flip","enabled",!1));Ua.setAttribute("data-placement",a.placement);!1!==a.attributes["x-out-of-boundaries"]?Ua.setAttribute("data-out-of-boundaries",""):Ua.removeAttribute("data-out-of-boundaries");
var f=Q(a.placement),g=A(["top","bottom"],f),f=A(["bottom","right"],f);Ua.style.top="0";Ua.style.left="0";Ua.style[g?"top":"left"]=(f?1:-1)*e+"px";d&&d!==a.placement&&G.popperInstance.update()}var e,f=G.props.popperOptions,g=G.popperChildren.arrow,h=f&&f.modifiers&&f.modifiers.flip,p=f&&f.modifiers&&f.modifiers.preventOverflow,n=d({eventsEnabled:!1,placement:G.props.placement},f,{modifiers:d({},f&&f.modifiers,{tippyDistance:{enabled:!0,order:0,fn:function(a){var b=eb,d=G.props.distance,f="string"==
typeof d&&A(d,"rem");e=(b=b.documentElement)&&f?parseFloat(getComputedStyle(b).fontSize||"16")*("number"==typeof d?d:parseFloat(d)):"number"==typeof d?d:parseFloat(d);f=Q(a.placement);d=J(f,p&&p.padding,e);f=J(f,h&&h.padding,e);b=G.popperInstance.modifiers;return c(b,"preventOverflow","padding",d),c(b,"flip","padding",f),a}},preventOverflow:d({boundariesElement:G.props.boundary},p),flip:d({enabled:G.props.flip,behavior:G.props.flipBehavior},h),arrow:d({element:g,enabled:!!g},f&&f.modifiers&&f.modifiers.arrow),
offset:d({offset:G.props.offset},f&&f.modifiers&&f.modifiers.offset)}),onCreate:function(a){b(a);var c=f&&f.onCreate;a=[a];c&&c!==n.onCreate&&c.apply(void 0,a);aa()},onUpdate:function(a){b(a);var c=f&&f.onUpdate;a=[a];c&&c!==n.onUpdate&&c.apply(void 0,a);aa()}});G.popperInstance=new ma["default"](a,Ea,n)}function aa(){0===Fa?(Fa++,G.popperInstance.update()):ra&&1===Fa&&(Fa++,Ea.offsetHeight,ra())}function ja(){Fa=0;var b,e=G.props.appendTo,d=wa||a;b=G.props.interactive&&e===ea.appendTo||"parent"===
e?d.parentNode:f(e,[d]);b.contains(Ea)||b.appendChild(Ea);"production"!==l.env.NODE_ENV&&E(G.props.interactive&&e===ea.appendTo&&d.nextElementSibling!==Ea,"Interactive tippy element may not be accessible via keyboard navigation because it is not directly after the reference element in the DOM source order. \n\n Using a wrapper \x3cdiv\x3e or \x3cspan\x3e tag around the reference element solves this by creating a new parentNode context. \n\n Specifying `appendTo: document.body` silences this warning, but it assumes you are using a focus management solution to handle keyboard navigation. \n\n See: https://atomiks.github.io/tippyjs/accessibility/#interactivity");
c(G.popperInstance.modifiers,"flip","enabled",G.props.flip);G.popperInstance.enableEventListeners();G.popperInstance.update()}function qa(a){G.clearDelayTimeouts();G.popperInstance||W();a&&m("onTrigger",[G,a]);eb.addEventListener("mousedown",C,!0);(a=h(!0))?ka=setTimeout(function(){G.show()},a):G.show()}function da(a){if(G.clearDelayTimeouts(),m("onUntrigger",[G,a]),!G.state.isVisible)return void V();(a=h(!1))?xa=setTimeout(function(){G.state.isVisible&&G.hide()},a):Ha=requestAnimationFrame(function(){G.hide()})}
var na=M(a,d({},ea,{},L(b)));if(!na.multiple&&a._tippy)return null;var ka,xa,Ha,sa,ra,ta,wa,ua=!1,ya=!1,Ta=!1,Fa=0,Ia=[],Ra=r(R,na.interactiveDebounce),eb=e(na.triggerTarget||a),gb=Aa++,Ea=Y(gb,na),zb=T(Ea),jb=z(na.plugins),Ua=zb.tooltip,Ba=[Ua,zb.content],G={id:gb,reference:a,popper:Ea,popperChildren:zb,popperInstance:null,props:na,state:{currentPlacement:null,isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:jb,clearDelayTimeouts:function(){clearTimeout(ka);clearTimeout(xa);
cancelAnimationFrame(Ha)},setProps:function(b){if("production"!==l.env.NODE_ENV&&E(G.state.isDestroyed,F("setProps")),!G.state.isDestroyed){"production"!==l.env.NODE_ENV&&(K(b,jb),E(!!b.plugins&&(b.plugins.length!==jb.length||jb.some(function(a,c){return!b.plugins||!b.plugins[c]||a!==b.plugins[c]})),"Cannot update plugins"));m("onBeforeUpdate",[G,b]);S();var c=G.props,e=M(a,d({},G.props,{},b,{ignoreAttributes:!0}));if(e.ignoreAttributes=B(b.ignoreAttributes,c.ignoreAttributes),G.props=e,H(),c.interactiveDebounce!==
e.interactiveDebounce&&(v(),Ra=r(R,e.interactiveDebounce)),Z(Ea,c,e),G.popperChildren=T(Ea),c.triggerTarget&&!e.triggerTarget?y(c.triggerTarget).forEach(function(a){a.removeAttribute("aria-expanded")}):e.triggerTarget&&a.removeAttribute("aria-expanded"),u(),G.popperInstance)Ca.some(function(a){return{}.hasOwnProperty.call(b,a)&&b[a]!==c[a]})?(e=G.popperInstance.reference,G.popperInstance.destroy(),W(),G.popperInstance.reference=e,G.state.isVisible&&G.popperInstance.enableEventListeners()):G.popperInstance.update();
m("onAfterUpdate",[G,b])}},setContent:function(a){G.setProps({content:a})},show:function(b){void 0===b&&(b=k(G.props.duration,0,ea.duration));"production"!==l.env.NODE_ENV&&E(G.state.isDestroyed,F("show"));var c=G.state.isDestroyed,e=!G.state.isEnabled,d=za.isTouch&&!G.props.touch;G.state.isVisible||c||e||d||(wa||a).hasAttribute("disabled")||(G.popperInstance||W(),m("onShow",[G],!1),!1!==G.props.onShow(G)&&(eb.addEventListener("mousedown",C,!0),Ea.style.visibility="visible",G.state.isVisible=!0,G.state.isMounted||
q(Ba.concat(Ea),0),ra=function(){G.state.isVisible&&(q([Ea],G.props.updateDuration),q(Ba,b),w(Ba,"visible"),t(),u(),D(Ja,G),U(!0),G.state.isMounted=!0,m("onMount",[G]),N(b,function(){G.state.isShown=!0;m("onShown",[G])}))},ja()))},hide:function(a){void 0===a&&(a=k(G.props.duration,1,ea.duration));"production"!==l.env.NODE_ENV&&E(G.state.isDestroyed,F("hide"));var b=G.state.isDestroyed,c=!G.state.isEnabled&&!ua;!G.state.isVisible&&!ua||b||c||(m("onHide",[G],!1),(!1!==G.props.onHide(G)||ua)&&(V(),Ea.style.visibility=
"hidden",G.state.isVisible=!1,G.state.isShown=!1,q(Ba,a),w(Ba,"hidden"),t(),u(),I(a,function(){G.popperInstance.disableEventListeners();G.popperInstance.options.placement=G.props.placement;Ea.parentNode.removeChild(Ea);Ja=Ja.filter(function(a){return a!==G});0===Ja.length&&U(!1);G.state.isMounted=!1;m("onHidden",[G])})))},enable:function(){G.state.isEnabled=!0},disable:function(){G.hide();G.state.isEnabled=!1},destroy:function(){"production"!==l.env.NODE_ENV&&E(G.state.isDestroyed,F("destroy"));G.state.isDestroyed||
(ua=!0,G.clearDelayTimeouts(),G.hide(0),S(),delete a._tippy,G.popperInstance&&G.popperInstance.destroy(),ua=!1,G.state.isDestroyed=!0,m("onDestroy",[G]))}};a._tippy=G;Ea._tippy=G;var Ga=jb.map(function(a){return a.fn(G)});return H(),u(),na.lazy||W(),m("onCreate",[G]),na.showOnCreate&&qa(),Ea.addEventListener("mouseenter",function(){G.props.interactive&&G.state.isVisible&&G.clearDelayTimeouts()}),Ea.addEventListener("mouseleave",function(){G.props.interactive&&A(G.props.trigger,"mouseenter")&&eb.addEventListener("mousemove",
Ra)}),G}function ha(a,b,c){void 0===b&&(b={});void 0===c&&(c=[]);c=ea.plugins.concat(b.plugins||c);"production"!==l.env.NODE_ENV&&(P(a),K(b,c));document.addEventListener("touchstart",H,d({},fa,{capture:!0}));window.addEventListener("blur",V);var e=d({},b,{plugins:c});b=m(a);if("production"!==l.env.NODE_ENV){c=h(e.content);var f=1<b.length;E(c&&f,"tippy() was passed an Element as the `content` prop, but more than one tippy instance was created by this invocation. This means the content element will only be appended to the last tippy instance. \n\n Instead, pass the .innerHTML of the element, or use a function that returns a cloned version of the element instead. \n\n 1) content: element.innerHTML\n 2) content: () \x3d\x3e element.cloneNode(true)")}b=
b.reduce(function(a,b){var c=b&&ja(b,e);return c&&a.push(c),a},[]);return h(a)?b[0]:b}Object.defineProperty(a,"__esModule",{value:!0});a.w=a.u=a.t=a.s=a.r=a.o=a.n=a.m=a.l=a.k=a.j=a.i=a.h=a.g=a.f=a.e=a.d=a.c=a.b=a.a=a._=a.R=a.B=void 0;var qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},da=b(53),ma=da&&da.__esModule?da:{"default":da},ea=d({allowHTML:!0,
animation:"fade",appendTo:function(){return document.body},aria:"describedby",arrow:!0,boundary:"scrollParent",content:"",delay:0,distance:10,duration:[300,250],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},
onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},placement:"top",plugins:[],popperOptions:{},role:"tooltip",showOnCreate:!1,theme:"",touch:!0,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,zIndex:9999},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1}),wa=Object.keys(ea),Ca="arrow boundary distance flip flipBehavior flipOnUpdate offset placement popperOptions".split(" "),sa=function(a){"production"!==l.env.NODE_ENV&&K(a,[]);Object.keys(a).forEach(function(b){ea[b]=
a[b]})},fa={passive:!0},ka="tippy-iOS",aa="tippy-popper",xa="tippy-tooltip",na="tippy-content",Ha="tippy-arrow",Ta="tippy-svg-arrow",kb="."+aa,Ra="."+xa,gb="."+na,Ia="."+Ha,ya="."+Ta,za={isTouch:!1},ta=0,Fa=(da="undefined"!=typeof window&&"undefined"!=typeof document)?navigator.userAgent:"",Ya=/MSIE |Trident\//.test(Fa),ra=/UCBrowser\//.test(Fa),ua=da&&/iPhone|iPad|iPod/.test(navigator.platform),Aa=1,Da=[],Ja=[];ha.version="5.1.3";ha.defaultProps=ea;ha.setDefaultProps=sa;ha.currentInput=za;a.B="tippy-backdrop";
a.R='\x3csvg viewBox\x3d"0 0 18 7" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/\x3e\x3c/svg\x3e';a._=d;a.a=g;a.b=ra;a.c=n;a.d=ea;a.e=N;a.f=za;a.g=e;a.h=x;a.i=A;a.j=Q;a.k=p;a.l=function(a){a=void 0===a?{}:a;var b=a.exclude,c=a.duration;Ja.forEach(function(a){var e=!1;b&&(e=b&&b._tippy&&b._tippy.reference===b?a.reference===b:a.popper===b.popper);e||a.hide(c)})};a.m=function(a){"production"!==
l.env.NODE_ENV&&E(!0,"createTippyWithPlugins([...]) has been deprecated. \n\n Use tippy.setDefaultProps({plugins: [...]}) instead.");var b=function(b,c,e){return void 0===c&&(c={}),void 0===e&&(e=[]),e=c.plugins||e,ha(b,d({},c,{plugins:[].concat(a,e)}))};return b.version="5.1.3",b.defaultProps=ea,b.setDefaultProps=sa,b.currentInput=za,b};a.n=y;a.o=da;a.r=u;a.s=w;a.t=ha;a.u=B;a.w=E}).call(a,b(66))},function(m,a,b){var l=[];for(a=0;256>a;++a)l[a]=(a+256).toString(16).substr(1);m.exports=function(a,
b){var k=b||0;return[l[a[k++]],l[a[k++]],l[a[k++]],l[a[k++]],"-",l[a[k++]],l[a[k++]],"-",l[a[k++]],l[a[k++]],"-",l[a[k++]],l[a[k++]],"-",l[a[k++]],l[a[k++]],l[a[k++]],l[a[k++]],l[a[k++]],l[a[k++]]].join("")}},function(m,a,b){var l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(l){var d=new Uint8Array(16);m.exports=function(){return l(d),
d}}else{var t=Array(16);m.exports=function(){for(var a,b=0;16>b;b++)0==(3&b)&&(a=4294967296*Math.random()),t[b]=a>>>((3&b)<<3)&255;return t}}},function(m,a,b){var l=b(110),d=b(109);m.exports=function(a,b,m){m=b&&m||0;"string"==typeof a&&(b="binary"===a?Array(16):null,a=null);a=a||{};a=a.random||(a.rng||l)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,b)for(var h=0;16>h;++h)b[m+h]=a[h];return b||d(a)}},function(m,a,b){var l,d,t,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:
function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){"object"===k(a)&&void 0!==m?m.exports=b():(d=[],l=b,void 0!==(t="function"==typeof l?l.apply(a,d):l)&&(m.exports=t))}(function(){return function(){function a(b,d,f){function c(l,q){if(!d[l]){if(!b[l]){if(g)return g(l,!0);var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k;}k=d[l]={exports:{}};b[l][0].call(k.exports,function(a){return c(b[l][1][a]||a)},
k,k.exports,a,b,d,f)}return d[l].exports}for(var g=!1,l=0;l<f.length;l++)c(f[l]);return c}return a}()({1:[function(a,b,d){function f(a){if(!a||"object"!=(void 0===a?"undefined":k(a)))return a;if("[object Date]"==Object.prototype.toString.call(a))return new Date(a.getTime());if(Array.isArray(a))return a.map(f);var b={};return Object.keys(a).forEach(function(d){b[d]=f(a[d])}),b}b.exports=f},{}],2:[function(a,b,d){b.exports=function(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||
(b=document);var d=/<([\w:]+)/.exec(a);if(!d)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");d=d[1];if("body"==d)return d=b.createElement("html"),d.innerHTML=a,d.removeChild(d.lastChild);var d=c[d]||c._default,f=d[0],h=d[1],p=d[2],d=b.createElement("div");for(d.innerHTML=h+a+p;f--;)d=d.lastChild;if(d.firstChild==d.lastChild)return d.removeChild(d.firstChild);for(f=b.createDocumentFragment();d.firstChild;)f.appendChild(d.removeChild(d.firstChild));return f};var f;a=!1;"undefined"!=typeof document&&
(f=document.createElement("div"),f.innerHTML='  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d"/a"\x3ea\x3c/a\x3e\x3cinput type\x3d"checkbox"/\x3e',a=!f.getElementsByTagName("link").length,f=void 0);var c={legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],_default:a?[1,"X\x3cdiv\x3e","\x3c/div\x3e"]:[0,"",""]};c.td=c.th=[3,
"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"];c.option=c.optgroup=[1,'\x3cselect multiple\x3d"multiple"\x3e',"\x3c/select\x3e"];c.thead=c.tbody=c.colgroup=c.caption=c.tfoot=[1,"\x3ctable\x3e","\x3c/table\x3e"];c.polyline=c.ellipse=c.polygon=c.circle=c.text=c.line=c.path=c.rect=c.g=[1,'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" version\x3d"1.1"\x3e',"\x3c/svg\x3e"]},{}],3:[function(a,b,d){function f(a,b,c){if(0===b.length)return c;var d=b.shift(),g=d.match(/^\[(.+?)\]$/);
if("[]"===d)return a=a||[],Array.isArray(a)?a.push(f(null,b,c)):(a._values=a._values||[],a._values.push(f(null,b,c))),a;g?(d=g[1],g=+d,isNaN(g)?(a=a||{},a[d]=f(a[d],b,c)):(a=a||[],a[g]=f(a[g],b,c))):a[d]=f(a[d],b,c);return a}function c(a,b,c){if(b.match(r)){var d=[],g=new RegExp(r),h=/^([^\[\]]*)/.exec(b);for(h[1]&&d.push(h[1]);null!==(h=g.exec(b));)d.push(h[1]);f(a,d,c)}else(d=a[b])?(Array.isArray(d)||(a[b]=[d]),a[b].push(c)):a[b]=c;return a}function g(a,b,c){return c=c.replace(/(\r)?\n/g,"\r\n"),
c=encodeURIComponent(c),c=c.replace(/%20/g,"+"),a+(a?"\x26":"")+encodeURIComponent(b)+"\x3d"+c}var l=/^(?:submit|button|image|reset|file)$/i,m=/^(?:input|select|textarea|keygen)/i,r=/(\[[^\[\]]*\])/g;b.exports=function(a,b){"object"!=(void 0===b?"undefined":k(b))?b={hash:!!b}:void 0===b.hash&&(b.hash=!0);for(var d=b.hash?{}:"",f=b.serializer||(b.hash?c:g),h=a&&a.elements?a.elements:[],n=Object.create(null),e=0;e<h.length;++e){var r=h[e];if((b.disabled||!r.disabled)&&r.name&&m.test(r.nodeName)&&!l.test(r.type)){var t=
r.name,v=r.value;if("checkbox"!==r.type&&"radio"!==r.type||r.checked||(v=void 0),b.empty){if("checkbox"!==r.type||r.checked||(v=""),"radio"===r.type&&(n[r.name]||r.checked?r.checked&&(n[r.name]=!0):n[r.name]=!1),!v&&"radio"==r.type)continue}else if(!v)continue;if("select-multiple"!==r.type)d=f(d,t,v);else{for(var r=r.options,v=!1,F=0;F<r.length;++F){var I=r[F],C=b.empty&&!I.value,C=I.value||C;I.selected&&C&&(v=!0,d=b.hash&&"[]"!==t.slice(t.length-2)?f(d,t+"[]",I.value):f(d,t,I.value))}!v&&b.empty&&
(d=f(d,t,""))}}}if(b.empty)for(t in n)n[t]||(d=f(d,t,""));return d}},{}],4:[function(a,b,d){var f=a("domify"),c=a("form-serialize"),g=a("deep-clone-simple"),l=function(a){var b=document.createElement("form");b.classList.add("vex-dialog-form");var c=document.createElement("div");c.classList.add("vex-dialog-message");c.appendChild(a.message instanceof window.Node?a.message:f(a.message));var d=document.createElement("div");return d.classList.add("vex-dialog-input"),d.appendChild(a.input instanceof window.Node?
a.input:f(a.input)),b.appendChild(c),b.appendChild(d),b},m=function(a){var b=document.createElement("div");b.classList.add("vex-dialog-buttons");for(var c=0;c<a.length;c++){var d=a[c],f=document.createElement("button");f.type=d.type;f.textContent=d.text;f.className=d.className;f.classList.add("vex-dialog-button");0===c?f.classList.add("vex-first"):c===a.length-1&&f.classList.add("vex-last");(function(a){f.addEventListener("click",function(b){a.click&&a.click.call(this,b)}.bind(this))}).call(this,
d);b.appendChild(f)}return b};b.exports=function(a){var b={name:"dialog",open:function(b){var c=Object.assign({},g(this.defaultOptions),b);c.unsafeMessage&&!c.message?c.message=c.unsafeMessage:c.message&&(c.message=a._escapeHtml(c.message));var d=c.unsafeContent=l(c);b=a.open(c);""!==c.yesText&&(c.buttons[0].text=c.yesText);""!==c.noText&&(c.buttons[1].text=c.noText);var f=c.beforeClose&&c.beforeClose.bind(b);(b.options.beforeClose=function(){var a=!f||f();return a&&c.callback(this.value||!1),a}.bind(b),
d.appendChild(m.call(b,c.buttons)),b.form=d,d.addEventListener("submit",c.onSubmit.bind(b)),c.focusFirstInput)&&(d=b.contentEl.querySelector("button, input, select, textarea"))&&d.focus();return b},alert:function(a){return"string"==typeof a&&(a={message:a}),a=Object.assign({},g(this.defaultOptions),g(this.defaultAlertOptions),a),this.open(a)},confirm:function(a){if("object"!==(void 0===a?"undefined":k(a))||"function"!=typeof a.callback)throw Error("dialog.confirm(options) requires options.callback.");
return a=Object.assign({},g(this.defaultOptions),g(this.defaultConfirmOptions),a),this.open(a)},prompt:function(b){if("object"!==(void 0===b?"undefined":k(b))||"function"!=typeof b.callback)throw Error("dialog.prompt(options) requires options.callback.");var c=Object.assign({},g(this.defaultOptions),g(this.defaultPromptOptions)),d={unsafeMessage:'\x3clabel for\x3d"vex"\x3e'+a._escapeHtml(b.label||c.label)+"\x3c/label\x3e",input:'\x3cinput name\x3d"vex" type\x3d"text" class\x3d"vex-dialog-prompt-input" placeholder\x3d"'+
a._escapeHtml(b.placeholder||c.placeholder)+'" value\x3d"'+a._escapeHtml(b.value||c.value)+'" /\x3e'};b=Object.assign(c,d,b);var f=b.callback;return b.callback=function(a){if("object"===(void 0===a?"undefined":k(a))){var b=Object.keys(a);a=b.length?a[b[0]]:""}f(a)},this.open(b)}};return b.buttons={YES:{text:"OK",type:"submit",className:"vex-dialog-button-primary",click:function(){this.value=!0}},NO:{text:"Cancel",type:"button",className:"vex-dialog-button-secondary",click:function(){this.value=!1;
this.close()}}},b.defaultOptions={callback:function(){},afterOpen:function(){},message:"",input:"",yesText:"",noText:"",buttons:[b.buttons.YES,b.buttons.NO],showCloseButton:!1,onSubmit:function(a){return a.preventDefault(),this.options.input&&(this.value=c(this.form,{hash:!0})),this.close()},focusFirstInput:!0},b.defaultAlertOptions={buttons:[b.buttons.YES]},b.defaultPromptOptions={label:"Prompt:",placeholder:"",value:""},b.defaultConfirmOptions={},b}},{"deep-clone-simple":1,domify:2,"form-serialize":3}]},
{},[4])(4)})},function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}function d(a,b,e){function d(a){a=(0,p.getIframeData)(a);c["default"].removeBotFromIframe(a)}function g(b,e){var f=void 0;(0,p.getRegisteredIframes)().forEach(function(g){c["default"].checkMappedElementIsVisible(g,b,function(b){b=k(b,1)[0];var g=b.iframeId;b.isVisible&&!f&&(f=g,b=r["default"].getIframeId(),b!==w.TOP_WINDOW_ID?d(b):a(),r["default"].setIframeId(""),c["default"].sendBotConfigToIframe((0,p.getIframeData)(f),
e,!0))})})}function l(){f.internalEventListener.removeListener("WIDGET_LOADED",l);e.open()}f.internalEventListener.addListener(n.IFRAME_TO_TOP_EVENTS.BOT_FOUND,function(b){!r["default"].getIframeId()&&b?(r["default"].setIframeId(b),c["default"].sendBotFound(b),b!==w.TOP_WINDOW_ID&&a()):r["default"].getIframeId()!==b&&(b!==w.TOP_WINDOW_ID?d(b):a())});f.internalEventListener.addListener(n.IFRAME_TO_TOP_EVENTS.IFRAME_CLOSED,function(a){r["default"].getIframeId()===a&&(r["default"].setIframeId(""),b(r["default"].getBotConfig()))});
f.internalEventListener.addListener(n.TOP_TO_IFRAME_EVENTS.BOT_RESPONSE,function(a){if(r["default"].setBotConfig(a),0<(0,p.getRegisteredIframes)().length){var b=r["default"].getIframeId();b&&b!==w.TOP_WINDOW_ID&&(b=(0,p.getIframeData)(b),c["default"].sendBotConfigToIframe(b,a,!1))}});f.internalEventListener.addListener("BOT_NOT_FOUND",function(){if(0<(0,p.getRegisteredIframes)().length){var a=r["default"].getBotConfig(),b=r["default"].getIframeId();b?b===w.TOP_WINDOW_ID&&(r["default"].setIframeId(""),
c["default"].sendBotConfig(a,!0)):c["default"].sendBotConfig(a,!0)}});f.internalEventListener.addListener(n.IFRAME_TO_TOP_EVENTS.GET_BOT_CONTENT,function(a,b,c){e.fetchEntriesById(a,v.eventTrackData.data[v.productIdParameter],v.eventTrackData.data[v.aptrinsicIdParam],b,c)});f.internalEventListener.addListener(n.IFRAME_TO_TOP_EVENTS.TRACK_BOT_TOGGLE,A.trackToggleWidget);f.internalEventListener.addListener("IFRAME_REGISTERED",(0,q.debounce)(function(a){try{var f=r["default"].getIframeId(),n=r["default"].getBotConfig();
if(n){var l=n.windowSettings.embedKCSettings.elementSelector;l.cssSelector&&c["default"].addElementClickListener(a,l.cssSelector);f||!(0,h.getConfig)("framesetMode")&&!(0,q.isElementVisible)(a.elementData)?f===w.TOP_WINDOW_ID?(0,B.findInAll)(l,null,function(a){a&&((0,q.isElementVisible)(a.element,!0)||(e.close(),g(l,n)))}):a.iframeId!==f&&c["default"].checkMappedElementIsVisible((0,p.getIframeData)(f),l,function(a){k(a,1)[0].isVisible||(0,B.findInAll)(l,null,function(a){a&&((0,q.isElementVisible)(a.element,
!0)?(d(f),b(r["default"].getBotConfig())):g(l,n))})}):c["default"].sendBotConfigToIframe(a,n,!0)}}catch(m){u.logger.log("Embedded bot onIframeRegistered "+m)}},0));f.internalEventListener.addListener(n.BOT_IFRAME_INTERNAL_EVENTS.BOT_EMPTY_CONFIG,function(){r["default"].setIframeId("");c["default"].removeWidgetFromAllIframes()});f.internalEventListener.addListener(n.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,function(e){var d=r["default"].getIframeId();if(!d||d&&d!==e)e===w.TOP_WINDOW_ID?(e=(0,p.getIframeData)(r["default"].getIframeId()),
(0,h.getConfig)("framesetMode")||(0,q.isElementVisible)(e.domElement)||(r["default"].setIframeId(""),f.internalEventListener.addListener("WIDGET_LOADED",l),c["default"].removeWidgetFromAllIframes(),b(r["default"].getBotConfig()))):(r["default"].setIframeId(""),a(),e=(0,p.getIframeData)(e),c["default"].sendBotConfigToIframe(e,r["default"].getBotConfig(),!0,!0))});f.internalEventListener.addListener(n.BOT_INTERNAL_EVENTS.BOT_CLICK_OUTSIDE,function(){e.close(!0)})}function t(a,b,c){function d(){c.open()}
var h=null;f.internalEventListener.addListener(n.TOP_TO_IFRAME_EVENTS.REMOVE_BOT,a);f.internalEventListener.addListener(n.BOT_IFRAME_INTERNAL_EVENTS.INIT_WIDGET_IN_IFRAME,function(a,c,e){e&&(f.internalEventListener.removeListener("WIDGET_LOADED",d),f.internalEventListener.addListener("WIDGET_LOADED",d,null,!1,!0));b(a,c)});f.internalEventListener.addListener(n.TOP_TO_IFRAME_EVENTS.POST_BOT_EVENT,c.postToWidget);f.internalEventListener.addListener(n.TOP_TO_IFRAME_EVENTS.SET_BOT_IS_OPEN,c.setIsOpen);
f.internalEventListener.addListener(n.TOP_TO_IFRAME_EVENTS.IS_ELEMENT_VISIBLE,function(a,b){var c=!1,e=(0,y.findInWindow)(a.cssSelector,document);e&&(c=(0,q.isElementVisible)(e,!0));g["default"].checkMappedElementIsVisibleResponse(b,c)});f.internalEventListener.addListener(n.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,g["default"].postClickElement);f.internalEventListener.addListener(n.BOT_INTERNAL_EVENTS.BOT_CLICK_OUTSIDE,function(){c.close(!0)});f.internalEventListener.addListener(n.TOP_TO_IFRAME_EVENTS.ADD_ELEMENT_CLICK_LISTENER,
function(a){try{h=function(b){var c=(0,e.findSingleElementInShadowDom)(a,document);return c&&(b.target===c||c.contains(b.target))&&(b.preventDefault(),b.stopImmediatePropagation(),f.internalEventListener.dispatchEvent(n.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,(0,x.getIframeId)())),!1},(0,q.removeEventListener)(document,"click",h,!1),(0,q.addEventListener)(document,"click",h,!1)}catch(b){u.logger.log("Embedded bot addElementClickListener "+b)}})}Object.defineProperty(a,"__esModule",{value:!0});var k=
function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],e=!0,d=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);e=!0);}catch(n){d=!0,f=n}finally{try{!e&&h["return"]&&h["return"]()}finally{if(d)throw f;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a["default"]=function(a,b,c){try{(0,h.isIframe)()?(t(a,b,c),(0,q.addEventListener)(window,"unload",function(){g["default"].postIframeClosed()})):
(d(a,b,c),c&&c.handleIncomingBotEvents())}catch(e){u.logger.logInternalError(Error("handlingEmbeddedBotIframeRequests - "+e))}};var v=b(4),h=b(1),n=b(23),f=b(11);m=b(48);var c=l(m);m=b(47);var g=l(m),q=b(0),w=b(46),r=l(w),u=b(3),p=b(7),x=b(15),A=b(85),B=b(19),y=b(6),e=b(17)},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.shouldInjectAccountId=function(a,b){return(0,l.isObject)(a)&&(0,l.isObject)(b)&&b.hasOwnProperty("id")&&b.id};var l=b(0)},function(m,a,b){Object.defineProperty(a,
"__esModule",{value:!0});a["default"]=function(a){var b=a.content;switch(b.type){case k.TOP_TO_IFRAME_EVENTS.BOT_RESPONSE:v.internalEventListener.dispatchEvent(k.BOT_IFRAME_INTERNAL_EVENTS.INIT_WIDGET_IN_IFRAME,b.botConfig,b.isInitial,b.shouldOpen);break;case k.TOP_TO_IFRAME_EVENTS.BOT_FOUND:a=b.iframeId;(0,t.getIframeId)()!==a&&v.internalEventListener.dispatchEvent(k.TOP_TO_IFRAME_EVENTS.REMOVE_BOT);break;case k.TOP_TO_IFRAME_EVENTS.GET_APTRINSIC_ID_RESPONSE:case k.TOP_TO_IFRAME_EVENTS.GET_BOT_CONTENT_RESPONSE:(0,
d.decrementState)(a.aptrinsicRequestId,b);break;case k.TOP_TO_IFRAME_EVENTS.SET_BOT_IS_OPEN:v.internalEventListener.dispatchEvent(k.TOP_TO_IFRAME_EVENTS.SET_BOT_IS_OPEN,b.isOpen);break;case k.TOP_TO_IFRAME_EVENTS.POST_BOT_EVENT:v.internalEventListener.dispatchEvent(k.TOP_TO_IFRAME_EVENTS.POST_BOT_EVENT,b.data);break;case k.TOP_TO_IFRAME_EVENTS.REMOVE_BOT:v.internalEventListener.dispatchEvent(k.TOP_TO_IFRAME_EVENTS.REMOVE_BOT);break;case k.TOP_TO_IFRAME_EVENTS.IS_ELEMENT_VISIBLE:v.internalEventListener.dispatchEvent(k.TOP_TO_IFRAME_EVENTS.IS_ELEMENT_VISIBLE,
b.cssSelector,a.aptrinsicRequestId);break;case k.TOP_TO_IFRAME_EVENTS.ADD_ELEMENT_CLICK_LISTENER:v.internalEventListener.dispatchEvent(k.TOP_TO_IFRAME_EVENTS.ADD_ELEMENT_CLICK_LISTENER,b.cssSelector);break;default:l.logger.logInternalError(Error("child iframe script got unsupported bot event from top window, data: "+JSON.stringify(a)))}};var l=b(3),d=b(7),t=b(15),k=b(23),v=b(11)},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a["default"]=function(a){var b=a.content;switch(b.type){case d.IFRAME_TO_TOP_EVENTS.BOT_FOUND:t.internalEventListener.dispatchEvent(d.IFRAME_TO_TOP_EVENTS.BOT_FOUND,
a.aptrinsicIframeId);break;case d.IFRAME_TO_TOP_EVENTS.IFRAME_CLOSED:t.internalEventListener.dispatchEvent(d.IFRAME_TO_TOP_EVENTS.IFRAME_CLOSED,a.aptrinsicIframeId);break;case d.IFRAME_TO_TOP_EVENTS.POST_BOT_EVENT:t.internalEventListener.dispatchEvent(d.IFRAME_TO_TOP_EVENTS.POST_BOT_EVENT,a.aptrinsicIframeId);break;case d.IFRAME_TO_TOP_EVENTS.TRACK_BOT_TOGGLE:t.internalEventListener.dispatchEvent(d.IFRAME_TO_TOP_EVENTS.TRACK_BOT_TOGGLE,b.botId,b.isOpen);break;case d.IFRAME_TO_TOP_EVENTS.IS_ELEMENT_VISIBLE_RESPONSE:(0,
l.decrementState)(a.aptrinsicRequestId,b);break;case d.IFRAME_TO_TOP_EVENTS.GET_APTRINSIC_ID:var b=h.eventTrackData.data[h.aptrinsicIdParam],c=(0,l.getIframeData)(a.aptrinsicIframeId);k["default"].getAptrinsicIdResponse(c,a.aptrinsicRequestId,b);break;case d.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK:t.internalEventListener.dispatchEvent(d.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,a.aptrinsicIframeId);break;case d.IFRAME_TO_TOP_EVENTS.GET_BOT_CONTENT:var b=b.botId,g=(0,l.getIframeData)(a.aptrinsicIframeId);
t.internalEventListener.dispatchEvent(d.IFRAME_TO_TOP_EVENTS.GET_BOT_CONTENT,b,function(b){k["default"].getBotContentResponse(g,a.aptrinsicRequestId,b,null)},function(b){k["default"].getBotContentResponse(g,a.aptrinsicRequestId,null,b)});break;default:v.logger.logInternalError(Error("master script got unsupported bot event from top window, data: "+JSON.stringify(a)))}};var l=b(7),d=b(23),t=b(11),k=(m=b(48))&&m.__esModule?m:{"default":m},v=b(3),h=b(4)},,,,,function(m,a,b){Object.defineProperty(a,"__esModule",
{value:!0});a["default"]=function(a,b,m){var r={};Object.assign(r,l.eventTrackData[n.cacheGetAll]());(0,v.addCacheBuster)(r);var u=(0,f.getGlobalContext)();u&&Object.assign(r,{gcx:JSON.stringify(u)});Object.assign(r,(0,c.getWebContext)());r.at=b||"a";b=d.ondemandEndpoint+"/"+l.eventTrackData.data[l.productIdParameter]+"/"+a+"?"+(0,v.convert2Parameters)((0,v.addParameters)(r,[]));try{k.AjaxUtil.getData(b,function(a){m(a);h.EngagementDrawer.draw([a])})}catch(p){t.logger.logInternalError("Error during getting on demand engagement id "+
a)}};var l=b(4),d=b(1),t=b(3),k=b(12),v=b(0),h=b(43),n=b(5),f=b(21),c=b(20)},function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(a,"__esModule",{value:!0});var d=b(0),t=b(3),k=b(28),v=b(12),h=b(4),n=b(5);m=b(14);var f=l(m);m=b(33);m=l(m);var c=b(6),g=b(87),q=l(g),w=b(25),r=b(1),u=b(11),p=b(16),x=b(8),A=b(18),B=b(21),y=b(20),e=b(9),D=b(32);D.defaultOptions.className="vex-theme-os";var z=b(149),J=b(160),F=b(161),I=b(162),C=b(163),E=b(164),N=b(165),P=b(166),L=b(167),
O=b(150),M=b(151),K=b(152),H=b(153),R=b(154),V=b(155),U=b(156),Q=b(157),S=b(158),T=b(159),X=b(168),Y=b(172),Z=b(173),ca=b(174),W=b(175),la=b(176),ja=b(177),ha=b(178),qa=b(179),da=b(169),ma=b(170),ea=b(171),wa=new m["default"],Ca=void 0;a["default"]=function(){function a(b,c){if(!f["default"].isEditorMode()){var e=r.trackMultiStepEndpoint,g=[];if(!0!==q["default"].wasCompletedTracked(b.executionId)){2===c&&q["default"].markCompletedTracked(b.executionId);g=(0,d.addParameters)(h.eventTrackData[n.cacheGetAll](),
g);(0,d.addParameters)({ei:b.engagementId||null,ecoi:b.content.id||null,evi:b.matchEventId||null,ent:3,ems:c||null,acci:b.accountId,exi:b.executionId,ext:b.executionTimestamp,at:b.activationType||"a",cl:b.contentLocale},g);ta&&"kc"===b.activationType&&(0,d.addParameters)(ta,g);var g=(0,d.addParameters)((0,y.getWebContext)(),g),l=(0,A.getChannel)(h.eventTrackData[n.cacheGet](h.productIdParameter)),k=(0,B.getGlobalContext)(),m=void 0;k&&(m={gcx:JSON.stringify(k)},l!==x.DESKTOP_CHANNEL&&(0,d.addParameters)(m,
g));l==x.DESKTOP_CHANNEL?(0,p.desktopTrackEngagementState)(g,m):(e+="?"+(0,d.convert2Parameters)(g),v.AjaxUtil.getData(e));u.internalEventListener.dispatchEvent("engagementCompleted",(0,p.getExternalEvent)(b,"Completed"))}}}function b(a,c,e){if(!f["default"].isEditorMode()&&!q["default"].wasStepTracked(a.executionId,c)){q["default"].markStepTracked(a.executionId,c);var g=r.trackStepEndpoint,l=[],l=(0,d.addParameters)(h.eventTrackData[n.cacheGetAll](),l);(0,d.addParameters)({ei:a.engagementId,ecoi:a.content.id,
cosi:c,evi:a.matchEventId,cossn:e,ent:3,acci:a.accountId,exi:a.executionId,ext:a.executionTimestamp,at:a.activationType||"a",cl:a.contentLocale},l);ta&&"kc"===a.activationType&&(0,d.addParameters)(ta,l);c=(0,B.getGlobalContext)();var k=(0,A.getChannel)(h.eventTrackData[n.cacheGet](h.productIdParameter)),m=void 0;c&&(m={gcx:JSON.stringify(c)},k!==x.DESKTOP_CHANNEL&&(0,d.addParameters)(m,l));l=(0,d.addParameters)((0,y.getWebContext)(),l);k==x.DESKTOP_CHANNEL?(0,p.desktopTrackStep)(l,m):(g+="?"+(0,d.convert2Parameters)(l),
v.AjaxUtil.getData(g));a=(0,p.getExternalEvent)(a,"Viewed Step");a.stepNumber=e+1;u.internalEventListener.dispatchEvent("engagementViewedStep",a)}}function g(){oa.close()}function l(c,e,f){try{var g,h=e.content;if(c>ua.length&&!h.cyclic)return void oa.close();h.cyclic&&c>ua.length&&(ra=1);h.cyclic&&1>c&&(ra=ua.length);(0,p.isSnoozeButtonEnabled)(e.activationType,h.snoozeButton,e.activationTypes)&&(f.querySelector(".aptr-snooze-container").style.display=1===ra?"block":"none");(!h.cyclic&&c==ua.length&&
h.carouselNavigation&&h.carouselNavigation.lastSlideSettings&&m(f,h.carouselNavigation.lastSlideSettings),h.cyclic)||(f.querySelector(".aptr-nav-button.aptr-arrow-left").style.display=1==c?"none":"");if(Aa)for(g=0;g<Aa.length;g++)Aa[g].classList.remove("aptr-slideshow-active"),Aa[g].style.backgroundColor=h.carouselNavigation.backgroundColor?h.carouselNavigation.backgroundColor:"#ffffff";var n=f.querySelector(".aptr-slides-container"),k=h.carouselSlideList[ra-1],q=parseInt(window.getComputedStyle(Aa[0].parentNode).height);
f.style.backgroundColor="transparent";(0,d.setCrossBrowserTransform)(n,"translateX("+-1*Ja[ra-1]+"px)");0<k.width&&(f.style.width=k.width+"px");0<k.width&&(f.style.width=k.width+"px");ua[ra-1].setAttribute("aria-hidden","false");if(k.autoHeight){var r=window.getComputedStyle(n.children[ra-1]).height;cb[ra-1]||(r=parseInt(r)+q+"px",n.children[ra-1].style.height=r,cb[ra-1]=!0);n.parentNode.style.height=r;f.style.height=r}else 0<k.height&&(f.style.height=k.height+"px",n.parentNode.style.height=k.height+
"px");0<Aa.length&&(Aa[ra-1].style.backgroundColor="transparent",Aa[ra-1].classList.add("aptr-slideshow-active"),Aa[ra-1].style.borderColor=h.carouselNavigation.backgroundColor?h.carouselNavigation.backgroundColor:"#ffffff");b(e,k.id,k.sequence);ra==ua.length&&a(e,2);h.interval&&(h.cyclic||c<ua.length)&&(Za=setTimeout(function(){l(++ra,e,f)},h.interval*d.MILLISEC));(0,A.isDesktop)()&&!mb[k.id]&&(mb[k.id]=!0,(0,p.addLinkListenerForDesktop)(n.children[ra-1],e,k.id,k.sequence));(0,p.sendDesktopResize)(f,
e,k)}catch(u){t.logger.logInternalError(u)}}function m(a,b){var c=a.querySelector(".aptr-nav-button:not(.aptr-arrow-left)");c.style.backgroundColor=b.backgroundColor;c.removeChild(c.querySelector(".aptr-arrow-icon"));var e=(0,d.createElement)("div",[]);e.innerHTML=Ya[b.checkmarkType];e=e.firstChild;e.classList.add("aptr-arrow-icon");e.style.stroke=b.color;e.style.fill=b.color;(0,d.appendElements)(c,[e])}function na(a){if(a){var b=(0,d.createElement)("div",["aptr-slides-container"]),c=gb(a.carouselSlideList);
(0,d.appendElements)(b,c);var c=(0,d.createElement)("div",["aptr-arrows-container"]),e,f=a.carouselNavigation;if(!f)throw Error("No navigation settings provided for carousel");e=[];var g=(0,d.createElement)("span",["aptr-nav-button","aptr-arrow-left"]);g.setAttribute("role","button");g.setAttribute("aria-label","previous");var h=(0,d.createElement)("div",[]);h.innerHTML=Fa[f.arrowType];var p=h.firstChild;p.classList.add("aptr-arrow-icon");(0,d.appendElements)(g,[p]);p=(0,d.createElement)("span",["aptr-nav-button",
"aptr-arrow-right"]);p.setAttribute("role","button");p.setAttribute("aria-label","next");h=(0,d.createElement)("div",[]);h.innerHTML=Fa[f.arrowType];f=h.firstChild;e=(f.classList.add("aptr-arrow-icon"),(0,d.appendElements)(p,[f]),e.push(g),e.push(p),e);(0,d.appendElements)(c,e);e=(0,d.createElement)("div",["aptr-slideshow-dots-container"]);a=a.carouselSlideList.length;g=[];for(f=0;f<a;f++)p=(0,d.createElement)("div",["aptr-slideshow-dot"]),g.push(p);Aa=g;(0,d.appendElements)(e,Aa);a=(0,d.createElement)("div",
["aptr-carousel-engagement"]);return(0,d.appendElements)(a,[b,c,e]),a}}function Ha(a,b){if(a){var c=b.querySelector(".aptr-slides-container");if(c.style.width=Da+"px",a.borderRadius){var e=b.querySelector(".aptr-carousel-engagement");e&&(e.style.borderRadius=a.borderRadius+"px");b.style.borderRadius=a.borderRadius+"px"}Ia(a.carouselSlideList,c.children)}}function Ta(a,b){for(var c=0;c<b.length;c++)b[c].style.borderColor=a.backgroundColor}function kb(a,b,c){Ra(b,a);Ra(c,a)}function Ra(a,b){a.style.backgroundColor=
b.backgroundColor;a.style.borderRadius=b.backgroundRadius?b.backgroundRadius+"%":"0px";var c=a.querySelector(".aptr-arrow-icon");c.style.stroke=b.color;c.style.fill=b.color}function gb(a){var b=[];if(!a.forEach)throw Error("Cannot create slides for carousel because slides array was not sent correctly");return a.sort(function(a,b){return a.sequence-b.sequence}),a.forEach(function(a,e){Ja[e]=Da;Da+=a.width;var f=(0,d.createElement)("div",["aptr-slide"]);f.setAttribute("id","slide"+a.id);ya(f);a.html&&
(f.innerHTML=(0,c.addNonceToDomString)(a.html));b.push(f)}),b}function Ia(a,b){a.sort(function(a,b){return a.sequence-b.sequence});a.forEach(function(a,c){var e=b[c];a.backgroundType&&"IMAGE"===a.backgroundType?a.backgroundImage?e.style.background=a.backgroundImage:e.style.backgroundColor=(0,d.hexToRgba)("#ffffff",a.backgroundFill||0===a.backgroundFill?a.backgroundFill/100:1):e.style.backgroundColor=a.backgroundColor?(0,d.hexToRgba)(a.backgroundColor,a.backgroundFill||0===a.backgroundFill?a.backgroundFill/
100:1):(0,d.hexToRgba)("#ffffff",a.backgroundFill||0===a.backgroundFill?a.backgroundFill/100:1);e.style.height=a.autoHeight?"auto":a.height+"px";e.style.width=a.width+"px"})}function ya(a){a.setAttribute("aria-hidden","true")}function za(a,b,d){function f(a,b){for(var c=0;c<a.length;c+=1)b(a[c],c)}function g(){f(a,function(a){"true"!==a.getAttribute("aria-hidden")&&(a.classList.remove("aptr-slide-hide"),a.classList.add("aptr-slide-show"))})}var h=document.querySelector(".aptr-slides-container");return(0,
c.addTransitionEndListener)(h,function(){f(a,function(a,c){"true"!==a.getAttribute("aria-hidden")||(a.classList.remove("aptr-slide-show"),a.classList.add("aptr-slide-hide"),d)||(b.querySelector(".aptr-nav-button.aptr-arrow-left").style.display=0===c?"none":"")})}),(0,c.addTransitionStartListener)(h,g),function(){var a=(0,e.getBrowserDetails)(),b=a.version;"chrome"===a.name&&74>parseInt(b,10)&&g()}}var ta=null,Fa={ARROW_1:z,ARROW_2:J,ARROW_3:F,ARROW_4:I,ARROW_5:C,ARROW_6:E,ARROW_7:N,ARROW_8:P,ARROW_9:L,
ARROW_10:O,ARROW_11:M,ARROW_12:K,ARROW_13:H,ARROW_14:R,ARROW_15:V,ARROW_16:U,ARROW_17:Q,ARROW_18:S,ARROW_19:T,EMPTY_ARROW_TYPE:z},Ya={V_1:X,V_2:Y,V_3:Z,V_4:ca,V_5:W,V_6:la,V_7:ja,V_8:ha,V_9:qa,V_10:da,V_11:ma,V_12:ea,EMPTY_LAST_SLIDE_ICON_TYPE:X},ra=1,ua=[],Aa=[],Da=0,Ja=[],oa=null,Za=null,Xa=null,cb={},mb={};this.drawCarousel=function(b,e,f){ta=f;ra=1;ua=[];Aa=[];Da=0;Ja=[];Xa=Za=oa=null;cb={};this.carousel=b;var h=na(b.content);Xa=Xa||0===Xa?Xa:b.content.zindex||b.content.zIndex||2147483647;oa=
D.open({appendLocation:(0,r.getConfig)("framesetMode")?"html":"body",enableModalBodyScroll:(0,r.getConfig)("enableModalBodyScroll"),closeClassName:"aptr-engagement-close-btn px-close-button",unsafeContent:h.outerHTML,showCloseButton:!0,overlayClosesOnClick:!1,afterOpen:function(){var f=this,n=x.TAB_INDEX_START;(0,r.getConfig)("enableModalBodyScroll")&&(0,r.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");this.rootEl.setAttribute("aria-live","polite");this.contentEl.classList.add("apt-carousel-popup");
this.contentEl.setAttribute("data-apt-disable-selector",!0);this.contentEl.classList.add("px-engagement-wrapper-slider");this.contentEl.classList.add("px-engagement-wrapper");this.contentEl.style.zIndex=b.content.zindex||b.content.zIndex||Xa;this.rootEl.style.zIndex=b.content.zindex||b.content.zIndex||Xa;(0,c.addStyleTag)(this.contentEl,b.content.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os");(0,c.addStyleTag)(this.contentEl,b.content.engagementCoreStyling,"px-engagement-wrapper-slider",
".apt-vex.vex.vex-theme-os");(0,c.addStyleTag)(this.contentEl,b.content.overrideStyling,"px-engagement-wrapper-slider",".apt-vex.vex.vex-theme-os");Array.isArray(b.content.carouselSlideList)&&b.content.carouselSlideList.forEach(function(a){var b=a&&a.style;b&&(0,c.addStyleTag)(f.contentEl,b,"px-engagement-wrapper-slider #slide"+a.id,".apt-vex.vex.vex-theme-os")});this.rootEl.querySelector(".vex-overlay").style.zIndex=Xa;b.content.overlayColor&&(this.rootEl.querySelector(".vex-overlay").style.background=
(0,d.hexToRgba)(b.content.overlayColor,b.content.overlayFill?b.content.overlayFill/100:0));(!b.content.overlayFill||1>b.content.overlayFill)&&this.rootEl.classList.add("apt-popup-disable-overlay");b.borderRadius&&(this.contentEl.style.borderRadius=b.borderRadius+"px");var k=void 0;if((0,p.isSnoozeButtonEnabled)(b.activationType,b.content.snoozeButton,b.activationTypes)){var q=this.contentEl.querySelector(".aptr-slideshow-dots-container"),m=(0,d.createElement)("div",["aptr-snooze-container"]),k=b.content.carouselSlideList[ra-
1],k=(0,p.createSnoozeButton)(b.content.snoozeButton,m,b,k.id,k.sequence,g);q.appendChild(m)}q=this.contentEl.getElementsByClassName("aptr-nav-button");ua=document.getElementsByClassName("aptr-slide");Aa=document.getElementsByClassName("aptr-slideshow-dot");var t=za(ua,h,b.content.cyclic),u=q[0],v=q[1];Ha(b.content,this.contentEl);kb(b.content.carouselNavigation,u,v);Ta(b.content.carouselNavigation,Aa);q=function(){clearTimeout(Za);var a=ra-1;l(--ra,b,f.contentEl);ya(ua[a]);if(!b.content.cyclic&&
ra==ua.length-1){var a=b.content.carouselNavigation,c=f.contentEl.querySelector(".aptr-nav-button:not(.aptr-arrow-left)");c.style.backgroundColor=a.backgroundColor;c.removeChild(c.querySelector(".aptr-arrow-icon"));var e=(0,d.createElement)("div",[]);e.innerHTML=Fa[a.arrowType];e=e.firstChild;e.classList.add("aptr-arrow-icon");e.style.stroke=a.color;e.style.fill=a.color;(0,d.appendElements)(c,[e])}};m=function(){clearTimeout(Za);var a=ra-1;l(++ra,b,f.contentEl);t();ya(ua[a])};(0,d.addEventListener)(u,
"click",q);(0,d.addEventListener)(v,"click",m);(0,c.disableFocusOnClick)(u,this.contentEl);(0,c.disableFocusOnClick)(v,this.contentEl);(0,d.addEnterKeyDownListener)(u,q);(0,d.addEnterKeyDownListener)(v,m);(0,p.removeCicularTabsWrapperListener)(Ca);(0,p.checkHasOverlay)(b.content.overlayColor,b.content.overlayFill)&&(Ca=(0,p.addCircularTabListener)(function(){b.content.cyclic?(0,c.focusElement)(u):1===ra?(0,c.focusElement)(v):(0,c.focusElement)(u)}));u.setAttribute("tabindex",n);n+=1;n=(0,p.setTabIndexes)(this.contentEl,
n);(0,p.addTabbableEnterListener)();k&&(k.setAttribute("tabindex",n),n+=1);v.setAttribute("tabindex",n);n+=1;(0,r.getConfig)("clientSideEngagementTracking")&&a(b,1);l(ra,b,this.contentEl);(0,A.isDesktop)()?(this.contentEl.style.position="fixed",this.contentEl.style.top="0px",this.contentEl.style.left="0px"):wa.positionElement(this.contentEl,null,"center","center");b.content.carouselSlideList.forEach(function(a){(0,p.listenToLinksClicks)(f.rootEl.querySelector("#slide"+a.id),b,{stepId:a.id,stepName:a.name})});
e&&e(b,this.contentEl)},afterClose:function(){(0,r.getBody)().classList.add("apt-vex");var a={engagementId:b.engagementId};q["default"].wasCompletedTracked(b.executionId)?(0,w.internalApt)("engagementCompletedClosed",a):(0,w.internalApt)("engagementDroppedClosed",a);(0,p.removeCicularTabsWrapperListener)(Ca);(0,k.sendEngagementClosedEvent)()},beforeClose:function(){try{(0,k.handleEngagementFinish)("IN_APP_CAROUSEL"),(0,p.removeTabbableEnterListener)()}catch(a){t.logger.logInternalError(a,"Error in before closing slider")}}})};
this.close=function(){oa&&oa.close()};na=na.bind(this);l=l.bind(this)}},function(m,a,b){function l(a){var b=a.id,c=a.contentType,d=a.deviceType,f=a.coreStyling,g=a.overrideStyling,h=a.engagementCoreStyling,p=a.defaultLanguage,n=a.deviceContentLanguagesList,l=a.htmlElements;a=a.htmlLangAddition;return n.sort(),{id:b,contentType:c,deviceType:d,coreStyling:f,overrideStyling:g,engagementCoreStyling:h,defaultLanguage:p,deviceContentLanguagesList:n,htmlElements:l,htmlLangAddition:a}}function d(a){var b=
a.id,c=a.contentType,d=a.deviceType,f=a.coreStyling,g=a.overrideStyling,h=a.engagementCoreStyling,l=a.defaultLanguage,k=a.deviceContentLanguagesList,m=a.footer,t=a.buttonType,v=a.url,y=a.targetUrl,K=a.transitionType,H=a.transitionTimeout,R=a.overlayColor,V=a.overlayFill,U=a.modal,Q=a.overlayPadding,S=a.steps,T=a.widgetEnabled,X=a.widgetTitle,Y=a.widgetDescription,Z=a.category,ca=a.endButtonText,W=a.restartButtonText,la=a.nextButtonText,ja=a.backButtonText,ha=a.getStartedButtonText,qa=a.skipButtonText,
da=a.stepCounterLabelText,ma=a.borderRadius,ea=a.completionClosingAction,wa=a.completionClosingRedirectUrl,Ca=a.interruptClosingAction,sa=a.interruptClosingRedirectUrl,fa=a.showStepCounter,ka=a.skipButton;a=a.startButton;k.sort();S=S.map(function(a){var b=n(a,q);return b.textRule=n(a.textRule,w),b.textRule&&b.textRule.values&&b.textRule.values.sort(),b.navigation=n(a.navigation,r),b.shadowSettings=n(a.shadowSettings,B),b.overlay=n(a.overlay,u),b.hotspotSettings=n(a.hotspotSettings,p),b});return S.sort(function(a,
b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:c,deviceType:d,coreStyling:f,overrideStyling:g,engagementCoreStyling:h,defaultLanguage:l,deviceContentLanguagesList:k,footer:m,buttonType:t,url:v,targetUrl:y,transitionType:K,transitionTimeout:H,overlayColor:R,overlayFill:V,modal:U,overlayPadding:Q,steps:S,widgetEnabled:T,widgetTitle:X,widgetDescription:Y,category:n(Z,x),endButtonText:ca,restartButtonText:W,nextButtonText:la,backButtonText:ja,getStartedButtonText:ha,skipButtonText:qa,stepCounterLabelText:da,
borderRadius:ma,completionClosingAction:ea,completionClosingRedirectUrl:wa,interruptClosingAction:Ca,interruptClosingRedirectUrl:sa,showStepCounter:fa,skipButton:n(ka,A),startButton:n(a,A)}}function t(a){var b=a.id,d=a.contentType,h=a.deviceType,p=a.coreStyling,l=a.overrideStyling,k=a.engagementCoreStyling,q=a.defaultLanguage,m=a.deviceContentLanguagesList,r=a.defaultHeight,t=a.defaultWidth,u=a.transitionType,v=a.interval,w=a.hideNavigation,x=a.cyclic,y=a.overlayColor,A=a.overlayFill,B=a.carouselNavigation,
Q=a.carouselSlideList,S=a.borderRadius,T=a.completionClosingAction,X=a.completionClosingRedirectUrl,Y=a.interruptClosingAction,Z=a.interruptClosingRedirectUrl;a=a.zIndex;m.sort();var ca=n(B,f),B=n(B.lastSlideSettings,c);ca.lastSlideSettings=B;Q=Q.map(function(a){return n(a,g)});return Q.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:d,deviceType:h,coreStyling:p,overrideStyling:l,engagementCoreStyling:k,defaultLanguage:q,deviceContentLanguagesList:m,defaultHeight:r,defaultWidth:t,
transitionType:u,interval:v,hideNavigation:w,cyclic:x,overlayColor:y,overlayFill:A,carouselNavigation:ca,carouselSlideList:Q,borderRadius:S,completionClosingAction:T,completionClosingRedirectUrl:X,interruptClosingAction:Y,interruptClosingRedirectUrl:Z,zIndex:a}}function k(a){var b=a.id,c=a.type,d=a.sequenceNumber,f=a.height,g=a.width,h=a.overlayColor,p=a.overlayFill,l=a.verticalPosition,k=a.horizontalPosition,q=a.style,m=a.question,r=a.submitButtonTextColor,t=a.submitButtonBackgroundColor,u=a.submitButtonBorderColor,
v=a.submitButtonBorderRadius,w=a.submitButtonBorderWidth,x=a.maxSelectionNumber,A=a.minSelectionNumber,B=a.numberColor,T=a.numberSize,X=a.numberFontFamily,Y=a.showQuestionNumber,Z=a.buttonText;a=a.answers.map(function(a){return n(a,y)});return a.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,type:c,sequenceNumber:d,height:f,width:g,overlayColor:h,overlayFill:p,verticalPosition:l,horizontalPosition:k,style:q,question:m,submitButtonTextColor:r,submitButtonBackgroundColor:t,submitButtonBorderColor:u,
submitButtonBorderRadius:v,submitButtonBorderWidth:w,answers:a,maxSelectionNumber:x,minSelectionNumber:A,numberColor:B,numberSize:T,numberFontFamily:X,showQuestionNumber:Y,buttonText:Z}}function v(a){switch(a.type){case "CONTENT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,html:a.html,closeButtonTextColor:a.closeButtonTextColor,
closeButtonBackgroundColor:a.closeButtonBackgroundColor,closeButtonBorderRadius:a.closeButtonBorderRadius,closeButtonBorderWidth:a.closeButtonBorderWidth,closeButtonBorderColor:a.closeButtonBorderColor,closeButtonBorderText:a.closeButtonBorderText,buttonText:a.buttonText};case "SCORE":case "BOOLEAN":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,
style:a.style,titleHtml:a.titleHtml,textHtml:a.textHtml,buttonsTextColor:a.buttonsTextColor,buttonsBackgroundColor:a.buttonsBackgroundColor,buttonsBorderWidth:a.buttonsBorderWidth,buttonsBorderColor:a.buttonsBorderColor,buttonsBorderRadius:a.buttonsBorderRadius,selectedButtonsBackgroundColor:a.selectedButtonsBackgroundColor,selectedButtonsTextColor:a.selectedButtonsTextColor,selectedButtonsBorderWidth:a.selectedButtonsBorderWidth,selectedButtonsBorderColor:a.selectedButtonsBorderColor,notSatisfiedHtml:a.notSatisfiedHtml,
satisfiedHtml:a.satisfiedHtml,detractorsComment:a.detractorsComment,passivesComment:a.passivesComment,promotersComment:a.promotersComment,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,showDynamicComment:a.showDynamicComment,defaultComment:a.defaultComment,positiveButtonTextColor:a.positiveButtonTextColor,
positiveButtonBackgroundColor:a.positiveButtonBackgroundColor,positiveButtonBorderColor:a.positiveButtonBorderColor,positiveButtonBorderWidth:a.positiveButtonBorderWidth,negativeButtonTextColor:a.negativeButtonTextColor,negativeButtonBackgroundColor:a.negativeButtonBackgroundColor,negativeButtonBorderColor:a.negativeButtonBorderColor,negativeButtonBorderWidth:a.negativeButtonBorderWidth,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,
maxCommentLength:a.maxCommentLength,surveyScoreType:a.surveyScoreType,neutralButtonTextColor:a.neutralButtonTextColor,neutralButtonBackgroundColor:a.neutralButtonBackgroundColor,neutralButtonBorderColor:a.neutralButtonBorderColor,neutralButtonBorderWidth:a.neutralButtonBorderWidth};case "OPEN_TEXT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,
style:a.style,question:a.question,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily,showQuestionNumber:a.showQuestionNumber,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,
minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength};case "MULTIPLE_CHOICE_QUESTION":return k(a);default:return a}}function h(a){var b=a.id,c=a.contentType,d=a.deviceType,f=a.coreStyling,g=a.overrideStyling,h=a.engagementCoreStyling,p=a.defaultLanguage,l=a.deviceContentLanguagesList,k=a.borderRadius,q=a.overlayColor,m=a.overlayFill,r=a.viewType,t=a.verticalPosition,u=a.horizontalPosition,w=a.positionTopDelta,x=a.positionLeftDelta,y=a.backgroundColor,A=a.backgroundFill,S=a.height,
T=a.width,X=a.showContactMeMessage,Y=a.autoHeight,Z=a.showShadow,ca=a.showFooter,W=a.mergeFirstSteps,la=a.shadowSettings,ja=a.barPosition,ha=a.barOffset,qa=a.contactMeMessage,da=a.footer,ma=a.minCharsValidationText,ea=a.maxCharsValidationText,wa=a.mandatoryValidationText,Ca=a.maxAnswersValidationText,sa=a.minAnswersValidationText,fa=a.zIndex;a=a.steps;l.sort();la=n(la,B);a=a.map(function(a){return v(a)});return a.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:c,deviceType:d,
coreStyling:f,overrideStyling:g,engagementCoreStyling:h,defaultLanguage:p,deviceContentLanguagesList:l,borderRadius:k,overlayColor:q,overlayFill:m,viewType:r,verticalPosition:t,horizontalPosition:u,positionTopDelta:w,positionLeftDelta:x,backgroundColor:y,backgroundFill:A,height:S,width:T,showContactMeMessage:X,autoHeight:Y,showShadow:Z,showFooter:ca,mergeFirstSteps:W,shadowSettings:la,barPosition:ja,barOffset:ha,contactMeMessage:qa,footer:da,minCharsValidationText:ma,maxCharsValidationText:ea,mandatoryValidationText:wa,
maxAnswersValidationText:Ca,minAnswersValidationText:sa,zIndex:fa,steps:a}}Object.defineProperty(a,"__esModule",{value:!0});var n=b(27).filterProperties,f="arrowType color backgroundColor backgroundRadius horizontalOffset verticalOffset hidden lastSlideSettings".split(" "),c=["checkmarkType","color","backgroundColor"],g="id name state sequence backgroundType backgroundColor backgroundImage backgroundFill html height width autoHeight style".split(" "),q="id content matchCssSelector cssSelector matchTextRule textRule backgroundType backgroundColor backgroundFill height width positionHorizontal positionVertical positionTopDelta positionLeftDelta sequenceNumber type navigation autoHeight shadow shadowSettings overlay hotspotSettings showPreviousButton autoScroll showTitle titleHtml dialogViewType barPosition barOffset stickToBadge style zIndex repositionInterval".split(" "),
w=["operator","values"],r="labelColor backgroundFill backgroundColor backgroundRadius nextStepUrl nextStepNewTab nextStepTrigger useElementListener nextButtonAction previousButtonAction".split(" "),u=["color","fill","modal","padding","blockElement"],p="spotColor spotSize animationColor animationDelay animationDuration animationCount".split(" "),x=["name"],A="enabled backgroundColor backgroundFill showBorder borderColor text textColor cornerRadius hoverBackgroundColor hoverBackgroundFill hoverTextColor hoverBorderColor".split(" "),
B="color fill offsetX offsetY blur spread".split(" "),y=["id","text","sequenceNumber"];a.filterAndSortEngagementFieldsV1=function(a,b){if(b)switch(a.contentType){case "IN_APP_DIALOG":return l(a);case "IN_APP_GUIDE":return d(a);case "IN_APP_CAROUSEL":return t(a);case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return h(a);default:return a}else switch(a.contentType){case "IN_APP_GUIDE":return a.steps.sort(function(a,
b){return a.sequenceNumber-b.sequenceNumber}),a;case "IN_APP_CAROUSEL":return a.carouselSlideList.sort(function(a,b){return a.sequence-b.sequence}),a;case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return a.steps.sort(function(a,b){return a.sequenceNumber-b.sequenceNumber}),a;default:return a}}},function(m,a,b){function l(a){var b=a.id,c=a.contentType,d=a.deviceType,f=a.coreStyling,g=a.overrideStyling,
h=a.engagementCoreStyling,l=a.defaultLanguage,k=a.deviceContentLanguagesList,m=a.footer,t=a.buttonType,v=a.url,y=a.targetUrl,K=a.transitionType,H=a.transitionTimeout,R=a.overlayColor,V=a.overlayFill,U=a.modal,Q=a.overlayPadding,S=a.steps,T=a.widgetEnabled,X=a.widgetTitle,Y=a.widgetDescription,Z=a.category,ca=a.endButtonText,W=a.restartButtonText,la=a.nextButtonText,ja=a.backButtonText,ha=a.getStartedButtonText,qa=a.skipButtonText,da=a.stepCounterLabelText,ma=a.borderRadius,ea=a.completionClosingAction,
wa=a.completionClosingRedirectUrl,Ca=a.interruptClosingAction,sa=a.interruptClosingRedirectUrl,fa=a.showStepCounter,ka=a.skipButton;a=a.startButton;k.sort();S=S.map(function(a){var b=n(a,q);return b.textRule=n(a.textRule,w),b.textRule&&b.textRule.values&&b.textRule.values.sort(),b.navigation=n(a.navigation,r),b.shadowSettings=n(a.shadowSettings,B),b.overlay=n(a.overlay,u),b.hotspotSettings=n(a.hotspotSettings,p),b});return S.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:c,
deviceType:d,coreStyling:f,overrideStyling:g,engagementCoreStyling:h,defaultLanguage:l,deviceContentLanguagesList:k,footer:m,buttonType:t,url:v,targetUrl:y,transitionType:K,transitionTimeout:H,overlayColor:R,overlayFill:V,modal:U,overlayPadding:Q,steps:S,widgetEnabled:T,widgetTitle:X,widgetDescription:Y,category:n(Z,x),endButtonText:ca,restartButtonText:W,nextButtonText:la,backButtonText:ja,getStartedButtonText:ha,skipButtonText:qa,stepCounterLabelText:da,borderRadius:ma,completionClosingAction:ea,
completionClosingRedirectUrl:wa,interruptClosingAction:Ca,interruptClosingRedirectUrl:sa,showStepCounter:fa,skipButton:n(ka,A),startButton:n(a,A)}}function d(a){var b=a.id,d=a.contentType,h=a.deviceType,p=a.coreStyling,l=a.overrideStyling,k=a.engagementCoreStyling,q=a.defaultLanguage,m=a.deviceContentLanguagesList,r=a.defaultHeight,t=a.defaultWidth,u=a.transitionType,v=a.interval,w=a.hideNavigation,x=a.cyclic,y=a.overlayColor,A=a.overlayFill,B=a.carouselNavigation,Q=a.carouselSlideList,S=a.borderRadius,
T=a.completionClosingAction,X=a.completionClosingRedirectUrl,Y=a.interruptClosingAction,Z=a.interruptClosingRedirectUrl;a=a.zIndex;m.sort();var ca=n(B,f),B=n(B.lastSlideSettings,c);ca.lastSlideSettings=B;Q=Q.map(function(a){return n(a,g)});return Q.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:d,deviceType:h,coreStyling:p,overrideStyling:l,engagementCoreStyling:k,defaultLanguage:q,deviceContentLanguagesList:m,defaultHeight:r,defaultWidth:t,transitionType:u,interval:v,hideNavigation:w,
cyclic:x,overlayColor:y,overlayFill:A,carouselNavigation:ca,carouselSlideList:Q,borderRadius:S,completionClosingAction:T,completionClosingRedirectUrl:X,interruptClosingAction:Y,interruptClosingRedirectUrl:Z,zIndex:a}}function t(a){var b=a.id,c=a.type,d=a.sequenceNumber,f=a.height,g=a.width,h=a.overlayColor,p=a.overlayFill,l=a.verticalPosition,k=a.horizontalPosition,q=a.style,m=a.surveyPageId,r=a.question,t=a.submitButtonTextColor,u=a.submitButtonBackgroundColor,v=a.submitButtonBorderColor,w=a.submitButtonBorderRadius,
x=a.submitButtonBorderWidth,A=a.maxSelectionNumber,B=a.minSelectionNumber,T=a.numberColor,X=a.numberSize,Y=a.numberFontFamily,Z=a.showQuestionNumber,ca=a.buttonText;a=a.answers.map(function(a){return n(a,y)});return a.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,type:c,sequenceNumber:d,height:f,width:g,overlayColor:h,overlayFill:p,verticalPosition:l,horizontalPosition:k,style:q,surveyPageId:m,question:r,submitButtonTextColor:t,submitButtonBackgroundColor:u,submitButtonBorderColor:v,
submitButtonBorderRadius:w,submitButtonBorderWidth:x,answers:a,maxSelectionNumber:A,minSelectionNumber:B,numberColor:T,numberSize:X,numberFontFamily:Y,showQuestionNumber:Z,buttonText:ca}}function k(a){return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,titleHtml:a.titleHtml,textHtml:a.textHtml,buttonsTextColor:a.buttonsTextColor,
buttonsBackgroundColor:a.buttonsBackgroundColor,buttonsBorderWidth:a.buttonsBorderWidth,buttonsBorderColor:a.buttonsBorderColor,buttonsBorderRadius:a.buttonsBorderRadius,selectedButtonsBackgroundColor:a.selectedButtonsBackgroundColor,selectedButtonsTextColor:a.selectedButtonsTextColor,selectedButtonsBorderWidth:a.selectedButtonsBorderWidth,selectedButtonsBorderColor:a.selectedButtonsBorderColor,notSatisfiedHtml:a.notSatisfiedHtml,satisfiedHtml:a.satisfiedHtml,detractorsComment:a.detractorsComment,
passivesComment:a.passivesComment,promotersComment:a.promotersComment,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,showDynamicComment:a.showDynamicComment,defaultComment:a.defaultComment,positiveButtonTextColor:a.positiveButtonTextColor,positiveButtonBackgroundColor:a.positiveButtonBackgroundColor,
positiveButtonBorderColor:a.positiveButtonBorderColor,positiveButtonBorderWidth:a.positiveButtonBorderWidth,negativeButtonTextColor:a.negativeButtonTextColor,negativeButtonBackgroundColor:a.negativeButtonBackgroundColor,negativeButtonBorderColor:a.negativeButtonBorderColor,negativeButtonBorderWidth:a.negativeButtonBorderWidth,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength,surveyScoreType:a.surveyScoreType,
neutralButtonTextColor:a.neutralButtonTextColor,neutralButtonBackgroundColor:a.neutralButtonBackgroundColor,neutralButtonBorderColor:a.neutralButtonBorderColor,neutralButtonBorderWidth:a.neutralButtonBorderWidth}}function v(a){switch(a.type){case "CONTENT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,
html:a.html,closeButtonTextColor:a.closeButtonTextColor,closeButtonBackgroundColor:a.closeButtonBackgroundColor,closeButtonBorderRadius:a.closeButtonBorderRadius,closeButtonBorderWidth:a.closeButtonBorderWidth,closeButtonBorderColor:a.closeButtonBorderColor,closeButtonBorderText:a.closeButtonBorderText,buttonText:a.buttonText};case "SCORE":case "BOOLEAN":return k(a);case "DYNAMIC_RATING_STEP":var b=k(a);return Object.assign({},b,{surveyPageId:a.surveyPageId,minAnswer:a.minAnswer,maxAnswer:a.maxAnswer,
showQuestionNumber:a.showQuestionNumber,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily});case "OPEN_TEXT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,question:a.question,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,
submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily,showQuestionNumber:a.showQuestionNumber,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength};case "MULTIPLE_CHOICE_QUESTION":return t(a);default:return a}}
function h(a){var b=a.id,c=a.contentType,d=a.contentSubType,f=a.deviceType,g=a.coreStyling,h=a.overrideStyling,p=a.engagementCoreStyling,l=a.defaultLanguage,k=a.deviceContentLanguagesList,q=a.borderRadius,m=a.overlayColor,r=a.overlayFill,t=a.viewType,u=a.verticalPosition,w=a.horizontalPosition,x=a.positionTopDelta,y=a.positionLeftDelta,A=a.backgroundColor,S=a.backgroundFill,T=a.height,X=a.width,Y=a.showContactMeMessage,Z=a.autoHeight,ca=a.showShadow,W=a.showFooter,la=a.mergeFirstSteps,ja=a.shadowSettings,
ha=a.barPosition,qa=a.barOffset,da=a.contactMeMessage,ma=a.footer,ea=a.minCharsValidationText,wa=a.maxCharsValidationText,Ca=a.mandatoryValidationText,sa=a.maxAnswersValidationText,fa=a.minAnswersValidationText,ka=a.zIndex,aa=a.steps,xa=a.surveyPages;a=a.orientation;k.sort();ja=n(ja,B);aa=aa.map(function(a){return v(a)});aa.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0});xa=xa.map(function(a){var b=a.buttonSetting;return{id:a.id,title:a.title,sequenceNumber:a.sequenceNumber,height:a.height,
width:a.width,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,buttonSetting:{enabled:b.enabled,backgroundColor:b.backgroundColor,backgroundFill:b.backgroundFill,borderColor:b.borderColor,hoverBackgroundColor:b.hoverBackgroundColor,hoverBackgroundFill:b.hoverBackgroundFill,hoverBorderColor:b.hoverBorderColor,showBorder:b.showBorder,text:b.text,textColor:b.textColor,hoverTextColor:b.hoverTextColor,cornerRadius:b.cornerRadius},style:a.style}});return xa.sort(function(a,b){return a.id<
b.id?-1:a.id>b.id?1:0}),{id:b,contentType:c,deviceType:f,coreStyling:g,overrideStyling:h,engagementCoreStyling:p,defaultLanguage:l,deviceContentLanguagesList:k,contentSubType:d,borderRadius:q,overlayColor:m,overlayFill:r,viewType:t,verticalPosition:u,horizontalPosition:w,positionTopDelta:x,positionLeftDelta:y,backgroundColor:A,backgroundFill:S,height:T,width:X,showContactMeMessage:Y,autoHeight:Z,showShadow:ca,showFooter:W,mergeFirstSteps:la,shadowSettings:ja,barPosition:ha,barOffset:qa,contactMeMessage:da,
footer:ma,minCharsValidationText:ea,maxCharsValidationText:wa,mandatoryValidationText:Ca,maxAnswersValidationText:sa,minAnswersValidationText:fa,zIndex:ka,steps:aa,surveyPages:xa,orientation:a}}Object.defineProperty(a,"__esModule",{value:!0});var n=b(27).filterProperties,f="arrowType color backgroundColor backgroundRadius horizontalOffset verticalOffset hidden lastSlideSettings".split(" "),c=["checkmarkType","color","backgroundColor"],g="id name state sequence backgroundType backgroundColor backgroundImage backgroundFill html height width autoHeight style".split(" "),
q="id content matchCssSelector cssSelector matchTextRule textRule backgroundType backgroundColor backgroundFill height width positionHorizontal positionVertical positionTopDelta positionLeftDelta sequenceNumber type navigation autoHeight shadow shadowSettings overlay hotspotSettings showPreviousButton autoScroll showTitle titleHtml dialogViewType barPosition barOffset stickToBadge style zIndex repositionInterval".split(" "),w=["operator","values"],r="labelColor backgroundFill backgroundColor backgroundRadius nextStepUrl nextStepNewTab nextStepTrigger useElementListener nextButtonAction previousButtonAction".split(" "),
u=["color","fill","modal","padding","blockElement"],p="spotColor spotSize animationColor animationDelay animationDuration animationCount".split(" "),x=["name"],A="enabled backgroundColor backgroundFill showBorder borderColor text textColor cornerRadius hoverBackgroundColor hoverBackgroundFill hoverTextColor hoverBorderColor".split(" "),B="color fill offsetX offsetY blur spread".split(" "),y=["id","text","sequenceNumber"];a.filterAndSortEngagementFieldsV3=function(a){switch(a.contentType){case "IN_APP_DIALOG":var b=
a.id,c=a.contentType,f=a.deviceType,g=a.coreStyling,p=a.overrideStyling,n=a.engagementCoreStyling,k=a.defaultLanguage,q=a.deviceContentLanguagesList,m=a.htmlElements;a=a.htmlLangAddition;return q.sort(),{id:b,contentType:c,deviceType:f,coreStyling:g,overrideStyling:p,engagementCoreStyling:n,defaultLanguage:k,deviceContentLanguagesList:q,htmlElements:m,htmlLangAddition:a};case "IN_APP_GUIDE":return l(a);case "IN_APP_CAROUSEL":return d(a);case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return h(a);
default:return a}}},function(m,a,b){function l(a){var b=a.id,c=a.contentType,d=a.deviceType,f=a.coreStyling,g=a.overrideStyling,h=a.engagementCoreStyling,l=a.defaultLanguage,k=a.deviceContentLanguagesList,m=a.footer,t=a.buttonType,v=a.url,y=a.targetUrl,K=a.transitionType,H=a.transitionTimeout,R=a.overlayColor,V=a.overlayFill,U=a.modal,Q=a.overlayPadding,S=a.steps,T=a.widgetEnabled,X=a.widgetTitle,Y=a.widgetDescription,Z=a.category,ca=a.endButtonText,W=a.restartButtonText,la=a.nextButtonText,ja=a.backButtonText,
ha=a.getStartedButtonText,qa=a.skipButtonText,da=a.stepCounterLabelText,ma=a.borderRadius,ea=a.completionClosingAction,wa=a.completionClosingRedirectUrl,Ca=a.interruptClosingAction,sa=a.interruptClosingRedirectUrl,fa=a.showStepCounter,ka=a.skipButton,aa=a.startButton,xa=a.timeout;a=a.delay;k.sort();S=S.map(function(a){var b=n(a,q);return b.textRule=n(a.textRule,w),b.textRule&&b.textRule.values&&b.textRule.values.sort(),b.navigation=n(a.navigation,r),b.shadowSettings=n(a.shadowSettings,B),b.overlay=
n(a.overlay,u),b.hotspotSettings=n(a.hotspotSettings,p),b});return S.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:c,deviceType:d,coreStyling:f,overrideStyling:g,engagementCoreStyling:h,defaultLanguage:l,deviceContentLanguagesList:k,footer:m,buttonType:t,url:v,targetUrl:y,transitionType:K,transitionTimeout:H,overlayColor:R,overlayFill:V,modal:U,overlayPadding:Q,steps:S,widgetEnabled:T,widgetTitle:X,widgetDescription:Y,category:n(Z,x),endButtonText:ca,restartButtonText:W,
nextButtonText:la,backButtonText:ja,getStartedButtonText:ha,skipButtonText:qa,stepCounterLabelText:da,borderRadius:ma,completionClosingAction:ea,completionClosingRedirectUrl:wa,interruptClosingAction:Ca,interruptClosingRedirectUrl:sa,showStepCounter:fa,skipButton:n(ka,A),startButton:n(aa,A),timeout:xa,delay:a}}function d(a){var b=a.id,d=a.contentType,h=a.deviceType,p=a.coreStyling,l=a.overrideStyling,k=a.engagementCoreStyling,q=a.defaultLanguage,m=a.deviceContentLanguagesList,r=a.defaultHeight,t=
a.defaultWidth,u=a.transitionType,v=a.interval,w=a.hideNavigation,x=a.cyclic,y=a.overlayColor,A=a.overlayFill,B=a.carouselNavigation,Q=a.carouselSlideList,S=a.borderRadius,T=a.completionClosingAction,X=a.completionClosingRedirectUrl,Y=a.interruptClosingAction,Z=a.interruptClosingRedirectUrl,ca=a.zIndex,W=a.timeout;a=a.delay;m.sort();var la=n(B,f),B=n(B.lastSlideSettings,c);la.lastSlideSettings=B;Q=Q.map(function(a){return n(a,g)});return Q.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,
contentType:d,deviceType:h,coreStyling:p,overrideStyling:l,engagementCoreStyling:k,defaultLanguage:q,deviceContentLanguagesList:m,defaultHeight:r,defaultWidth:t,transitionType:u,interval:v,hideNavigation:w,cyclic:x,overlayColor:y,overlayFill:A,carouselNavigation:la,carouselSlideList:Q,borderRadius:S,completionClosingAction:T,completionClosingRedirectUrl:X,interruptClosingAction:Y,interruptClosingRedirectUrl:Z,zIndex:ca,timeout:W,delay:a}}function t(a){var b=a.id,c=a.type,d=a.sequenceNumber,f=a.height,
g=a.width,h=a.overlayColor,p=a.overlayFill,l=a.verticalPosition,k=a.horizontalPosition,q=a.style,m=a.surveyPageId,r=a.question,t=a.submitButtonTextColor,u=a.submitButtonBackgroundColor,v=a.submitButtonBorderColor,w=a.submitButtonBorderRadius,x=a.submitButtonBorderWidth,A=a.maxSelectionNumber,B=a.minSelectionNumber,T=a.numberColor,X=a.numberSize,Y=a.numberFontFamily,Z=a.showQuestionNumber,ca=a.buttonText;a=a.answers.map(function(a){return n(a,y)});return a.sort(function(a,b){return a.id<b.id?-1:a.id>
b.id?1:0}),{id:b,type:c,sequenceNumber:d,height:f,width:g,overlayColor:h,overlayFill:p,verticalPosition:l,horizontalPosition:k,style:q,surveyPageId:m,question:r,submitButtonTextColor:t,submitButtonBackgroundColor:u,submitButtonBorderColor:v,submitButtonBorderRadius:w,submitButtonBorderWidth:x,answers:a,maxSelectionNumber:A,minSelectionNumber:B,numberColor:T,numberSize:X,numberFontFamily:Y,showQuestionNumber:Z,buttonText:ca}}function k(a){return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,
height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,titleHtml:a.titleHtml,textHtml:a.textHtml,buttonsTextColor:a.buttonsTextColor,buttonsBackgroundColor:a.buttonsBackgroundColor,buttonsBorderWidth:a.buttonsBorderWidth,buttonsBorderColor:a.buttonsBorderColor,buttonsBorderRadius:a.buttonsBorderRadius,selectedButtonsBackgroundColor:a.selectedButtonsBackgroundColor,selectedButtonsTextColor:a.selectedButtonsTextColor,
selectedButtonsBorderWidth:a.selectedButtonsBorderWidth,selectedButtonsBorderColor:a.selectedButtonsBorderColor,notSatisfiedHtml:a.notSatisfiedHtml,satisfiedHtml:a.satisfiedHtml,detractorsComment:a.detractorsComment,passivesComment:a.passivesComment,promotersComment:a.promotersComment,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,
showDynamicComment:a.showDynamicComment,defaultComment:a.defaultComment,positiveButtonTextColor:a.positiveButtonTextColor,positiveButtonBackgroundColor:a.positiveButtonBackgroundColor,positiveButtonBorderColor:a.positiveButtonBorderColor,positiveButtonBorderWidth:a.positiveButtonBorderWidth,negativeButtonTextColor:a.negativeButtonTextColor,negativeButtonBackgroundColor:a.negativeButtonBackgroundColor,negativeButtonBorderColor:a.negativeButtonBorderColor,negativeButtonBorderWidth:a.negativeButtonBorderWidth,
buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength,surveyScoreType:a.surveyScoreType,neutralButtonTextColor:a.neutralButtonTextColor,neutralButtonBackgroundColor:a.neutralButtonBackgroundColor,neutralButtonBorderColor:a.neutralButtonBorderColor,neutralButtonBorderWidth:a.neutralButtonBorderWidth}}function v(a){switch(a.type){case "CONTENT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,
height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,html:a.html,closeButtonTextColor:a.closeButtonTextColor,closeButtonBackgroundColor:a.closeButtonBackgroundColor,closeButtonBorderRadius:a.closeButtonBorderRadius,closeButtonBorderWidth:a.closeButtonBorderWidth,closeButtonBorderColor:a.closeButtonBorderColor,closeButtonBorderText:a.closeButtonBorderText,
buttonText:a.buttonText};case "SCORE":case "BOOLEAN":return k(a);case "DYNAMIC_RATING_STEP":var b=k(a);return Object.assign({},b,{surveyPageId:a.surveyPageId,minAnswer:a.minAnswer,maxAnswer:a.maxAnswer,showQuestionNumber:a.showQuestionNumber,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily});case "OPEN_TEXT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,
horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,question:a.question,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily,showQuestionNumber:a.showQuestionNumber,buttonText:a.buttonText,
placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength};case "MULTIPLE_CHOICE_QUESTION":return t(a);default:return a}}function h(a){var b=a.id,c=a.contentType,d=a.contentSubType,f=a.deviceType,g=a.coreStyling,h=a.overrideStyling,p=a.engagementCoreStyling,l=a.defaultLanguage,k=a.deviceContentLanguagesList,q=a.borderRadius,m=a.overlayColor,r=a.overlayFill,t=a.viewType,u=a.verticalPosition,w=a.horizontalPosition,
x=a.positionTopDelta,y=a.positionLeftDelta,A=a.backgroundColor,S=a.backgroundFill,T=a.height,X=a.width,Y=a.showContactMeMessage,Z=a.autoHeight,ca=a.showShadow,W=a.showFooter,la=a.mergeFirstSteps,ja=a.shadowSettings,ha=a.barPosition,qa=a.barOffset,da=a.contactMeMessage,ma=a.footer,ea=a.minCharsValidationText,wa=a.maxCharsValidationText,Ca=a.mandatoryValidationText,sa=a.maxAnswersValidationText,fa=a.minAnswersValidationText,ka=a.zIndex,aa=a.steps,xa=a.surveyPages,na=a.orientation,Ha=a.timeout;a=a.delay;
k.sort();ja=n(ja,B);aa=aa.map(function(a){return v(a)});aa.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0});xa=xa.map(function(a){var b=a.buttonSetting;return{id:a.id,title:a.title,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,buttonSetting:{enabled:b.enabled,backgroundColor:b.backgroundColor,backgroundFill:b.backgroundFill,borderColor:b.borderColor,hoverBackgroundColor:b.hoverBackgroundColor,hoverBackgroundFill:b.hoverBackgroundFill,
hoverBorderColor:b.hoverBorderColor,showBorder:b.showBorder,text:b.text,textColor:b.textColor,hoverTextColor:b.hoverTextColor,cornerRadius:b.cornerRadius},style:a.style}});return xa.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:c,deviceType:f,coreStyling:g,overrideStyling:h,engagementCoreStyling:p,defaultLanguage:l,deviceContentLanguagesList:k,contentSubType:d,borderRadius:q,overlayColor:m,overlayFill:r,viewType:t,verticalPosition:u,horizontalPosition:w,positionTopDelta:x,
positionLeftDelta:y,backgroundColor:A,backgroundFill:S,height:T,width:X,showContactMeMessage:Y,autoHeight:Z,showShadow:ca,showFooter:W,mergeFirstSteps:la,shadowSettings:ja,barPosition:ha,barOffset:qa,contactMeMessage:da,footer:ma,minCharsValidationText:ea,maxCharsValidationText:wa,mandatoryValidationText:Ca,maxAnswersValidationText:sa,minAnswersValidationText:fa,zIndex:ka,steps:aa,surveyPages:xa,orientation:na,timeout:Ha,delay:a}}Object.defineProperty(a,"__esModule",{value:!0});a.filterAndSortEngagementFieldsV4=
function(a){switch(a.contentType){case "IN_APP_DIALOG":var b=a.id,c=a.contentType,f=a.deviceType,g=a.coreStyling,p=a.overrideStyling,n=a.engagementCoreStyling,k=a.defaultLanguage,q=a.deviceContentLanguagesList,m=a.htmlElements,r=a.htmlLangAddition,t=a.timeout;a=a.delay;return q.sort(),{id:b,contentType:c,deviceType:f,coreStyling:g,overrideStyling:p,engagementCoreStyling:n,defaultLanguage:k,deviceContentLanguagesList:q,htmlElements:m,htmlLangAddition:r,timeout:t,delay:a};case "IN_APP_GUIDE":return l(a);
case "IN_APP_CAROUSEL":return d(a);case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return h(a);default:return a}};var n=b(27).filterProperties,f="arrowType color backgroundColor backgroundRadius horizontalOffset verticalOffset hidden lastSlideSettings".split(" "),c=["checkmarkType","color","backgroundColor"],g="id name state sequence backgroundType backgroundColor backgroundImage backgroundFill html height width autoHeight style".split(" "),
q="id content matchCssSelector cssSelector matchTextRule textRule backgroundType backgroundColor backgroundFill height width positionHorizontal positionVertical positionTopDelta positionLeftDelta sequenceNumber type navigation autoHeight shadow shadowSettings overlay hotspotSettings showPreviousButton autoScroll showTitle titleHtml dialogViewType barPosition barOffset stickToBadge style zIndex repositionInterval".split(" "),w=["operator","values"],r="labelColor backgroundFill backgroundColor backgroundRadius nextStepUrl nextStepNewTab nextStepTrigger useElementListener nextButtonAction previousButtonAction".split(" "),
u=["color","fill","modal","padding","blockElement"],p="spotColor spotSize animationColor animationDelay animationDuration animationCount".split(" "),x=["name"],A="enabled backgroundColor backgroundFill showBorder borderColor text textColor cornerRadius hoverBackgroundColor hoverBackgroundFill hoverTextColor hoverBorderColor".split(" "),B="color fill offsetX offsetY blur spread".split(" "),y=["id","text","sequenceNumber"]},function(m,a,b){function l(a,b){var c=(0,y.getChannel)(h.eventTrackData[r.cacheGet](h.productIdParameter));
!a.isAutoHeight&&a.height?(b.style.height=a.height+"px",b.querySelector(".apt-dialog-content-wrapper").style.height=a.height+"px"):a.isAutoHeight&&c!==e.DESKTOP_CHANNEL&&b.classList.add("apt-auto-height-scroll")}Object.defineProperty(a,"__esModule",{value:!0});var d=b(0);m=(m=b(33))&&m.__esModule?m:{"default":m};var t=b(9),k=b(28),v=b(12),h=b(4),n=b(16),f=b(6),c=b(10),g=b(29),q=b(3),w=b(25),r=b(5),u=b(14),p=u&&u.__esModule?u:{"default":u},x=b(1),A=b(11),B=b(57),y=b(18),e=b(8),D=b(17),z=b(21),J=b(20),
F=b(24),I=b(32);I.defaultOptions.className="vex-theme-os";var C=new m["default"],E=null,N=void 0;a["default"]=function(){function a(b,c,f){if(!p["default"].isEditorMode()){var g=x.trackMultiStepEndpoint,l=[],k=F.UserData.getSessionId();!0!==R[k]&&(2===c&&(R[k]=!0),l=(0,d.addParameters)(h.eventTrackData[r.cacheGetAll](),l),(0,d.addParameters)({ei:b.engagementId||null,ecoi:b.content.id||null,evi:b.matchEventId||null,ent:1,ems:c||null,acci:b.accountId,exi:b.executionId,ext:b.executionTimestamp,at:b.activationType||
"a",cl:b.contentLocale},l),f&&"kc"===b.activationType&&(0,d.addParameters)(f,l),c=(0,z.getGlobalContext)(),f=(0,y.getChannel)(h.eventTrackData[r.cacheGet](h.productIdParameter)),k=void 0,c&&(k={gcx:JSON.stringify(c)},f!==e.DESKTOP_CHANNEL&&(0,d.addParameters)(k,l)),l=(0,d.addParameters)((0,J.getWebContext)(),l),f===e.DESKTOP_CHANNEL?(0,n.desktopTrackEngagementState)(l,k):(g+="?"+(0,d.convert2Parameters)(l),v.AjaxUtil.getData(g)),A.internalEventListener.dispatchEvent("engagementCompleted",(0,n.getExternalEvent)(b,
"Completed")))}}function b(a,c){(0,y.isDesktop)()&&(0,n.addLinkListenerForDesktop)(a,c,null,0)}function m(a,b){var c=a&&a.contentBackground;c&&(b.style.backgroundColor=a.contentBackground);c&&a.backgroundFill&&(b.style.backgroundColor=(0,d.hexToRgba)(a.contentBackground,a.backgroundFill/100),(0,d.checkDarkColor)(a.contentBackground)&&b.querySelector(".aptr-engagement-close-btn").classList.add("apt-engagement-close-btn-bright"))}function u(a,b){return function(){try{if(a.closingAction&&"REDIRECT"===
a.closingAction&&a.closeUrl)if((0,y.isDesktop)())A.internalEventListener.dispatchEvent("engagementLinkClick",{engagementType:b.content.contentType,engagementId:b.engagementId,link:a.closeUrl,close:!0});else{var c=(0,g.resolveUrlWithPlaceholders)(document.location.href,a.closeUrl);c!==document.location.href&&(document.location.href=c)}}catch(d){q.logger.logInternalError(d,"Error in dialog close handler")}}}function K(e,g,h,r,z,A){var F=(0,d.getEscHandlerCallback)(u(e,h)),D=void 0,J=void 0,H={appendLocation:(0,
x.getConfig)("framesetMode")?"html":"body",enableModalBodyScroll:(0,x.getConfig)("enableModalBodyScroll"),closeClassName:"aptr-engagement-close-btn px-close-button",unsafeContent:g.outerHTML,overlayClosesOnClick:!1,showCloseButton:!0,afterClose:function(){(0,x.getBody)().classList.remove("apt-vex");clearTimeout(J);D&&clearTimeout(D);var a={engagementId:h.engagementId};(0,w.internalApt)("engagementCompletedClosed",a);(0,n.removeCicularTabsWrapperListener)(N);(0,k.sendEngagementClosedEvent)()},beforeClose:function(){try{(0,
d.removeEventListener)(document,"keydown",F),(0,k.handleEngagementFinish)("IN_APP_DIALOG")}catch(a){q.logger.logInternalError(a,"Error before close dialog")}},afterOpen:function(){var g=this;if((0,x.getConfig)("enableModalBodyScroll")&&(0,x.getBody)().classList.add("apt-vex"),this.rootEl.classList.add("apt-vex"),this.contentEl.classList.add("apt-dialog-popup"),this.contentEl.classList.add("px-engagement-wrapper-dialog"),this.contentEl.classList.add("px-engagement-wrapper"),(0,f.addStyleTag)(this.contentEl,
h.content.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os"),(0,f.addStyleTag)(this.contentEl,h.content.engagementCoreStyling,"px-engagement-wrapper-dialog",".apt-vex.vex.vex-theme-os"),(0,f.addStyleTag)(this.contentEl,h.content.overrideStyling,"px-engagement-wrapper-dialog",".apt-vex.vex.vex-theme-os"),this.contentEl.setAttribute("data-apt-disable-selector",!0),l(e,this.contentEl),0<e.zIndex&&(this.rootEl.style.zIndex=e.zIndex,this.overlayEl.style.zIndex=e.zIndex,this.contentEl.style.zIndex=
e.zIndex),"BAR"===e.viewType){this.contentEl.style.position="fixed";this.contentEl.classList.add("apt-dialog-bar");this.contentEl.style.width=(0,y.isDesktop)()?"100%":(0,t.getPageWidth)()+"px";var p=(e.barOffset||0)+"px";"TOP"===e.barPosition?this.contentEl.style.top=p:this.contentEl.style.bottom=p}else{e.width&&(this.contentEl.style.width=e.width+"px");e.isFitToWidth&&(this.contentEl.style.height=(0,t.getPageHeight)(),this.contentEl.style.width=(0,t.getPageWidth)());var p=e.hPosition,k=e.vPosition;
p||(p="center");k&&"middle"!==k||(k="center");this.contentEl.style.position="absolute";C.positionElement(this.contentEl,null,p,k);/^\d+$/.test(p)&&(this.contentEl.style.left=p+"px");/^\d+$/.test(k)&&(this.contentEl.style.top=k+"px")}e.overlayColor&&(this.overlayEl.style.background=(0,d.hexToRgba)(e.overlayColor,e.overlayFill?e.overlayFill/100:0));(!e.overlayFill||1>e.overlayFill)&&this.rootEl.classList.add("apt-popup-disable-overlay");m(e,this.contentEl);p=(0,c.arrayFrom)(this.contentEl.querySelectorAll("a"));
if((0,d.isNotEmptyArr)(p))for(k=0;k<p.length;k++)"_blank"!==p[k].target&&(0,d.addEventListener)(p[k],"click",function(){E.close()});var p=(0,c.arrayFrom)(this.contentEl.querySelectorAll("button")),q=A&&A.recId?A.recId:null;(0,d.isNotEmptyArr)(p)&&p.forEach(function(a){(0,d.addEventListener)(a,"click",function(){var a=(0,n.getEngagementTrackPayload)(h,"ENGAGEMENT_CLICK"),a=(0,d.addParameters)({recId:q||null},a),a=x.engagementTrackEndpoint+"?"+(0,d.convert2Parameters)(a);v.AjaxUtil.getData(a,null,null,
null,!0)})});(0,n.removeCicularTabsWrapperListener)(N);(0,n.checkHasOverlay)(e.overlayColor,e.overlayFill)&&(N=(0,n.addCircularTabListener)(function(){return(0,f.focusElement)(g.contentEl)}));(0,d.addEventListener)(document,"keydown",F);(0,d.addEventListener)(this.closeEl,"click",u(e,h));e.borderRadius&&"DIALOG"===e.viewType&&(this.contentEl.style.borderRadius=e.borderRadius+"px");a(h,2);(0,n.listenToLinksClicks)(this.rootEl,h);r&&r(h,this.contentEl);(0,n.sendDesktopResize)(this.contentEl,h,{height:e.height,
width:e.width,autoHeight:e.isAutoHeight});b(this.contentEl,h)}},K=e.timeout?e.timeout*d.MILLISEC:0,J=setTimeout(function(){var a={url:(0,d.getPageUrl)()};if(!1===z&&!p["default"].isPreview()&&!(0,d.isBlank)(h.rules)&&!(0,B.matchMultiTypeRules)(JSON.parse(h.rules),a))return q.logger.log("did not have client side match for engagement rules "+h.rules+", current URL: "+a),void(0,k.handleEngagementFinish)("IN_APP_DIALOG");E=I.open(H);0<K&&(D=setTimeout(function(){I.close(E)},K))},e.delay?e.delay*d.MILLISEC:
0)}function H(b,c,e){var f=b.embeddedSelector,g=(0,D.findElementsInShadowDom)(f,document);if(1!==g.length)return void q.logger.log("Could not embed Dialog "+e.engagementId+". There were "+g.length+" elements with selector "+f+". Should have only 1.");var h=g[0];(f=h.querySelector(".apt-dialog-content-wrapper"))&&h.removeChild(f);h.appendChild(c);l(b,h);h.style.width="BAR"===b.viewType?"100%":b.width+"px";h.style.position="relative";m(b,c);b=(0,d.createElement)("div","apt-embedded-close");(0,d.addEventListener)(b,
"click",function(){h.removeChild(c);h.removeAttribute("style");(0,k.handleEngagementFinish)("IN_APP_DIALOG")});c.appendChild(b);a(e,2);(0,n.listenToLinksClicks)(c,e)}var R={};this.drawDialog=function(a,b,c,g){var h=a.content.htmlElements,p=a.content.settings,l=(0,d.createElement)("div","apt-dialog-content-wrapper");(0,f.isElement)(h)?(l.appendChild(h),h=l):(l.innerHTML=(0,f.addNonceToDomString)(h),h=l);(0,n.setTabIndexes)(h,e.TAB_INDEX_START);(0,n.addTabbableEnterListener)();p.embedded?H(p,h,a):K(p,
h,a,b,c,g)};this.close=function(){E&&E.close();(0,n.removeTabbableEnterListener)()}}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.updateTooltipAndHotspotStyle=function(a){var b=a.guideDrawerLocalVariables,m=a.elementData,k=a.guideSettings,v=a.stepSettings,h=a.engStyle,n=a.callback,f=a.skipReposition;a=a.dontReposition;var c=b.dialog,g=b.currentStepSettings,q=b.setTooltipArrowPosition,b=b.setHotspotStyle;"TOOLTIP"===v.type?(this.updateDialogStyle({guideSettings:k,stepSettings:v,
engStyle:h,elementData:m,dontReposition:a}),f&&q([v.position.positionHorizontal,v.position.positionVertical],c[0].contentEl,v.backgroundColor),g.backgroundColor=v.backgroundColor):"HOTSPOT"===v.type&&v.hotspotSettings&&b(v);f||this.changePositionWithFallback({elementData:m,stepSettings:v,callback:n})};a.getDummyElementCenter=function(a){a=a.getBoundingClientRect();return{isDom:!1,isVisible:!0,elementRect:{left:a.width/2,top:a.height/2,width:1,height:1}}}},function(m,a,b){function l(a,b){var d={"apt-step-footer-buttons":"px-step-navigation-buttons",
"apt-step-footer-next":"px-step-navigation-next","apt-step-footer-button":"px-step-navigation-button","apt-step-footer":"px-step-navigation","apt-step-new-index":"px-step-new-index"};return a.querySelector(".px-step-navigation")?"."+d[b]:"."+b}Object.defineProperty(a,"__esModule",{value:!0});a.getSelectorByVersion=void 0;var d=b(0),t=b(9),k=b(10),v=["DIALOG","TOOLTIP"];m=new function(){function a(b,f,h){var n=f.backgroundColor,l=f.backgroundFill,k=f.textColor,p=f.cornerRadius,m=f.hoverBackgroundColor,
t=f.hoverBackgroundFill;f=f.hoverTextColor;var v=".px-step-navigation-"+h+":hover {",n=".px-step-navigation-"+h+" {"+("background-color: "+(-1<l?(0,d.hexToRgba)(n,l/100):n)+";"),v=v+("background-color: "+(-1<t?(0,d.hexToRgba)(m,t/100):m)+";"),n=n+("color: "+k+";"),n=n+("border-radius: "+p+"px;"),n=n+"}",v=v+("color: "+f+";")+"}";(0,d.addStyle)(n+v,"px-step-navigation-"+h,b)}function b(a){var f=a.globalSettings,h=a.stepSettings,n=a.button,l=a.parentElement;a=a.id;var k=h.shouldOverrideGlobalSettings?
h:f;null===k.backgroundFill||void 0===k.backgroundFill?n.style.backgroundColor=k.backgroundColor?k.backgroundColor:"#ffffff":n.style.backgroundColor=(0,d.hexToRgba)(k.backgroundColor?k.backgroundColor:"#ffffff",k.backgroundFill/100);n.style.color=k.textColor?k.textColor:"#000000";n.style.borderRadius=null===k.cornerRadius||void 0===k.cornerRadius?"0px":k.cornerRadius+"px";k.buttonPaddingSettings&&(null===k.buttonPaddingSettings.top&&null===k.buttonPaddingSettings.bottom&&null===k.buttonPaddingSettings.left&&
null===k.buttonPaddingSettings.right||(n.style.padding=(k.buttonPaddingSettings.top||0)+"px \n                "+(k.buttonPaddingSettings.right||0)+"px \n                "+(k.buttonPaddingSettings.bottom||0)+"px \n                "+(k.buttonPaddingSettings.left||0)+"px"));n.style.border=(k.borderWidth||0)+"px solid "+(k.borderColor||"#000");k.fontSettings&&(n.style.fontFamily="inherit"===k.fontSettings.fontFamily?"inherit":k.fontSettings.fontFamily+", Helvetica",n&&(n.style.fontSize=h&&h.shouldOverrideGlobalSettings&&
h.fontSettings&&h.fontSettings.fontSize&&"0"!==h.fontSettings.fontSize?h.fontSettings.fontSize+"px":(f&&f.fontSettings&&f.fontSettings.fontSize||14)+"px"),n.style.lineHeight=k.fontSettings.fontSize+"px",n.style.fontStyle=k.fontSettings.itallic?"italic":"unset",n.style.fontWeight=k.fontSettings.bold?700:"unset",n.style.textDecoration=k.fontSettings.underlined?"underline":"unset");f=void 0;f=null===k.hoverBackgroundFill||void 0===k.hoverBackgroundFill?"unset"!==k.hoverBackgroundColor?k.hoverBackgroundColor:
"":"unset"!==k.hoverBackgroundColor?(0,d.hexToRgba)(k.hoverBackgroundColor,k.hoverBackgroundFill/100):"";f="."+a+":hover {\n            color: "+("unset"!==k.hoverTextColor?k.hoverTextColor:"")+" !important;\n            background-color: "+f+" !important;\n            border: "+(k.borderWidth||0)+"px solid "+k.hoverBorderColor+" !important;\n        }";(0,d.addStyle)(f,a,l)}var f=this;this.getFooterElement=function(a){return a.querySelector(l(a,"apt-step-footer"))};this.getNavigationButtons=function(a){return a.querySelector(l(a,
"apt-step-footer-buttons"))};this.getStepCounter=function(a){return a.querySelector(l(a,"apt-step-new-index"))};this.setNavigationVisibility=function(a,b){var d=b||{},h=d.navigationButtons,d=d.stepIndexWrapper,h=h||f.getNavigationButtons(a),d=d||f.getStepCounter(a),n=f.getFooterElement(a);n&&h&&("none"!==h.style.display||d&&""!==d.innerHTML?n.style.display="":n.style.display="none")};this.setButtonsVisibility=function(a,b){var d=f.getNavigationButtons(a);d&&(d.style.display=b?"":"none");f.setNavigationVisibility(a,
{navigationButtons:d})};this.setCounterVisibility=function(a,b,d){var h=f.getStepCounter(a);h&&(b.show&&d?(h.classList.add("px-step-numbers"),h.innerHTML="\x3cdiv\x3e"+(b.label||" of ")+"\x3c/div\x3e",b.fontColor&&(h.style.color=b.fontColor),b.fontSize&&(h.style.fontSize=b.fontSize+"px")):h.innerHTML="");f.setNavigationVisibility(a,{stepIndexWrapper:h})};this.addSkipButton=function(b,f,n,k,l,m,p,t){f.enabled&&(n=(0,d.createElement)("div",["px-step-navigation-button","px-step-navigation-skip"],{text:m||
f.text||"Skip Tour"}),n.setAttribute("tabindex",t),n.setAttribute("role","button"),a(b,f,"skip"),p(n),(b.querySelector(".apt-step-footer-buttons")||b.querySelector(".px-step-navigation-buttons")).appendChild(n),k&&((0,d.addEventListener)(n,"click",l),(0,d.addEnterKeyDownListener)(n,l)))};this.addSnoozeButton=function(b,f,n,k,l,m,p,t){f&&f.enabled&&(l=(0,d.createElement)("div",["px-step-navigation-button","px-step-navigation-snooze"],{text:l||f.text||"Show me later"}),t||(l.style.display="flex",l.style.alignItems=
"center",l.style.padding="5px"),l.setAttribute("tabindex",p),l.setAttribute("role","button"),a(b,f,"snooze"),m(l),b=b.querySelector(".apt-step-footer-buttons")||b.querySelector(".px-step-navigation-buttons"),b.insertBefore(l,b.firstChild),n&&((0,d.addEventListener)(l,"click",k),(0,d.addEnterKeyDownListener)(l,k)))};this.toggleSnooze=function(b,d,n,k,l,m){var p=b.querySelector(".px-step-navigation-snooze");p?((0,t.applyStyle)(p,"display",d?"block":"none"),a(b,n,"snooze")):f.addSnoozeButton(b,n,!1,
void 0,k,l,m)};this.toggle=function(b,d,n,k,l,m){var p=b.querySelector(".px-step-navigation-skip");p?((0,t.applyStyle)(p,"display",d?"block":"none"),a(b,n,"skip")):f.addSkipButton(b,n,void 0,!1,void 0,k,l,m)};this.populateNavigationFlags=function(a,b){var d=!1;return(0,k.arrayFrom)(a,function(a){return"DIALOG"!==a.type||0!==a.sequenceNumber&&a.sequenceNumber!==b||(a.showStepCounter=a.showStepCounter||!1),!d&&-1<v.indexOf(a.type)?(d=!0,a.isFirstStepNonHotspot=!0):a.isFirstStepNonHotspot=!1,a})};this.setStepNavigationV2Style=
function(a){var f=a.guideSettings,h=a.stepSettings,k=a.nextButton,l=a.prevButton,m=a.skipButtonDom,p=a.snoozeButtonDom,t=a.footerElement,v=a.stepPrevButtonStyleSettings,B=a.stepNextButtonStyleSettings,y=a.navigation;a=void 0;f.navigationV2?(y=void 0,h.overrideFooterSettings?(y=h.footerPaddingSettings,a=h.buttonSpace):(y=f.footerPaddingSettings,a=f.buttonSpace),b({globalSettings:f.nextButton,stepSettings:B,button:k,parentElement:t,id:"px-step-navigation-next"}),k.style.marginLeft=a+"px",m&&(b({globalSettings:f.skipButton,
stepSettings:f.skipButton,button:m,parentElement:t,id:"px-step-navigation-skip"}),m.style.marginLeft=a+"px"),b({globalSettings:f.backButton,stepSettings:v,button:l,parentElement:t,id:"px-step-navigation-back"}),y&&(null===y.top&&null===y.right&&null===y.bottom&&null===y.left||(t.style.padding=(y.top||0)+"px \n                                "+(y.right||0)+"px \n                                "+(y.bottom||0)+"px \n                                "+(y.left||0)+"px"))):(y.backgroundColor&&(l.style.backgroundColor=
y.backgroundColor)&&(k.style.backgroundColor=y.backgroundColor),y.backgroundFill&&(l.style.backgroundColor=(0,d.hexToRgba)(y.backgroundColor,y.backgroundFill/100))&&(k.style.backgroundColor=(0,d.hexToRgba)(y.backgroundColor,y.backgroundFill/100)),y.backgroundRadius&&(l.style.borderRadius=y.backgroundRadius+"px")&&(k.style.borderRadius=y.backgroundRadius+"px"),y.labelColor&&(l.style.color=y.labelColor)&&(k.style.color=y.labelColor));p&&(b({globalSettings:f.snoozeButton,stepSettings:f.snoozeButton,
button:p,parentElement:t,id:"px-step-navigation-snooze"}),void 0!==a&&null!==a&&(l.style.marginLeft=a+"px"),f.navigationV2||(p.style.padding="5px"))}};a["default"]=m;a.getSelectorByVersion=l},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.hotspotEventHandler=void 0;var l=b(0),d=(m=b(19))&&m.__esModule?m:{"default":m};a.hotspotEventHandler=new function(){var a=this,b=void 0,m=void 0;this.addListener=function(h,n,f){a.removeListener();b=function(b){f(b);a.removeListener()};(m=h)&&
(m.isDom&&m.element?((0,l.addEventListener)(m.element,"click",b),(0,l.addEventListener)(m.element,"contextmenu",b)):!m.isDom&&m.iframeSource&&d["default"].addElementHandler(h.iframeSource,n,"ELEMENT_CLICK",b))};this.removeListener=function(){m&&b&&(m.element&&m.isDom?((0,l.removeEventListener)(m.element,"click",b),(0,l.removeEventListener)(m.element,"contextmenu",b)):!m.isDom&&m.iframeSource&&d["default"].removeElementHandlers(m.iframeSource));b=m=null}}},function(m,a,b){function l(a){return a&&a.__esModule?
a:{"default":a}}function d(a){return(0,e.disableFocusOnClick)(a,Z)}function t(a,b,c){this.id=a;this.type=b;this.step=c}Object.defineProperty(a,"__esModule",{value:!0});var k=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(p){e=!0,f=p}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}();m=b(81);var v=l(m);m=b(33);m=l(m);var h=b(0),n=b(76),f=l(n),c=b(12),g=b(4),q=b(5),w=b(9),n=b(14),r=l(n),u=b(28),n=b(75),p=l(n),n=b(80),x=l(n),n=b(78),A=l(n),n=b(79),B=l(n),y=b(10),e=b(6),D=b(3),z=b(25),J=b(1),F=b(90),I=b(11),C=b(16),E=b(20),n=b(82),N=l(n),P=b(18),L=b(58),O=b(8),n=b(31),M=l(n),K=b(13),H=b(21),n=b(134),R=l(n),n=b(77),V=l(n),U=b(39),Q=b(131),S=b(26),T=b(32);T.defaultOptions.className="vex-theme-os";var X=new m["default"],Y=void 0,Z=void 0,ca=null,W=null,la=null;a["default"]=function(a,
b,n,l,m){function ea(a){var b=this;Pa=T.open(a);0<Da.timeout&&(qb=setTimeout(function(){b.close()},Da.timeout*h.MILLISEC))}function wa(a){var c=this;b.activationType===O.ACTIVATION_TYPE_AUTOMATIC?0<Da.delay?wb=setTimeout(function(){ea.apply(c,[a])},Da.delay*h.MILLISEC):ea.apply(this,[a]):Pa=T.open(a)}function Ca(){var a=Pa.contentEl.getBoundingClientRect();la==a.width&&W==a.height||("DIALOG"===ba.viewType&&X.positionElement(Pa.contentEl,null,ba.horizontalPosition,ba.verticalPosition,ba.positionTopDelta,
ba.positionLeftDelta),W=a.height,la=a.width,(0,C.sendDesktopEngagementSizeEvent)("engagementResize",a,b,b.content),bb&&bb(b,Pa.contentEl))}function sa(){-1<Q.valueStepTypes.indexOf(ab[hb].getSettings().type)&&ub++;hb+=1;fa(ab,hb,hb-1)}function fa(a,c,d){if(a[d].hide(),c>=a.length)return void Pa.close();d=a[c];Pa.contentEl.appendChild(d.render());Pa.contentEl.setAttribute("data-step-id",d.getSettings().id);Pa.contentEl.setAttribute("data-step-index",c+1);(0,C.removeCicularTabsWrapperListener)(Y);(0,
C.checkHasOverlay)(ba.overlayColor,ba.overlayFill)&&(Y=(0,C.addCircularTabListener)(a[c].focus));(0,e.focusElement)(Z);ab[hb].getSettings().type;setTimeout(function(){if(Pa){var a=Pa.contentEl.getBoundingClientRect();la===a.width&&W===a.height||(W=a.height,la=a.width,(0,C.sendDesktopEngagementSizeEvent)("engagementResize",a,b,b.content))}})}function ka(a,b){var c=(0,C.getBoxShadowString)(b);a.style.setProperty("filter","drop-shadow("+c+")");a.style.setProperty("-webkit-filter","drop-shadow("+c+")")}
function aa(){if(!r["default"].isEditorMode()){var d=!1,e=!1,f=(0,y.arrayFrom)(ib,function(a){var b=a.step.getData();return void 0!==b.contactMeAllowed&&(d=b.contactMeAllowed),e=null!==b.selected,{stepId:a.id,score:b.selected,comment:b.comment,questionType:a.type,labels:b.labels||[]}});if(e){var n=(0,h.addParameters)(g.eventTrackData[q.cacheGetAll](),[]);b.accountId&&(n=(0,h.addParameters)({acci:b.accountId},n));n=(0,h.addParameters)({exi:b.executionId,ext:b.executionTimestamp,at:b.activationType||
"a",cl:b.contentLocale},n);n=(0,h.addParameters)((0,E.getWebContext)(),n);rb&&"kc"===b.activationType&&(0,h.addParameters)(rb,n);var n=(0,h.addParameters)((0,F.addFullStoryInfo)([]),n),p={ei:b.engagementId,ecoi:b.content.id,ent:b.content.contentType,contactMeAllowed:d,questions:f},l=(0,H.getGlobalContext)();(l&&Object.assign(p,{gcx:l}),Ja==O.DESKTOP_CHANNEL)?(n=(0,h.paramToObject)(n,{}),l=L.eventCache.getKey("trackingPayload"),Object.assign(p,n,l||{}),c.AjaxUtil.postData(J.desktopEngagementTrackEndpoint+
"/survey",p,null,null,null,!0)):c.AjaxUtil.postData(J.surveySubmitUrl+"?"+(0,h.convert2Parameters)(n),p,null,null,null,!0);fb=vb=!0;f.forEach(function(c){return I.internalEventListener.dispatchEvent("surveyResponded",(0,C.toExternalEventSurvey)(b,"Responded",a,c))});I.internalEventListener.dispatchEvent("engagementCompleted",(0,C.toExternalEventSurvey)(b,"Completed"))}}}function xa(){sa();aa();fb=vb=!0}function na(a,c,d){var e=!1;switch(void 0!==c.contactMeAllowed&&(e=c.contactMeAllowed),a.questionType){case "MULTIPLE_CHOICE_QUESTION":a.selectionIds=
c.choices;break;case "OPEN_TEXT":a.comment=c.comment;break;case "DYNAMIC_RATING_STEP":Object.assign(a,{questionType:"SCORE",score:c.selected,comment:c.comment,labels:c.labels||[]});break;case "CONTENT":break;default:throw Error("Survey type not supported");}c={ei:b.engagementId,ecoi:b.content.id,ent:b.content.contentType,lastStep:d,contactMeAllowed:e};"CONTENT"!==a.questionType&&(c.questions=[a]);a=(0,H.getGlobalContext)();return a&&Object.assign(c,{gcx:a}),c}function Ha(){var a=(0,h.addParameters)(g.eventTrackData[q.cacheGetAll](),
[]);b.accountId&&(a=(0,h.addParameters)({acci:b.accountId},a));a=(0,h.addParameters)((0,F.addFullStoryInfo)([]),a);a=(0,h.addParameters)({exi:b.executionId,ext:b.executionTimestamp,at:b.activationType||"a",cl:b.contentLocale},a);(0,h.addParameters)((0,E.getWebContext)(),a);return rb&&"kc"===b.activationType&&(0,h.addParameters)(rb,a),Object.assign(a)}function Ta(){var a=ib[ub],d=ib.length===ub+1;if(fb=d,sa(),!r["default"].isEditorMode()){var e={stepId:a.id,questionType:a.type},f=a.step.getData(),
a=Ha(),e=na(e,f,d);Ja==O.DESKTOP_CHANNEL?(a=(0,h.paramToObject)(a,{}),f=L.eventCache.getKey("trackingPayload"),Object.assign(e,a,f||{}),c.AjaxUtil.postData(J.desktopEngagementTrackEndpoint+"/survey/step",e,null,null,null,!0)):c.AjaxUtil.postData(J.trackSingleStepEndpoint+"?"+(0,h.convert2Parameters)(a),e,null,null,null,!0);d&&I.internalEventListener.dispatchEvent("engagementCompleted",(0,C.toExternalEventSurvey)(b,"Completed"))}}function kb(){for(var a=void 0,b=0;b<oa.length;b++)if(a=oa.length-1-
b,!oa[a].isContentPage())return void(Za=a)}function Ra(a){var d=J.trackMultiStepEndpoint;if(!0!==fb){2===a&&(fb=!0);var e=Ha();(0,h.addParameters)({ei:b.engagementId||null,ecoi:b.content.id||null,ems:a||null,evi:b.matchEventId||null,ent:Q.contentTypeEnumMap[b.content.contentType]||null,cl:b.contentLocale},e);(a=(0,H.getGlobalContext)())&&(0,h.addParameters)({gcx:JSON.stringify(a)},e);e=(0,h.addParameters)((0,E.getWebContext)(),e);d+="?"+(0,h.convert2Parameters)(e);c.AjaxUtil.getData(d)}}function gb(a){return a.steps.reduce(function(a,
b){var c=b.getSettings(),d=b.getData();return d.choices?a[c.id]=d.choices:d.selected&&(a[c.id]=[d.selected]),a},{})}function Ia(){try{var a=JSON.parse(l[Sa].nextStepCondition),b=oa[Sa];0===a.stepConditionSet.length&&a.defaultConditionAction.type===Q.CLOSE_ACTION&&"END_SURVEY"===a.defaultConditionAction.value&&ba.showContactMeMessage?b.setShowContactMe(ba.showContactMeMessage):b.setShowContactMe(!1)}catch(c){D.logger.log("setShowContactMeForCurrentPage - error in parsing nextStepCondition "+c)}}function ya(a,
b){var c=void 0;try{var d=JSON.parse(a);if(d){var e=b.isContentPage()?[]:gb(b.getData()),f=(0,U.evaluateStepConditionFilterForSurvey)(d,e),g=f.value,h=f.type,d=Sa;if(h===Q.GO_TO_STEP_ACTION){Sa=Xa[g];Ia();fa(oa,Sa,d);var n=oa[d].getData().steps,p=n[n.length-1].getStepNumber();oa[Sa].updateQuestionsNumbers(p+1)}else h===Q.CLOSE_ACTION&&fa(oa,oa.length+1,d);c=h}}catch(l){D.logger.log("Error in parsing nextStepCondition "+l)}return c}function za(a,b,c){a=a.getSettings();return{step:{stepId:a.id,questionType:a.type},
stepData:Object.assign({},{contactMeAllowed:b.contactMeAllowed},c)}}function ta(a){var c=b.content.surveyVersion;b.content.viewType===O.VIEW_TYPE_BAR&&(0===c?a.classList.add("apt-container-bar-and-combine-old"):(c=b.content.autoHeight,a.classList.add("apt-container-bar-and-combine"),c||a.classList.add("apt-none-auto-height")))}function Fa(){var a=Sa,d=oa[Sa],e=void 0,f=l[a].nextStepCondition;f?e=ya(f,d):(Sa+=1,fa(oa,Sa,Sa-1));var g=oa.length===Sa+1;if(fb=g,!r["default"].isEditorMode()){var f=Ha(),
n=[],p=d.getData(),d=d.isContentPage();d&&e!==Q.CLOSE_ACTION||(a=d&&e===Q.CLOSE_ACTION||Za===a,(f=(0,h.addParameters)({lqsp:a},f),d&&e===Q.CLOSE_ACTION)?(e=za(p.steps[0],p,{}),e=na(e.step,e.stepData,g),c.AjaxUtil.postData(J.trackSurveyCompleteEndpoint+"?"+(0,h.convert2Parameters)(f),e,null,null,null,!0)):(p.steps.forEach(function(a){a=za(a,p,a.getData());a=na(a.step,a.stepData,g);n.push(a)}),c.AjaxUtil.postData(J.trackSinglePageEndpoint+"?"+(0,h.convert2Parameters)(f),n,null,null,null,!0)),g&&I.internalEventListener.dispatchEvent("engagementCompleted",
(0,C.toExternalEventSurvey)(b,"Completed")))}}function Ya(){Pa.close()}function ra(a,b){return a.sequenceNumber-b.sequenceNumber}function ua(a,b,c,d,e){e=e||b.type;var f=N["default"].SanitizeHtml(a.getHtml());if(f.isValid){if(ib.push(new t(b.id,e,a)),ab.push(a),d)return++c}else cb.push(f.errors);return c}var Aa=this;l=l||[];var Da=b.content,Ja=(0,P.getChannel)(g.eventTrackData[q.cacheGet](g.productIdParameter)),oa=[],Za=void 0,Xa={},cb=void 0,mb=void 0,Sa=0,hb=0,ub=0,ba={},ib=[],ab=[],vb=!1,fb=!1,
Pa=null,bb=null,rb=m,wb=null,qb=null;!function(a){Object.entries(a).forEach(function(a){var b=k(a,2);a=b[0];b=b[1];-1<Q.knownSettings.indexOf(a)&&(ba[a]=b)});ba.horizontalPosition||(ba.horizontalPosition="center");ba.verticalPosition||(ba.verticalPosition="center")}(b.content);this.render=function(c){bb=c;n.sort(ra);l.sort(ra).forEach(function(c,d){Xa[c.id]=c.sequenceNumber;c.isLast=d===l.length-1;c.showContactMeMessage=c.isLast&&ba.showContactMeMessage;c.contactMeMessage=ba.contactMeMessage;c.orientation=
Da.orientation;c.mergeFirstSteps=ba.mergeFirstSteps;c.snoozeButton=Da.snoozeButton;c.surveyType=a;c.activationType=b.activationType;c.activationTypes=b.activationTypes;c.survey=b;oa.push(new R["default"](c,Fa,e.disableFocusOnClick))});c=1;cb=[];mb=[];for(var k=void 0,m=0;m<n.length;m++)switch(k=Object.assign({},n[m]),k.isLast=m===n.length-1||m===n.length-2&&"CONTENT"===n[m+1].type&&"IN_APP_MULTIPLE_QUESTION_SURVEY"!==a,k.showContactMeMessage=(k.isLast||m===n.length-2&&"CONTENT"===n[m+1].type&&"IN_APP_MULTIPLE_QUESTION_SURVEY"===
a)&&ba.showContactMeMessage,k.contactMeMessage=ba.contactMeMessage,k.minCharsValidationText=ba.minCharsValidationText,k.maxCharsValidationText=ba.maxCharsValidationText,k.mandatoryValidationText=ba.mandatoryValidationText,k.minAnswersValidationText=ba.minAnswersValidationText,k.maxAnswersValidationText=ba.maxAnswersValidationText,k.viewType=ba.viewType,k.showFooter=ba.showFooter,k.footer=ba.footer,k.mergeFirstSteps=ba.mergeFirstSteps,k.orientation=Da.orientation,k.snoozeButton=Da.snoozeButton,k.surveyType=
a,k.activationType=b.activationType,k.activationTypes=b.activationTypes,k.survey=b,n[m].type){case "CONTENT":(0,S.replaceContentStepImagesDomain)(n[m]);var q=new f["default"](n[m].html,k,m<n.length-1?sa:Ya,d),k=N["default"].SanitizeHtml(q.getHtml());k.isValid?ab.push(q):(cb.push(k.errors),mb.push(k.errorTypes));break;case "SCORE":q=void 0;switch((0,S.replaceScoreSurveyImagesDomain)(k),a){case "IN_APP_SURVEY_NPS":k.numberOfButtons=11;k.initialButtonIndex=0;q=new v["default"](k,xa,d);break;case "IN_APP_CES_SURVEY":k.numberOfButtons=
7;k.initialButtonIndex=1;q=new v["default"](k,xa,d);break;case "IN_APP_RATING_SURVEY":"SMILEY"===k.surveyScoreType?k.numberOfButtons=3:k.numberOfButtons=5,k.initialButtonIndex=1,q=new x["default"](k,xa,d)}ua(q,k,c);break;case "BOOLEAN":(0,S.replaceBooleanImagesDomain)(k);ua(new p["default"](k,xa,d),k,c,!1,"SCORE");break;case "MULTIPLE_CHOICE_QUESTION":(0,S.replaceMultiChoiceImagesDomain)(k);c=ua(new A["default"](k,Ta,c,d),k,c,!0);break;case "OPEN_TEXT":(0,S.replaceOpenTextImagesDomain)(k);c=ua(new B["default"](k,
Ta,c,d),k,c,!0);break;case "DYNAMIC_RATING_STEP":(0,S.replaceDynamicRangeImagesDomain)(k),c=ua(new V["default"](k,c),k,c,!0)}if(0<cb.length)return{isValid:!1,errors:cb};if(0<oa.length){ab.forEach(function(a){var b=a.getSettings();oa[Xa[b.surveyPageId]].addStep(a)});kb();oa[Za].setShowContactMe(ba.showContactMeMessage);for(c=Za+1;c<oa.length;c++)oa[c].setShowContactMe(!1);Ia()}c={appendLocation:(0,J.getConfig)("framesetMode")?"html":"body",enableModalBodyScroll:(0,J.getConfig)("enableModalBodyScroll"),
closeClassName:"aptr-engagement-close-btn px-close-button",overlayClosesOnClick:!1,showCloseButton:!0,afterOpen:function(){var c=this;(0,J.getConfig)("enableModalBodyScroll")&&(0,J.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");this.contentEl.classList.add("apt-survey-popup");this.closeEl.setAttribute("aria-label","exit survey");Z=this.contentEl;this.rootEl.setAttribute("data-apt-ignore-visible",!0);this.contentEl.setAttribute("data-apt-disable-selector",!0);this.rootEl.classList.add("apt-popup-disable-overlay");
this.contentEl.classList.add("apt-popup-content-disable-overlay");this.contentEl.classList.add("apt-engagement-wrapper-survey");this.contentEl.classList.add("apt-engagement-wrapper");this.contentEl.classList.add("px-engagement-wrapper-survey");this.contentEl.classList.add("px-engagement-wrapper");(ba.zIndex||ba.zindex)&&(this.rootEl.style.zIndex=ba.zindex||ba.zIndex,this.contentEl.style.zIndex=ba.zindex||ba.zIndex,this.overlayEl.style.zIndex=ba.zindex||ba.zIndex);(0,e.addStyleTag)(this.contentEl,
ba.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os");(0,e.addStyleTag)(this.contentEl,ba.engagementCoreStyling,"px-engagement-wrapper-survey",".apt-vex.vex.vex-theme-os");(0,e.addStyleTag)(this.contentEl,ba.overrideStyling,"px-engagement-wrapper-survey",".apt-vex.vex.vex-theme-os");Array.isArray(b.content.steps)&&b.content.steps.forEach(function(a){a.style&&(0,e.addStyleTag)(c.contentEl,a.style,"px-engagement-wrapper-survey #step-"+a.id,".apt-vex.vex.vex-theme-os")});Array.isArray(l)&&
l.forEach(function(a){a.style&&(0,e.addStyleTag)(c.contentEl,a.style,"px-engagement-wrapper-survey #page-"+a.id,".apt-vex.vex.vex-theme-os")});var d="MULTIPLE_QUESTION_PER_PAGE"===Da.contentSubType?oa:ab,f=d[0].render(Ya);(this.contentEl.appendChild(f),this.contentEl.setAttribute("data-step-id",d[0].getSettings().id),this.contentEl.setAttribute("data-step-index",1),ba.autoHeight||(this.contentEl.style.height=ba.height+"px"),"DIALOG"===ba.viewType)?(this.contentEl.style.width=ba.width+"px",Ja!=O.DESKTOP_CHANNEL?
X.positionElement(this.contentEl,null,ba.horizontalPosition,ba.verticalPosition,ba.positionTopDelta,ba.positionLeftDelta):(this.contentEl.style.top=0,this.contentEl.style.left=0)):(this.contentEl.classList.add("apt-survey-bar"),this.contentEl.style.width=(0,w.getPageWidth)(!0)+"px",this.contentEl.style.left="0px",f=(ba.barOffset||0)+"px","TOP"===ba.barPosition?this.contentEl.style.top=f:this.contentEl.style.bottom=f);-1<O.SCORE_SURVEY_TYPES.indexOf(a)&&b.content.mergeFirstSteps&&ta(this.contentEl);
this.contentEl.style.background=(0,h.hexToRgba)(ba.backgroundColor,ba.backgroundFill?ba.backgroundFill/100:1);"DIALOG"===ba.viewType&&(this.contentEl.style.borderRadius=ba.borderRadius+"px");f=this.rootEl.querySelector(".vex-overlay");ba.overlayFill&&0<ba.overlayFill&&(f.style.background=(0,h.hexToRgba)(ba.overlayColor,ba.overlayFill?ba.overlayFill/100:0),f.style.display="block");ba.showShadow&&ka(this.contentEl,ba.shadowSettings);(f=this.contentEl.querySelector(".aptr-engagement-close-btn"))&&(0,
h.addEventListener)(f,"click",function(){-1==Q.onXSubmitSurveys.indexOf(a)||vb||null!==d[hb].getData().selected&&aa()});f&&f.setAttribute("role","button");(0,C.removeCicularTabsWrapperListener)(Y);(0,C.checkHasOverlay)(ba.overlayColor,ba.overlayFill)&&(Y=(0,C.addCircularTabListener)(d[0].focus));(0,e.focusElement)(Z);M["default"].removeElementListener(ca);ca=K.UUIDGenerator.generateV4Id();M["default"].addPXElementObserver(ca,this.contentEl,Ca);(0,J.getConfig)("clientSideEngagementTracking")&&Ra(1);
setTimeout(function(){var a=Pa.contentEl.getBoundingClientRect();(0,C.sendDesktopEngagementSizeEvent)("engagementPostRender",a,b,ba);bb&&bb(b,Pa.contentEl)},500)}};return c.beforeClose=function(){try{(0,J.getBody)().classList.remove("apt-vex"),(0,u.handleEngagementFinish)(b.content.contentType),Ja==O.DESKTOP_CHANNEL&&M["default"].removeElementListener(ca),(0,C.removeTabbableEnterListener)()}catch(a){D.logger.logInternalError(a,"Error in before close survey")}},c.afterClose=function(){try{setTimeout(function(){var a=
{engagementId:b.engagementId};fb?(0,z.internalApt)("engagementCompletedClosed",a):(0,z.internalApt)("engagementDroppedClosed",a)},500),clearTimeout(wb),clearTimeout(qb),qb=wb=null}catch(c){D.logger.logInternalError(c,"Error in after close survey")}["SURVEY_CLOSED","surveyClosed"].forEach(function(c){if(g.externalEventListeners[c])try{g.externalEventListeners[c]()}catch(d){D.logger.logInternalError(d,"Error calling "+c+" event listener")}I.internalEventListener.dispatchEvent(c,(0,C.toExternalEventSurvey)(b,
"Closed",a))});(0,C.removeCicularTabsWrapperListener)()},wa.apply(Aa,[c]),{isValid:!0,errors:[]}};this.close=function(){Pa&&Pa.close()}}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.knownSettings="borderRadius overlayColor overlayFill viewType verticalPosition horizontalPosition positionTopDelta positionLeftDelta backgroundColor backgroundFill height width autoHeight showShadow shadowSettings barPosition showContactMeMessage coreStyling overrideStyling engagementCoreStyling contactMeMessage minCharsValidationText maxCharsValidationText mandatoryValidationText minAnswersValidationText maxAnswersValidationText footer showFooter mergeFirstSteps zIndex barOffset zindex".split(" ");
a.valueStepTypes=["SCORE","BOOLEAN","MULTIPLE_CHOICE_QUESTION","OPEN_TEXT"];a.contentTypeEnumMap={IN_APP_SURVEY_NPS:4,IN_APP_CES_SURVEY:5,IN_APP_BOOLEAN_SURVEY:6,IN_APP_RATING_SURVEY:7,IN_APP_MULTIPLE_QUESTION_SURVEY:8};a.CLOSE_ACTION="CLOSE";a.GO_TO_STEP_ACTION="GO_TO_STEP";a.onXSubmitSurveys=["IN_APP_SURVEY_NPS","IN_APP_CES_SURVEY","IN_APP_RATING_SURVEY","IN_APP_BOOLEAN_SURVEY"]},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a["default"]=function(){var a=null;this.draw=function(b,
k,m){var h=b.content;return a=new l["default"](h.contentType,b,h.steps,h.surveyPages,m),a.render(k)};this.close=function(){a&&a.close()}};var l=(m=b(130))&&m.__esModule?m:{"default":m}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=b(0),d=b(16);a["default"]=function(a){function b(a){m.style.color=a.textColor;m.style.borderColor=a.borderColor;m.style.backgroundColor=a.fillColor}var m=(0,l.createElement)("div",["px-survey-label"],{text:a.text});m.style.borderRadius=a.cornerRadius+
"px";m.setAttribute("role","button");m.setAttribute("aria-label",a.text);m.setAttribute(d.PX_TABBABLE_ATTR,"true");var h=!1,n={textColor:a.textColor,borderColor:a.borderColor,fillColor:a.fillColor},f={};f.borderColor=a.selectedBorderColor;f.textColor=a.selectedTextColor;f.fillColor=a.selectedFillColor;b(n);(0,l.addEventListener)(m,"click",function(){h=!h;b(h?f:n)});this.render=function(){return m};this.setTabIndex=function(a){m.setAttribute("tabindex",a)};this.isSelected=function(){return h};this.getText=
function(){return a.text};this.getId=function(){return a.id}}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=b(26),d=b(0),t=b(8),k=b(16),v=b(6);a["default"]=function(a,b,f){var c=this,g=void 0,m=void 0,w=t.TAB_INDEX_START,r=[];return this.addStep=function(a){r.push(a)},this.isValid=function(){var a=!0;return r.forEach(function(b){b.isValid()||(a=!1)}),a},this.submitSurvey=function(){c.isValid()&&b()},this.render=function(b){var n=(0,l.renderSurveyTitle)(a,a.title,["apt-survey-page-title-wrapper"],
["apt-survey-page-title"],a.sequenceNumber+1);w=(0,k.setTabIndexes)(n,w);var t=[n];r.forEach(function(a){"function"==typeof c.setTabIndex&&a.setTabIndex(w);var d=a.render(b);d.classList.add("apt-survey-step");t.push(d);w=a.getNextTabIndex()});m=(0,l.renderContactMeCheckBox)(a,w);w+=1;var n=(0,l.renderContactMe)(a,m),v=[],B=(0,l.showSnooze)(a,b,v);B&&(B.classList.add("page-snooze"),B.setAttribute("tabindex",w),w+=1);var y=a.buttonSetting;y.borderRadius=y.cornerRadius;y=(0,l.renderSubmitButton)(a.buttonSetting,
0,w);y.classList.add("page-submit");B&&(y.style.margin="unset");v.push(y);v=(0,d.createElement)("div","px-survey-page-footer",null,v);B=["apt-survey-page"];return"PORTRAIT"===a.orientation&&B.push("apt-orientation-portrait"),g=(0,d.createElement)("div",B,null,t.concat([n,v])),g.setAttribute("id","page-"+a.id),(0,d.addEnterKeyDownListener)(y,c.submitSurvey.bind(c)),(0,d.addEventListener)(y,"click",c.submitSurvey.bind(c)),f(y),g},this.focus=function(){var a=g.querySelector("[tabindex]");a?(0,v.focusElement)(a):
0<r.length&&r[0].focus()},this.hide=function(){g.style.display="none"},this.getData=function(){return{steps:r,contactMeAllowed:a.showContactMeMessage?m.checked:null}},this.isContentPage=function(){return 1===r.length&&r.some(function(a){return"CONTENT"===a.getSettings().type})},this.updateQuestionsNumbers=function(a){c.isContentPage()||r.forEach(function(b,c){b.updateStepNumber(a+c)})},this.setShowContactMe=function(b){a.showContactMeMessage=b},this.getSettings=function(){return a},this}},function(m,
a,b){Object.defineProperty(a,"__esModule",{value:!0});a.normalizeSelector=function(a){function b(){k&&(0<n.length&&/^[~+>]$/.test(n[n.length-1])&&n.push(" "),n.push(k))}var m,k,v,h,n=[],f=[0],c=0,g=/(?:[^\\]|(?:^|[^\\])(?:\\\\)+)$/,q=/^\s+$/,w=[/\s+|\/\*|["'>~+[(]/g,/\s+|\/\*|["'[\]()]/g,/\s+|\/\*|["'[\]()]/g,null,/\*\//g];for(a=a.trim();;){if(k="",v=w[f[f.length-1]],v.lastIndex=c,!(m=v.exec(a))){k=a.substr(c);b();break}if(h=c,c=v.lastIndex,h<c-m[0].length&&(k=a.substring(h,c-m[0].length)),3>f[f.length-
1]){if(b(),"["===m[0])f.push(1);else if("("===m[0])f.push(2);else if(/^["']$/.test(m[0]))f.push(3),w[3]=new RegExp(m[0],"g");else if("/*"===m[0])f.push(4);else if(/^[\])]$/.test(m[0])&&0<f.length)f.pop();else if(/^(?:\s+|[~+>])$/.test(m[0])&&(0<n.length&&!q.test(n[n.length-1])&&0===f[f.length-1]&&n.push(" "),1===f[f.length-1]&&5===n.length&&"\x3d"===n[2].charAt(n[2].length-1)&&(n[4]=" "+n[4]),q.test(m[0])))continue;n.push(m[0])}else n[n.length-1]+=k,g.test(n[n.length-1])&&(4===f[f.length-1]&&(2>n.length||
q.test(n[n.length-2])?n.pop():n[n.length-1]=" ",m[0]=""),f.pop()),n[n.length-1]+=m[0]}return n.join("").trim()}},function(m,a,b){function l(a,b,c){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;a=(0,h.normalizeSelector)(a);var k=c.querySelector(a);return document.head.createShadowRoot||document.head.attachShadow?!b&&k?k:t(a,",").reduce(function(a,h){if(!b&&a)return a;var n=t(h.replace(/^\s+/g,"").replace(/\s*([>+~]+)\s*/g,"$1")," ").filter(function(a){return!!a}).map(function(a){return t(a,
"\x3e")}),k=n.length-1,l=v(n[k][n[k].length-1],c,g),n=d(n,k,c);return b?a=a.concat(l.filter(n)):(a=l.find(n))||null},b?[]:null):b?c.querySelectorAll(a):k}function d(a,b,c){return function(d){for(var h=b,l=!1;d&&d.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&d.nodeType!==Node.DOCUMENT_NODE;){var m=!0;if(1===a[h].length)m=d.matches(a[h]);else{var t=[].concat(a[h]).reverse(),p=d,v=!0,A=!1,B=void 0;try{for(var y,e=t[Symbol.iterator]();!(v=(y=e.next()).done);v=!0){var D=y.value;if(!p||!p.matches(D)){m=!1;break}p=
k(p,c)}}catch(z){A=!0,B=z}finally{try{!v&&e["return"]&&e["return"]()}finally{if(A)throw B;}}}if(m&&0===h){l=!0;break}m&&h--;d=k(d,c)}return l}}function t(a,b){return a.match(/\\?.|^$/g).reduce(function(a,d){return'"'!==d||a.sQuote?"'"!==d||a.quote?a.quote||a.sQuote||d!==b?a.a[a.a.length-1]+=d:a.a.push(""):(a.sQuote^=1,a.a[a.a.length-1]+=d):(a.quote^=1,a.a[a.a.length-1]+=d),a},{a:[""]}).a}function k(a,b){var c=a.parentNode;return c&&c.host&&11===c.nodeType?c.host:c===b?null:c}function v(){var a=0<
arguments.length&&void 0!==arguments[0]?arguments[0]:null,b=arguments[1],c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=[];c?d=c:(c=function w(a){for(var b=0;b<a.length;b++){var c=a[b];d.push(c);c.shadowRoot&&w(c.shadowRoot.querySelectorAll("*"))}},b.shadowRoot&&c(b.shadowRoot.querySelectorAll("*")),c(b.querySelectorAll("*")));return a?d.filter(function(b){return b.matches(a)}):d}Object.defineProperty(a,"__esModule",{value:!0});a.querySelectorAllDeep=function(a){return l(a,!0,1<arguments.length&&
void 0!==arguments[1]?arguments[1]:document,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};a.querySelectorDeep=function(a){return l(a,!1,1<arguments.length&&void 0!==arguments[1]?arguments[1]:document,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};a.collectAllElementsDeep=v;var h=b(135)},function(m,a,b){m.exports=window},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.IntegrationMapper=void 0;var l=function(){function a(b,d){for(var c=0;c<d.length;c++){var g=
d[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,d,c){return d&&a(b.prototype,d),c&&a(b,c),b}}(),d=b(3),t=b(0),k=b(106).assign,v=b(107);a.IntegrationMapper=function(){function a(b,d,c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.initialUserObj=b;this.initialAccountObj=d;this.integrationContext=c;this.mappedAccountObj=this.mappedUserObj=null}return l(a,[{key:"mapData",value:function(){var a=
!1;switch(this.integrationContext.name){case "aptrinsic-segment":this._mapSegment();a=!0;break;default:d.logger.log("Ignoring unknown integration "+this.integrationContext.name)}return a}},{key:"getUserObj",value:function(){return this.mappedUserObj}},{key:"getAccountObj",value:function(){return this.mappedAccountObj}},{key:"isSegmentGroupCall",value:function(){return"aptrinsic-segment"===this.integrationContext.name&&this.initialAccountObj&&this.initialAccountObj.anonymousId&&!(0,t.isBlank)(this.initialAccountObj.anonymousId())}},
{key:"_mapSegment",value:function(){0<=v(this.integrationContext.version,"1.0.0")&&this._mapSegmentV1()}},{key:"_mapSegmentV1",value:function(){var a=this.initialUserObj.traits(),b=this.initialUserObj.address(),c=k({},this.initialUserObj.traits());if(k(c,{id:this.initialUserObj.userId(),email:this.initialUserObj.email(),firstName:this.initialUserObj.firstName(),lastName:this.initialUserObj.lastName(),gender:this.initialUserObj.gender()&&this.initialUserObj.gender().toUpperCase(),title:a.title,phone:this.initialUserObj.phone(),
accountId:this.initialAccountObj.groupId()}),b&&k(c,{street:b.street,countryCode:b.country,stateCode:b.state,city:b.city,postalCode:b.postalCode}),a.company)a=a.company,k(c,{organization:a.name,organizationIndustry:a.industry,organizationEmployees:a.employee_count&&a.employee_count.toString()});a=null;this.initialAccountObj.groupId()&&(b=this.initialAccountObj.traits(),a=k({},b),a.id=this.initialAccountObj.groupId(),a.street=this.initialAccountObj.street(),a.city=this.initialAccountObj.city(),a.countryCode=
this.initialAccountObj.country(),a.postalCode=this.initialAccountObj.zip(),a.numberOfEmployees=parseInt(b.employees));this.mappedUserObj=c;this.mappedAccountObj=a}}]),a}()},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.filterKcContentV1=a.filterKcConfigV1=void 0;var l=b(10),d=b(27).filterProperties,t="enabled countArticle barBackgroundColor barFillColor barHeight barWidth textMessage textMessageColor textMessageFontSize progressValueType".split(" "),k="enabled backgroundColor textColor borderColor fontSize position".split(" "),
v="contentBackgroundColor headerColor textColor hoverTextColor selectedTabHighlightColor unselectedTabColor headerText headerTextColor headerIcon headerFont textFont tooltipTextColor tooltipBackgroundColor badgeColor badgeTextColor newEngagementIcon completedEngagementIcon inProgressEngagementIcon categoryHoverStripeColor categoryHoverBackgroundColor categoryHoverBackgroundFill categoryHoverArrowColor submitButtonColor searchResultsTitleColor searchResultsSummeryColor botPosition botPositionOffsetBottom widgetHeight feedbackHeaderText docsSearchHeaderText showSpeechBobble showEngagementsType showCategoryIcon showEngagementsCompletedIndicator showEngagementsInProgressIndicator showEngagementsNotViewedIndicator engagementsTypeColor engagementsNotViewedIndicatorColor engagementsInProgressIndicatorColor engagementsCompletedIndicatorColor categoryColor embedKCSettings showReadMore botPositionHorizontalOffset allowDismiss dismissButtonColor".split(" "),
h=["horizontalAlignment","verticalAlignment","positionSettings","elementSelector"],n=["positionVertical","positionHorizontal","positionTopDelta","positionLeftDelta"],f="cssSelector type unique matchCssSelector matchTextRule textRule".split(" "),c="openStateColor closedStateColor iconCloseColor openStateIcon closedStateIcon rightPadding bottomPadding iconOpenColor useImage draggable imageUrl".split(" "),g=["autoSuggestionType","suggestionText","completionText","backgroundColor","textColor"],q="id kcId propertyGroupId entryType linkUrl engagementId containingListType title description sequence absoluteTargetUrl sdkRule category articleTitleHtml articleBodyHtml articleAuthor articleDate articleProvider articlePropertyGroupId knowledgeBaseReferenceId".split(" "),
w=["id","name","subtitle","showBadge"];a.filterKcConfigV1=function(a){var b=a.kcId,l=a.subscriptionId,m=a.propertyGroupId,q=a.urlPattern,w=a.injectionType,y=a.badgeSettings,e=a.windowSettings,D=a.floatingButtonSettings,z=a.onBoardingSettings,J=a.includePatterns,F=a.excludePatterns,I=a.enableFeedback,C=a.enableOnBoarding,E=a.articleSearchEnabled,N=a.articleProvider,P=a.articleProviderDomain,L=a.environments,O=a.name,M=a.description,K=a.contextualSearchSetting,H=a.contextualSearchTerm;a=d(a.progressBarSettings,
t);var y=d(y,k),e=d(e,v),R=d(e.embedKCSettings,h),V=d(R.positionSettings,n),U=d(R.elementSelector,f),D=d(D,c),z=d(z,g);return R.positionSettings=V,R.elementSelector=U,e.embedKCSettings=R,{kcId:b,subscriptionId:l,propertyGroupId:m,urlPattern:q,injectionType:w,progressBarSettings:a,badgeSettings:y,windowSettings:e,floatingButtonSettings:D,onBoardingSettings:z,includePatterns:J,excludePatterns:F,enableFeedback:I,enableOnBoarding:C,articleSearchEnabled:E,articleProvider:N,articleProviderDomain:P,environments:L,
name:O,description:M,contextualSearchSetting:K,contextualSearchTerm:H}};a.filterKcContentV1=function(a){a=a.entries;if(!a)return null;a=(0,l.arrayFrom)(a,function(a){a=d(a,q);var b=d(a.category,w);return a.category=b,a});return a.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{entries:a}}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.filterKcContentV2=a.filterKcConfigV2=void 0;var l=b(10),d=b(27).filterProperties,t="enabled countArticle barBackgroundColor barFillColor barHeight barWidth categoriesSectionTitle textMessage textMessageColor textMessageFontSize progressValueType".split(" "),
k="enabled backgroundColor textColor borderColor fontSize position".split(" "),v="id hideSingleTab onboardingIcon feedbackIcon knowledgeBaseIcon onboardingIconColor feedbackIconColor knowledgeBaseIconColor onboardingTabIndex feedbackTabIndex knowledgeBaseTabIndex".split(" "),h="contentBackgroundColor headerColor textColor hoverTextColor selectedTabHighlightColor unselectedTabColor headerText headerTextColor headerIcon headerFont textFont tooltipTextColor tooltipBackgroundColor badgeColor badgeTextColor newEngagementIcon completedEngagementIcon inProgressEngagementIcon categoryHoverStripeColor categoryHoverBackgroundColor categoryHoverBackgroundFill categoryHoverArrowColor submitButtonColor searchResultsTitleColor searchResultsSummeryColor botPosition botPositionOffsetBottom widgetHeight feedbackHeaderText docsSearchHeaderText showSpeechBobble showEngagementsType showCategoryIcon showEngagementsCompletedIndicator showEngagementsInProgressIndicator showEngagementsNotViewedIndicator engagementsTypeColor engagementsNotViewedIndicatorColor engagementsInProgressIndicatorColor engagementsCompletedIndicatorColor categoryColor embedKCSettings showReadMore botPositionHorizontalOffset allowDismiss dismissButtonColor enableOnboardingSearch knowledgeBaseSearchText".split(" "),
n=["horizontalAlignment","verticalAlignment","positionSettings","elementSelector"],f=["positionVertical","positionHorizontal","positionTopDelta","positionLeftDelta"],c="cssSelector type unique matchCssSelector matchTextRule textRule".split(" "),g="openStateColor closedStateColor iconCloseColor openStateIcon closedStateIcon rightPadding bottomPadding iconOpenColor useImage draggable imageUrl".split(" "),q=["autoSuggestionType","suggestionText","completionText","backgroundColor","textColor"],w="id kcId propertyGroupId entryType linkUrl engagementId containingListType title description sequence absoluteTargetUrl sdkRule category articleTitleHtml articleBodyHtml articleAuthor articleDate articleProvider articlePropertyGroupId knowledgeBaseReferenceId".split(" "),
r="guideRedirectMessage guideRedirectConfirmButton guideRedirectCancelButton feedbackDropdownIssue feedbackDropdownFeatureRequest feedbackDropdownGeneralFeedback feedbackDropdownOther feedbackSubjectPlaceholder feedbackDescriptionPlaceholder feedbackSubmitButtonLabel feedbackThankYouMessage feedbackLeaveAnotherMessage knowledgeBaseBlankSearchMessage knowledgeBaseNoResultMessage knowledgeBaseInputPlaceholder knowledgeBaseFailureMessage".split(" "),u=["id","name","subtitle","showBadge"];a.filterKcConfigV2=
function(a){var b=a.kcId,l=a.subscriptionId,m=a.propertyGroupId,u=a.urlPattern,e=a.injectionType,w=a.badgeSettings,z=a.tabsSettings,J=a.windowSettings,F=a.floatingButtonSettings,I=a.onBoardingSettings,C=a.includePatterns,E=a.excludePatterns,N=a.enableFeedback,P=a.enableOnBoarding,L=a.articleSearchEnabled,O=a.articleProvider,M=a.articleProviderDomain,K=a.environments,H=a.name,R=a.description,V=a.contextualSearchSetting,U=a.contextualSearchTerm,Q=a.staticFields;a=d(a.progressBarSettings,t);var w=d(w,
k),z=d(z,v),Q=d(Q,r),J=d(J,h),S=d(J.embedKCSettings,n),T=d(S.positionSettings,f),X=d(S.elementSelector,c),F=d(F,g),I=d(I,q);return S.positionSettings=T,S.elementSelector=X,J.embedKCSettings=S,{kcId:b,subscriptionId:l,propertyGroupId:m,urlPattern:u,injectionType:e,progressBarSettings:a,badgeSettings:w,tabsSettings:z,windowSettings:J,floatingButtonSettings:F,onBoardingSettings:I,includePatterns:C,excludePatterns:E,enableFeedback:N,enableOnBoarding:P,articleSearchEnabled:L,articleProvider:O,articleProviderDomain:M,
environments:K,name:H,description:R,contextualSearchSetting:V,contextualSearchTerm:U,staticFields:Q}};a.filterKcContentV2=function(a){a=a.entries;if(!a)return null;a=(0,l.arrayFrom)(a,function(a){a=d(a,w);var b=d(a.category,u);return a.category=b,a});return a.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{entries:a}}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.filterKcContentV3=a.filterKcConfigV3=void 0;var l=b(10),d=b(27).filterProperties,t="enabled countArticle barBackgroundColor barFillColor barHeight barWidth categoriesSectionTitle textMessage textMessageColor textMessageFontSize progressValueType".split(" "),
k="enabled backgroundColor textColor borderColor fontSize position".split(" "),v="id hideSingleTab onboardingIcon feedbackIcon knowledgeBaseIcon onboardingIconColor feedbackIconColor knowledgeBaseIconColor onboardingTabIndex feedbackTabIndex knowledgeBaseTabIndex".split(" "),h="contentBackgroundColor headerColor textColor hoverTextColor selectedTabHighlightColor unselectedTabColor headerText headerTextColor headerIcon headerFont textFont tooltipTextColor tooltipBackgroundColor badgeColor badgeTextColor newEngagementIcon completedEngagementIcon inProgressEngagementIcon categoryHoverStripeColor categoryHoverBackgroundColor categoryHoverBackgroundFill categoryHoverArrowColor submitButtonColor searchResultsTitleColor searchResultsSummeryColor botPosition botPositionOffsetBottom widgetHeight feedbackHeaderText docsSearchHeaderText showSpeechBobble showEngagementsType showCategoryIcon showEngagementsCompletedIndicator showEngagementsInProgressIndicator showEngagementsNotViewedIndicator engagementsTypeColor engagementsNotViewedIndicatorColor engagementsInProgressIndicatorColor engagementsCompletedIndicatorColor categoryColor embedKCSettings showReadMore botPositionHorizontalOffset allowDismiss dismissButtonColor enableOnboardingSearch knowledgeBaseSearchText".split(" "),
n=["horizontalAlignment","verticalAlignment","positionSettings","elementSelector"],f=["positionVertical","positionHorizontal","positionTopDelta","positionLeftDelta"],c="cssSelector type unique matchCssSelector matchTextRule textRule".split(" "),g="openStateColor closedStateColor iconCloseColor openStateIcon closedStateIcon rightPadding bottomPadding iconOpenColor useImage draggable imageUrl".split(" "),q=["autoSuggestionType","suggestionText","completionText","backgroundColor","textColor"],w="id kcId propertyGroupId entryType linkUrl engagementId containingListType title description sequence absoluteTargetUrl sdkRule category articleTitleHtml articleBodyHtml articleAuthor articleDate articleProvider articlePropertyGroupId knowledgeBaseReferenceId".split(" "),
r="guideRedirectMessage guideRedirectConfirmButton guideRedirectCancelButton feedbackDropdownIssue feedbackDropdownFeatureRequest feedbackDropdownGeneralFeedback feedbackDropdownOther feedbackSubjectPlaceholder feedbackDescriptionPlaceholder feedbackSubmitButtonLabel feedbackThankYouMessage feedbackLeaveAnotherMessage knowledgeBaseBlankSearchMessage knowledgeBaseNoResultMessage knowledgeBaseInputPlaceholder knowledgeBaseFailureMessage".split(" "),u=["id","name","subtitle","showBadge"];a.filterKcConfigV3=
function(a){var b=a.kcId,l=a.subscriptionId,m=a.propertyGroupId,u=a.urlPattern,e=a.injectionType,w=a.badgeSettings,z=a.tabsSettings,J=a.windowSettings,F=a.floatingButtonSettings,I=a.onBoardingSettings,C=a.includePatterns,E=a.excludePatterns,N=a.enableFeedback,P=a.enableOnBoarding,L=a.articleSearchEnabled,O=a.articleProvider,M=a.articleProviderDomain,K=a.environments,H=a.name,R=a.description,V=a.contextualSearchSetting,U=a.contextualSearchTerm,Q=a.staticFields;a=d(a.progressBarSettings,t);var w=d(w,
k),z=d(z,v),Q=d(Q,r),J=d(J,h),S=d(J.embedKCSettings,n),T=d(S.positionSettings,f),X=d(S.elementSelector,c),F=d(F,g),I=d(I,q);return S.positionSettings=T,S.elementSelector=X,J.embedKCSettings=S,{kcId:b,subscriptionId:l,propertyGroupId:m,urlPattern:u,injectionType:e,progressBarSettings:a,badgeSettings:w,tabsSettings:z,windowSettings:J,floatingButtonSettings:F,onBoardingSettings:I,includePatterns:C,excludePatterns:E,enableFeedback:N,enableOnBoarding:P,articleSearchEnabled:L,articleProvider:O,articleProviderDomain:M,
environments:K,name:H,description:R,contextualSearchSetting:V,contextualSearchTerm:U,staticFields:Q}};a.filterKcContentV3=function(a){a=a.entries;if(!a)return null;a=(0,l.arrayFrom)(a,function(a){a=d(a,w);var b=d(a.category,u);return a.category=b,a});return a.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{entries:a}}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.getGlobalContextMessage=function(a){return d.logger.log("SDK Posting global context to KC"),{type:t,globalContext:a}};
a.getUrlMessage=function(){return d.logger.log("SDK Posting current url to KC"),{type:k,url:(0,l.getPageUrl)()}};var l=b(0),d=b(3),t="APT_WIDGET_GLOBAL_CONTEXT",k="APT_WIDGET_URL"},function(m,a,b){function l(){this.getAttribute=function(){return"url"}}Object.defineProperty(a,"__esModule",{value:!0});var d=b(0);l.prototype.matchRules=function(a,b,l){return"all"===b?a.every(function(a){return(0,d.matchUrl)(a.value,l,"is"!==a.operator,"isNot"===a.operator)}):a.some(function(a){return(0,d.matchUrl)(a.value,
l,"is"!==a.operator,"isNot"===a.operator)})};m=new l;a["default"]=m},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.findIndex=function(a,b){for(var m=0;m<a.length;m++)if(b(a[m]))return m;return-1}},function(m,a,b){function l(a,b,f){var c=!1;return null===a?c=b:f===d?c=b||a:f===t&&(c=b&&a),c}Object.defineProperty(a,"__esModule",{value:!0});a["default"]=function(a,b){var f=[],c=[],g=[];a[0]!==k&&(a=""+k+a+v);for(var m=-1,w="",r=0;r<a.length;r++){var u=a[r],p=f[f.length-1],x=u===
v;if(u===k)m+=1,w=c,p=g,f.push(m),w.push(null),p.push(null),w="";else if(x){var A=f,x=c,u=g,w=b[w];A.pop();"boolean"==typeof w&&(x[p]=l(x[p],w,u[p]));w=A[A.length-1];void 0!==w&&(x[w]=l(x[w],x[p],u[w]));w=""}else" "===u?g[p]&&"boolean"==typeof b[w]&&(c[p]=l(c[p],b[w],g[p]),w=""):(x=(u+a[r+1]).toUpperCase()===d,A=(u+a[r+1]+a[r+2]).toUpperCase()===t,x||A?(u=g,w=b[w],x=x?d:t,A=r,r=("boolean"==typeof w&&(c[p]=l(c[p],w,u[p])),u[p]=x,x===d?A+=1:x===t&&(A+=2),A),w=""):w+=u)}return c[0]};var d="OR",t="AND",
k="(",v=")"},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.executeFunctionByName=function(a){try{var b=window,m=a&&a.split("."),k=m&&m.pop();for(a=0;a<m.length;a++)b=b[m[a]];if("function"==typeof b[k])return b[k].apply(b)}catch(v){console.error("apt. Failed to execute function. Error is",v)}}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.replaceAllDomains=function(a,b,m,k){if(a.hasAttribute(b)){var v=a.getAttribute(b),h=document.createElement("a");h.href=
v;0===v.indexOf(k)&&(h.href=v.replace(k,m),a.setAttribute(b,h.href))}}},function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.getImage=a.IMAGE_MAP=void 0;m=b(5);var l=b(12),d=b(1),t=b(6),k=new m.LocalCache;b=function(a){return d.staticContentHost+"/images/"+a+".svg"};var v=a.IMAGE_MAP={unsatisfied:b("unsatisfied"),satisfied:b("satisfied"),neutral:b("neutral")};a.getImage=function(a,b){var d=k[a];return d?b(d):(l.AjaxUtil.getData(v[a],function(c){c=(0,t.toDom)(c,!0);return k[a]=c,b(c)}),
null)}},function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"2" d\x3d"M9.75 1.5l12 13.125-12 13.125"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cg stroke-width\x3d"4"\x3e\x3cpath d\x3d"M13.5 5.25l9.375 9.375L13.5 24M23.25 14.5h-18"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cg\x3e\x3cpath d\x3d"m15,3.75l12.75,11.25l-12.75,11.25l-5.25,0l12.75,-11.25l-12.75,-11.25l5.25,0z"\x3e\x3c/path\x3e\x3cpath d\x3d"m3,13l21,0l0,3.75l-21,0l0,-3.75z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cg stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"4"\x3e\x3cpath d\x3d"M15.75 7.5l6 7.5-6 7.5M6.75 15h15"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cg\x3e\x3cpath d\x3d"m2.75,13.75l21,0l0,3l-21,0l0,-3z"\x3e\x3c/path\x3e\x3cpath d\x3d"m15.5,23.442l2.09,2.058l10.285,-10.125l-10.284,-10.125l-2.091,2.058l8.194,8.067l-8.194,8.067z" fill-rule\x3d"nonzero"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M19.695 16.125l-4.32 4.253 1.394 1.372L23.625 15l-6.856-6.75-1.394 1.372 4.32 4.253H7.5v2.25h12.195z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m12.06,10.304l1.47,4.386c0.059,0.17 0.059,0.45 0,0.621l-1.47,4.386c-0.174,0.518 0.046,0.707 0.491,0.422l7.475,-4.774c0.3,-0.19 0.298,-0.499 0,-0.689l-7.475,-4.774c-0.444,-0.283 -0.665,-0.096 -0.492,0.422l0.001,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m10.05,6.097a0.664,0.664 0 0 0 -0.3,0.537c1.493,2.912 3.285,5.865 4.731,8.366l-4.64,8.043a0.662,0.662 0 0 0 0.12,0.788c0.21,0.196 0.555,0.225 0.793,0.067c4.154,-2.896 8.47,-5.765 12.185,-8.346c0.148,-0.11 0.311,-0.225 0.311,-0.553a0.656,0.656 0 0 0 -0.281,-0.533c-4.194,-2.855 -8.465,-5.794 -12.205,-8.355c-0.296,-0.166 -0.435,-0.125 -0.714,-0.014z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m25.682,16.355c0.762,-0.77 0.756,-2.02 -0.01,-2.792l-9.083,-9.116c-2.12,-2.113 -5.301,1.057 -3.181,3.17l3.963,3.95c0.66,0.658 0.437,1.19 -0.485,1.19l-10.886,0a2.247,2.247 0 0 0 -2.25,2.243a2.246,2.246 0 0 0 2.25,2.241l10.886,0c0.927,0 1.149,0.532 0.485,1.194l-3.963,3.947c-2.12,2.115 1.06,5.285 3.18,3.17l9.094,-9.197z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(m,
a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m27.508,15.032l-13.964,8.693l0,-6.015l-11.081,0l0,-5.45l11.08,0l0,-5.92l13.965,8.692zm1.742,0c0,-0.63 -0.33,-1.228 -0.841,-1.575l-13.964,-8.693a1.653,1.653 0 0 0 -1.742,-0.032c-0.541,0.315 -0.87,0.913 -0.87,1.575l0,4.094l-9.342,0c-0.96,0 -1.742,0.82 -1.742,1.827l0,5.449c0,1.008 0.781,1.827 1.742,1.827l9.34,0l0,4.189c0,0.662 0.331,1.26 0.87,1.575c0.541,0.315 1.202,0.315 1.743,-0.032l13.964,-8.693c0.51,-0.283 0.841,-0.881 0.841,-1.511l0.001,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m16.616,22.44a0.591,0.591 0 0 1 -0.345,-0.533l0,-3.365l-10.331,1.423a0.625,0.625 0 0 1 -0.482,-0.14a0.591,0.591 0 0 1 -0.208,-0.447l0.003,-8.76c0,-0.17 0.077,-0.336 0.208,-0.448a0.615,0.615 0 0 1 0.482,-0.14l10.331,1.423l0,-3.362c0,-0.229 0.134,-0.435 0.345,-0.533a0.62,0.62 0 0 1 0.641,0.072l8.765,6.905a0.587,0.587 0 0 1 0,0.922l-8.77,6.908a0.597,0.597 0 0 1 -0.639,0.075zm8.066,-7.444l-7.199,-5.67l0,3.485l-11.019,-1.511l0,7.4l11.019,-1.512l0,3.488l7.2,-5.679l-0.001,-0.001z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"3" d\x3d"M12.5 3l9.75 11.625L12.5 26.25"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-width\x3d"4" d\x3d"M11.5 5.25l9.375 9.375L11.5 24"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m13,3.75l12.75,11.25l-12.75,11.25l-5.25,0l12.75,-11.25l-12.75,-11.25l5.25,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"4" d\x3d"M12.75 7.5l6 7.5-6 7.5"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m10.5,23.442l2.09,2.058l10.285,-10.125l-10.284,-10.125l-2.091,2.058l8.194,8.067l-8.194,8.067z" fill-rule\x3d"nonzero"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M12 20.378l1.394 1.372L20.25 15l-6.856-6.75L12 9.622 17.463 15z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cg stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"2"\x3e\x3cpath d\x3d"M15.75 1.5l12 13.125-12 13.125M2.25 14.5h24"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cg stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"3"\x3e\x3cpath d\x3d"M3.75 14.5H24M16.5 3l9.75 11.625L16.5 26.25"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"4" d\x3d"M6 15l7 6L24 9"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd" fill\x3d"none"\x3e\x3cpath stroke\x3d"none" d\x3d"m0,0l30,0l0,30l-30,0l0,-30z"\x3e\x3c/path\x3e\x3cg stroke-width\x3d"4" stroke-linejoin\x3d"round" stroke-linecap\x3d"round"\x3e\x3cpath d\x3d"m15.75,7.5l6,7.5l-6,7.5m-9,-7.5l15,0"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m5,21.237c0.261,-3.28 1.917,-9.413 10.625,-9.413l0,-3.204c-0.001,-0.234 0.13,-0.45 0.336,-0.555a0.602,0.602 0 0 1 0.64,0.06l8.01,6.082c0.245,0.187 0.389,0.48 0.389,0.79a0.99,0.99 0 0 1 -0.39,0.79l-7.999,6.08a0.601,0.601 0 0 1 -0.647,0.069a0.618,0.618 0 0 1 -0.34,-0.564l0,-3.204s-5.678,-1.057 -9.534,3.526a0.62,0.62 0 0 1 -0.703,0.16a0.636,0.636 0 0 1 -0.386,-0.617l-0.001,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m21.058,12.17l-3.12,-3.242a1.427,1.427 0 0 1 0,-2.012a1.416,1.416 0 0 1 2.005,0l5.647,5.665a1.42,1.42 0 0 1 0,1.997l-5.648,5.665a1.408,1.408 0 0 1 -1.996,0.007a1.42,1.42 0 0 1 -0.008,-2.004l3.12,-3.243l-9.822,0c-0.387,0 -0.758,0.158 -1.025,0.44a1.42,1.42 0 0 0 -0.387,1.047l0,5.594c0,0.782 -0.632,1.416 -1.412,1.416c-0.78,0 -1.411,-0.634 -1.411,-1.416l0,-5.594a4.258,4.258 0 0 1 1.214,-3.05a4.229,4.229 0 0 1 3.02,-1.27l9.823,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m12.986,22l-5.986,-5.621l1.513,-1.63l4.321,4.052l9.502,-10.801l1.664,1.479l-11.014,12.521z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath strok\x3d"none" d\x3d"m10.288,14.997l3.617,2.63l7.593,-9.584a1.352,1.352 0 0 1 1.838,-0.313l0.101,0.071c0.597,0.404 0.743,1.197 0.324,1.773l-8.285,12.307c-0.313,0.43 -0.623,0.58 -1.168,0.615c-0.545,0.035 -0.875,-0.16 -1.202,-0.476l-4.715,-5.197a1.256,1.256 0 0 1 0,-1.823l0.007,-0.003a1.373,1.373 0 0 1 1.89,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m8.133,11.868l6.355,4.846l9.237,-10.374a1.021,1.021 0 0 1 1.431,-0.09c0.378,0.33 0.454,0.885 0.179,1.303l-10.847,16.447l-7.798,-10.752a0.997,0.997 0 0 1 0.233,-1.4c0.364,-0.26 0.856,-0.251 1.21,0.02z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M23.206 8.831A2.636 2.636 0 0 0 21.286 8c-.725 0-1.407.295-1.918.831l-6.053 6.322-2.684-2.805a2.635 2.635 0 0 0-1.919-.831c-.724 0-1.407.295-1.92.831-1.056 1.105-1.056 2.904.001 4.01l4.602 4.809a2.618 2.618 0 0 0 3.41.367c.156-.108.3-.23.428-.365l7.97-8.327A2.884 2.884 0 0 0 24 10.837a2.888 2.888 0 0 0-.794-2.006z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M19.695 16.125l-4.32 4.253 1.394 1.372L23.625 15l-6.856-6.75-1.394 1.372 4.32 4.253H7.5v2.25h12.195z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M17.332 8.003c.08.011.156.045.22.098l7.273 6.034c.11.091.175.232.175.38 0 .15-.065.29-.175.381l-7.273 6.034a.432.432 0 0 1-.476.052.487.487 0 0 1-.256-.43v-2.42c-.576-.025-1.863-.06-3.764.287-2.268.413-5.046 1.367-7.302 3.461a.433.433 0 0 1-.55.04.498.498 0 0 1-.182-.552c1.899-6.21 7.676-9.169 11.798-10.347V8.487c0-.14.054-.273.153-.365a.435.435 0 0 1 .359-.118v-.001z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m10.05,6.097a0.664,0.664 0 0 0 -0.3,0.537c1.493,2.912 3.285,5.865 4.731,8.366l-4.64,8.043a0.662,0.662 0 0 0 0.12,0.788c0.21,0.196 0.555,0.225 0.793,0.067c4.154,-2.896 8.47,-5.765 12.185,-8.346c0.148,-0.11 0.311,-0.225 0.311,-0.553a0.656,0.656 0 0 0 -0.281,-0.533c-4.194,-2.855 -8.465,-5.794 -12.205,-8.355c-0.296,-0.166 -0.435,-0.125 -0.714,-0.014z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(m,a){m.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m9,6.634c6.353,8.365 0.09,16.41 0.09,16.41a0.662,0.662 0 0 0 0.12,0.787c0.21,0.196 0.556,0.225 0.794,0.067c4.154,-2.896 8.47,-5.765 12.185,-8.346c0.148,-0.11 0.311,-0.225 0.311,-0.553a0.656,0.656 0 0 0 -0.281,-0.533c-4.194,-2.855 -8.465,-5.794 -12.205,-8.355c-0.296,-0.166 -0.435,-0.125 -0.714,-0.014a0.665,0.665 0 0 0 -0.3,0.537z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(m,
a){(function(a){m.exports=a}).call(a,{})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}function d(a){p["default"].isEditorMode()?p["default"].saveConfig():((new r.EventTracker).initCollector(),(0,I.isWebApp)(a)||x["default"].init(),(0,D.appReady)(),z["default"].init(),J["default"].init(),
C["default"].init())}function t(a){p["default"].isEditorMode()&&p["default"].loadEditor(a)&&(0,p["default"])("setConfig",(0,q.getConfigObj)())&&(0,p["default"])("init",a)}function k(a,b){if(!(0,q.getConfigObj)().hasOwnProperty(a))return void B.logger.logInternalError(Error("Unrecognized config field: "+a+". Cannot set config change handler"));(0,q.updateConfigChangeHandlers)(a,b)}function v(){k("enableTag",function(a,b){!a&&b?h(K,H):a&&0==!b&&F.KnowledgeCenterManager.removeWidget()});k("widgetEnabled",
function(a,b){"loading"!==document.readyState&&(!a&&b?F.KnowledgeCenterManager.initWidget({apiKey:g.eventTrackData.data[g.productIdParameter],aptId:g.eventTrackData.data[g.aptrinsicIdParam]}):a&&!b&&F.KnowledgeCenterManager.removeWidget())})}function h(a,b,f){w.AjaxUtil.loadFile("css",(0,q.getAssetEndpoint)("style")+"?a\x3d"+a,(0,q.getConfig)("crossOriginStyle")||a&&-1!==a.indexOf("AP-7SBC7L5BZ8ML"));g.eventTrackData[c.cacheSet](g.productIdParameter,a);g.eventTrackData[c.cacheSet]("sv",g.applicationVersion);
(0,q.isIframe)()||(u.UserData.initializeUser(a),g.eventTrackData[c.cacheSet](g.userIdParameter,u.UserData.getUserId()),g.eventTrackData[c.cacheSet]("vt",u.UserData.getUserType()),g.eventTrackData[c.cacheSet]("ai",u.UserData.getAptrinisId()),g.eventTrackData[c.cacheSet](g.sessionIdParam,u.UserData.getSessionId()));(b=O.q)&&0<b.length&&P["default"].call(b);g.windowRef[g.aptrinsicGlobalObjName]=N.aptExternal;t(a);d(a);p["default"].isEditorMode()||(0,q.featureEnabled)("pageView")&&(0,D.internalApt)("pageview");
g.windowRef[g.aptrinsicGlobalObjName].init=!0;if(a=(0,e.isOndemandState)())f=(0,F.getKcDataFromSessionStorage)(),b=f.kcId,f=f.categoryId,(0,F.getKcEngagement)(a,!1,b,f);!(0,q.isIframe)()&&e.isStartOverState&&(0,e.startOverEngagement)(function(a){y.EngagementDrawer.draw([a],!0)})}function n(){setTimeout(function(){return(0,N.initKnowledgeCenterWrapper)(!1,!0,function(a){a||setTimeout(function(){return R(!1,!1)},M)})},M)}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:
function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},c=b(5),g=b(4),q=b(1),w=b(12),r=b(409),u=b(24);m=b(14);var p=l(m);m=b(99);var x=l(m),A=b(11),B=b(3),y=b(43),e=b(28),D=b(25);m=b(391);var z=l(m);m=b(95);var J=l(m),F=b(30),I=b(0);m=b(35);var C=l(m),E=b(101),N=b(64);m=b(100);var P=l(m),L=b(103),O=g.windowRef[g.aptrinsicGlobalObjName],M=750;Object.entries||(Object.entries=function(a){for(var b=Object.keys(a),c=b.length,d=Array(c);c--;)d[c]=
[b[c],a[b[c]]];return d});String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(!b||0>b?0:+b,a.length)===a});Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),d=c.length;return function(e){if("function"!=typeof e&&("object"!==(void 0===e?"undefined":f(e))||null===e))throw new TypeError("Object.keys called on non-object");
var g=[],h=void 0,k=void 0;for(h in e)a.call(e,h)&&g.push(h);if(b)for(k=0;k<d;k++)a.call(e,c[k])&&g.push(c[k]);return g}}());Object.values||(Object.values=function(a){return Object.keys(a).map(function(b){return a[b]})});window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(a,b){b=b||window;for(var c=0;c<this.length;c++)a.call(b,this[c],c,this)});String.prototype.endsWith||(String.prototype.endsWith=function(a,b){return(void 0===b||b>this.length)&&(b=this.length),this.substring(b-
a.length,b)===a});var K=void 0,H=void 0;try{if(!0!==g.windowRef[g.aptrinsicGlobalObjName].init){if(!O)throw Error("cannot initiate without tag");K=O.p;g.eventTrackData[c.cacheSet](g.productIdParameter,K);(0,q.setCachedConfig)(E.tagConfigKeyName,O.c);K?function(){(0,L.copyLocalStorageToSessionStorageGuideKeys)();v();(0,q.overrideConfig)((0,q.getCachedConfig)(E.tagConfigKeyName),!1);p["default"].saveConfig();setInterval(function(){(0,E.getServerConfiguration)(!1,K,H,(0,q.getCachedConfig)(E.tagConfigKeyName),
h)},6E5);(0,E.getServerConfiguration)(!0,K,H,(0,q.getCachedConfig)(E.tagConfigKeyName),h);A.internalEventListener.addListener("identify",n);A.internalEventListener.addListener("set",function(a){return"user"===a&&n()});A.internalEventListener.addListener("sessionInitialized",n);A.internalEventListener.addListener("sessionExpired",e.hideAnyActiveEngagement)}():B.logger.logInternalError(Error("Tag does not contain proper API key"))}}catch(V){B.logger.logInternalError(V)}var R=(0,I.debounce)(N.initKnowledgeCenterWrapper,
M)},,,,,function(m,a,b){Object.defineProperty(a,"__esModule",{value:!0});var l=b(6),d=b(0),t=b(3),k=b(15),v=(m=b(14))&&m.__esModule?m:{"default":m},h=(m=b(42))&&m.__esModule?m:{"default":m},n=b(1),f=b(95),c=["getElementText","registerFeatureRules"];b=new function(){function a(b){if((0,k.isValidCallingDomain)(b.origin))try{var d=(0,k.parseEvent)(b);if(d&&-1<c.indexOf(d.aptrinsicEventType)){var g=d.content;switch(d.aptrinsicEventType){case "getElementText":var n=(0,l.getElementText)(g.cssSelector);
h["default"].textElementResponse(n,d.aptrinsicRequestId);break;case "registerFeatureRules":(0,f.loadIframeRules)(g.rules);break;default:t.logger.logInternalError(Error("tracker iframe client got unsupported message, data: "+JSON.stringify(d)))}}}catch(m){t.logger.logInternalError(m)}}(0,n.isIframe)()&&!v["default"].isEditorMode()&&(0,d.addEventListener)(window,"message",a,!1)};a["default"]=b},,,,,,,,,function(m,a,b){function l(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(a,"__esModule",
{value:!0});var d=b(0),t=b(3),k=b(15);m=b(99);var v=l(m),h=b(1),n=b(7);m=b(14);var f=l(m),c=b(41),g=b(95),q=l(g);b=b(102);var w=l(b),r="register track lead fetchElementTextResponse apt-log textFeatureMatches".split(" ");b=new function(){function a(b){if((0,k.isValidCallingDomain)(b.origin))try{var f=(0,k.parseEvent)(b);if(f&&-1<r.indexOf(f.aptrinsicEventType)){var l=f.content;switch(f.aptrinsicEventType){case "register":(0,n.registerIframe)(b.source,b.origin,f.aptrinsicIframeId,(0,h.getConfig)("framesetMode"));
var m=(0,g.getRawFeatureRules)();(0,d.isNotEmptyArr)(m)&&w["default"].syncFeatureRules(m);break;case "track":if((0,h.isIframeDisabled)(l.aptrinsicEventType))return void t.logger.logInternalError(Error("master script got unsupported track event from iframe, data: "+JSON.stringify(l)));c.api.trackEvent(l.aptrinsicEventType,l.properties,"identify"===l.aptrinsicEventType?c.identifyCallback:void 0,l.customEventName,!0,l.passedGlobalContext);break;case "lead":var u=f.content;v["default"].track(u.source,
u.email,u.userData,u.formFields);break;case "fetchElementTextResponse":(0,n.decrementState)(f.aptrinsicRequestId,l.text);break;case "apt-log":t.logger.reportToServer("aptrinsic web sdk error: "+f.content.message+"\n"+f.content.extraMessage+"\n at: "+f.content.stackTrace);break;case "textFeatureMatches":if((0,h.isIframe)())break;q["default"].evaluateIframeMatches(f.content.featureMatchData);break;default:t.logger.logInternalError(Error("tracker proxy got unsupported message, data: "+JSON.stringify(f)))}}}catch(e){t.logger.logInternalError(e)}}
this.init=function(){(0,h.isIframe)()||f["default"].isEditorMode()||(0,d.addEventListener)(window,"message",a,!1)}};a["default"]=b},,,,,,,,,,,,,,,,,,function(m,a,b){function l(a){if(a.previousElementSibling)return a.previousElementSibling;for(;a=a.previousSibling&&1!==a.nodeType;);return a}function d(a,b){return-1<B.indexOf(b)&&!(0,c.isBlank)(a)&&!a.startsWith("data")&&(a=(0,w.maskFullUrl)(a)),255<a.length?a.substring(0,255):a}function t(a,b){if(!a||!a[e])return!1;if(!a[e][D])throw Error("element have tag name but it is not a string "+
a[e]+", full element"+a);var d=a[e][D]();if(-1<p.indexOf(d)||1!=a.nodeType||"select"===d&&"change"!==b.type||"change"===b.type&&-1==x.indexOf(d)||"submit"===b.type&&"form"!==d)return!1;for(d=a;d&&!(0,c.isRootTag)(d);){var f=d.classList.contains("apt-guide-popup")||d.classList.contains("apt-badge");if(1===d.nodeType&&f||"true"===d.getAttribute("data-apt-disable-selector"))return!1;d=(0,g.getParentNode)(d)}return!0}Object.defineProperty(a,"__esModule",{value:!0});a.EventTracker=void 0;var k=function(){function a(b,
c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),v=b(3),h=b(9),n=b(1),f=b(25),c=b(0),g=b(17),q=b(4),w=b(20),r=(m=b(95))&&m.__esModule?m:{"default":m},u=b(6),p=["html","body","option"],x=["select"],A=["id","class"],B=["href","src"],y=new RegExp(/\s\s+/g),e="tagName",D="toLowerCase";b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.lastEvent=null;this.pageHight=(0,h.getPageHeight)();this.pageWidth=(0,h.getPageWidth)()}return k(a,[{key:"initCollector",value:function(){var a=this;if((0,n.getConfig)("enableTag")){v.logger.log("starting collector for all events");var b=(0,n.getConfig)("usePointerEvent");if((0,n.featureEnabled)("click")&&(this.addEventListener(document,b?(0,h.getPointerDownEventName)():"mousedown",function(b){a.lastEvent=b.target}),this.addEventListener(document,b?(0,h.getPointerUpEventName)():"mouseup",function(b){(0,
u.checkIfSameElement)(a.lastEvent,b.target)&&(0,n.featureEnabled)("click")&&a.sendWebEvent(b)}),(0,n.getConfig)("keyboardTriggerClick")&&this.addEventListener(document,"keydown",function(b){(-1<["Space","Enter"].indexOf(b.code)||-1<[13,32].indexOf(b.keyCode))&&(0,n.featureEnabled)("click")&&!(0,c.isEnterAllowedElement)(b.target)&&a.sendWebEvent(b)}),this.addEventListener(document,"change",function(b){(0,n.featureEnabled)("click")&&a.sendWebEvent(b)})),(0,n.featureEnabled)("form")&&!(0,c.isWebApp)(q.eventTrackData.data[q.productIdParameter])&&
(this.addEventListener(document,"submit",function(b){(0,n.featureEnabled)("form")&&a.sendWebEvent(b)}),this.addEventListener(document,"change",function(b){(0,n.featureEnabled)("form")&&a.sendWebEvent(b)})),(0,n.featureEnabled)("pageView"))try{if("onhashchange"in window&&!0===(0,n.getConfig)("autoTrackHash")&&window.addEventListener("hashchange",function(){(0,n.featureEnabled)("pageView")&&(0,f.internalApt)("pageview")}),history&&history.pushState){var d=window.location.href;this.handlePushState=this.handlePushState.bind(this);
this.oldPushState=history.pushState;history.pushState=this.handlePushState;window.addEventListener("popstate",function(a){a.singleSpa||d!==window.location.href&&(d=window.location.href,(0,n.featureEnabled)("pageView")&&(0,f.internalApt)("pageview"))})}history&&history.replaceState&&(this.handleReplaceState=this.handleReplaceState.bind(this),this.oldReplaceState=history.replaceState,history.replaceState=this.handleReplaceState)}catch(e){if(!(e instanceof TypeError&&e.message&&0<=e.message.indexOf("read only property")))throw e;
!function(){var a=window.location.href,b=setInterval(function(){try{(0,n.featureEnabled)("pageView")&&window.location.href!==a&&(a=window.location.href,(0,f.internalApt)("pageview"))}catch(c){v.logger.logInternalError(Error("Alternate pageview tracking failed"+c)),clearInterval(b)}},1E3)}()}}}},{key:"handlePushState",value:function(){this.handleStateChange(arguments,this.oldPushState,!1)}},{key:"handleReplaceState",value:function(){this.handleStateChange(arguments,this.oldReplaceState,!0)}},{key:"handleStateChange",
value:function(a,b,c){var d=window.location.href;if(b.apply(history,a),(0,n.getConfig)("enableTag")){if(c&&3<=a.length&&(b=document.createElement("a"),b.href=a[2],b.href===d))return;(0,n.featureEnabled)("pageView")&&setTimeout(function(){try{(0,f.internalApt)("pageview")}catch(a){v.logger.logInternalError(Error("failed to handle push state "+a))}},0)}}},{key:"sendWebEvent",value:function(a){try{if((0,n.getConfig)("enableTag")){var b=(0,g.getEventTarget)(a),h=b,k=[],m=void 0,p={};if(3==a.which)return void v.logger.log("ignoring right click");
if(t(b,a)){for(;null!==b&&"html"!==b[e][D]();){var u=b,w={},x=void 0,z=void 0,B=u[e].toLowerCase(),H=(0,n.getConfig)("elementAttributeDenyMap")[B],z=q.EXTRA_ATTRIBUTES_BY_ELEMENT_TYPE[B];w.tagName=u[e];w.attributes=0<u.attributes.length?{}:null;for(var R=0;R<u.attributes.length;R++){var x=u.attributes[R],V=x.name.toLowerCase();H&&-1<H.indexOf(V)||(x.specified&&-1<A.indexOf(V)||(0,c.matchEither)((0,n.getConfig)("elementAttributeWhitelist"),x.name)||z&&-1<z.indexOf(V))&&(w.attributes[x.name]="class"===
x.name.toLowerCase()?d(x.value.replace(y," "),x.name.toLowerCase()):d(x.value,x.name.toLowerCase()))}"select"===u[e].toLowerCase()&&(w.attributes.selectedIndex=u.selectedIndex,((0,c.isEmptyArr)(H)||-1===H.value)&&(w.attributes.selectedValue=u.value));z=x=1;for(R=u;R=l(R);)++x,R[e]==u[e]&&z++;m=(w.child_n=x,w.child_tag_n=z,w);k.push(m);b=(0,g.getParentNode)(b)}p.elementTree=k.reverse();var p=this.populateExtraProperties(h,a,p),U=this.getEventType(h,a);try{r["default"].matchElement(h)}catch(Q){v.logger.logInternalError(Q,
"failed to process feature matches for element click")}(0,f.internalApt)(U,p)}}}catch(Q){v.logger.logInternalError(Q,"sendWebEvent:"+a+"\nelement:"+a.target)}}},{key:"getEventType",value:function(a,b){return"form"===a[e][D]()?"formSubmit":"a"==a[e][D]()?"linkClick":"click"}},{key:"populateExtraProperties",value:function(a,b,c){if((0,n.getConfig)("enableTag")){if("form"===a[e][D]()&&"submit"===b.type){b={};var d=void 0,f=void 0,g=void 0,h=a.querySelectorAll("input");if(void 0!==h){for(var k=0;k<h.length;k++)d=
h[k],"password"!==(g=d.getAttribute("type"))&&"button"!==g&&"submit"!==g&&2048>=d.value.length&&(f=d.getAttribute("id")||d.getAttribute("name"))&&(b[f]=d.value);c.fof=b}}"button"===a[e][D]()&&((b=(0,n.getConfig)("elementAttributeDenyMap").button)&&-1!==b.indexOf("value")||(c.value=a.textContent));if("select"===a[e][D]()&&(b=(0,n.getConfig)("elementAttributeDenyMap").select,!b||-1===b.indexOf("value")))if(a.multiple){b=[];a=a.options;for(d=0;d<a.length;d++)a[d].selected&&b.push(a[d].value);c.value=
b.join(",")}else c.value=a.value;return c}}},{key:"addEventListener",value:function(a,b,c){var d=(0,n.getConfig)("sfdcTemplate");if(d&&a===document&&(a=d),a.addEventListener)a.addEventListener(b,c,!0);else{if(!a.attachEvent)return v.logger.log("there is no support for adding events"),!1;a.attachEvent("on"+b,c)}return!0}}]),a}();a.EventTracker=b},,,,function(m,a,b){b(377);b(105);b(104);m.exports=b(382)}])}
function setupUserTelemetryAdapter(){function m(a){return function(b){function m(b){b=a(b);return b.startsWith("/")?"https://obfuscated-rm-base.example.com"+b:b}b.url&&(b.url=m(b.url));b.path&&(b.path=a(b.path));b.referrer&&(b.referrer=m(b.referrer));b.title&&(b.title="");return b}}function a(a,b){var m=window.aptrinsic||function(){m.q.push(arguments)};m.c=Object.assign({},b,m.c);m.p=a;m.q=[];window.aptrinsic=m}var b=!1;window.userTelemetry={initialize:function(l){b||(b=!0,a("AP-YFGMCGUNNIFB-2",{espProxyDomain:l.contentHost,
contentProxyDomain:l.contentHost,storageProxyDomain:l.contentHost+"/storage",usePOST:l.usePOST||!1,filterUrls:l.filterUrls||["*"],filterType:l.filterType||"exclude",maskUrlFunction:m(l.sanitizeUrl),trustedOrigin:window.location.origin,stripSafeUrlProtocol:!1,elementAttributeDenyMap:{button:["value"],select:["value"]}}),sonatypeStartGainsightPx());var d=l.visitor||{id:"anonymous-"+l.account.id};window.aptrinsic("set","globalContext",{rm_serverVersion:l.account.rm_serverVersion});window.aptrinsic("identify",
d,l.account)}}}(function(){setupUserTelemetryAdapter()})();